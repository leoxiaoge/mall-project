{"map":"{\"version\":3,\"sources\":[\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/recharge/recharge.vue?vue&type=script&lang=js&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/recharge/recharge.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js??ref--6-oneOf-1-2!/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/recharge/recharge.vue?vue&type=style&index=0&lang=css&\",\"/Users/lee/Desktop/github/mall-project/src/pages/ucenter/recharge/recharge.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/recharge/recharge.vue?vue&type=template&id=73d984c3&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/recharge/recharge.vue?vue&type=template&id=73d984c3&\"],\"names\":[\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_recharge_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_recharge_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"d\",\"_recharge_vue_vue_type_template_id_73d984c3___WEBPACK_IMPORTED_MODULE_0__\",\"_recharge_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__\",\"component\",\"Object\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_recharge_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_recharge_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"data\",\"title\",\"loading\",\"price\",\"providerList\",\"onLoad\",\"methods\",\"weixinPay\",\"_this\",\"this\",\"console\",\"log\",\"uni\",\"login\",\"success\",\"e\",\"request\",\"url\",\"concat\",\"code\",\"res\",\"statusCode\",\"ret\",\"payment\",\"paymentData\",\"requestPayment\",\"timeStamp\",\"nonceStr\",\"package\",\"signType\",\"paySign\",\"showToast\",\"fail\",\"showModal\",\"content\",\"errMsg\",\"showCancel\",\"complete\",\"desc\",\"_requestPayment\",\"_asyncToGenerator\",\"_regenerator\",\"default\",\"mark\",\"_callee\",\"index\",\"orderInfo\",\"_this2\",\"wrap\",\"_context\",\"prev\",\"next\",\"getOrderInfo\",\"id\",\"sent\",\"abrupt\",\"provider\",\"stop\",\"_x\",\"_x2\",\"apply\",\"arguments\",\"appid\",\"Promise\",\"result\",\"priceChange\",\"detail\",\"value\",\"render\",\"_vm\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"staticRenderFns\"],\"mappings\":\"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\",\"sourcesContent\":[\"import mod from \\\"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recharge.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recharge.vue?vue&type=script&lang=js&\\\"\",\"import { render, staticRenderFns } from \\\"./recharge.vue?vue&type=template&id=73d984c3&\\\"\\nimport script from \\\"./recharge.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./recharge.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./recharge.vue?vue&type=style&index=0&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"import mod from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recharge.vue?vue&type=style&index=0&lang=css&\\\"; export default mod; export * from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recharge.vue?vue&type=style&index=0&lang=css&\\\"\",\"//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n\\nexport default {\\n    data() {\\n        return {\\n            title: 'request-payment',\\n            loading: false,\\n            price: 1,\\n            providerList: []\\n        }\\n    },\\n    onLoad: function() {\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    },\\n    methods: {\\n        weixinPay() {\\n            console.log(\\\"发起支付\\\");\\n            this.loading = true;\\n            uni.login({\\n                success: (e) => {\\n                    console.log(\\\"login success\\\", e);\\n                    uni.request({\\n                        url: `https://unidemo.dcloud.net.cn/payment/wx/mp?code=${e.code}&amount=${this.price}`,\\n                        success: (res) => {\\n                            console.log(\\\"pay request success\\\", res);\\n                            if (res.statusCode !== 200) {\\n                                uni.showModal({\\n                                    content: \\\"支付失败，请重试！\\\",\\n                                    showCancel: false\\n                                });\\n                                return;\\n                            }\\n                            if (res.data.ret === 0) {\\n                                console.log(\\\"得到接口prepay_id\\\", res.data.payment);\\n                                let paymentData = res.data.payment;\\n                                uni.requestPayment({\\n                                    timeStamp: paymentData.timeStamp,\\n                                    nonceStr: paymentData.nonceStr,\\n                                    package: paymentData.package,\\n                                    signType: 'MD5',\\n                                    paySign: paymentData.paySign,\\n                                    success: (res) => {\\n                                        uni.showToast({\\n                                            title: \\\"感谢您的赞助!\\\"\\n                                        })\\n                                    },\\n                                    fail: (res) => {\\n                                        uni.showModal({\\n                                            content: \\\"支付失败,原因为: \\\" + res\\n                                                .errMsg,\\n                                            showCancel: false\\n                                        })\\n                                    },\\n                                    complete: () => {\\n                                        this.loading = false;\\n                                    }\\n                                })\\n                            } else {\\n                                uni.showModal({\\n                                    content: res.data.desc,\\n                                    showCancel: false\\n                                })\\n                            }\\n                        },\\n                        fail: (e) => {\\n                            console.log(\\\"fail\\\", e);\\n                            this.loading = false;\\n                            uni.showModal({\\n                                content: \\\"支付失败,原因为: \\\" + e.errMsg,\\n                                showCancel: false\\n                            })\\n                        }\\n                    })\\n                },\\n                fail: (e) => {\\n                    console.log(\\\"fail\\\", e);\\n                    this.loading = false;\\n                    uni.showModal({\\n                        content: \\\"支付失败,原因为: \\\" + e.errMsg,\\n                        showCancel: false\\n                    })\\n                }\\n            })\\n        },\\n        async requestPayment(e, index) {\\n            this.providerList[index].loading = true;\\n            let orderInfo = await this.getOrderInfo(e.id);\\n            console.log(\\\"得到订单信息\\\", orderInfo);\\n            if (orderInfo.statusCode !== 200) {\\n                console.log(\\\"获得订单信息失败\\\", orderInfo);\\n                uni.showModal({\\n                    content: \\\"获得订单信息失败\\\",\\n                    showCancel: false\\n                })\\n                return;\\n            }\\n            uni.requestPayment({\\n                provider: e.id,\\n                orderInfo: orderInfo.data,\\n                success: (e) => {\\n                    console.log(\\\"success\\\", e);\\n                    uni.showToast({\\n                        title: \\\"感谢您的赞助!\\\"\\n                    })\\n                },\\n                fail: (e) => {\\n                    console.log(\\\"fail\\\", e);\\n                    uni.showModal({\\n                        content: \\\"支付失败,原因为: \\\" + e.errMsg,\\n                        showCancel: false\\n                    })\\n                },\\n                complete: () => {\\n                    this.providerList[index].loading = false;\\n                }\\n            })\\n        },\\n        getOrderInfo(e) {\\n            let appid = \\\"\\\";\\n\\n\\n\\n            let url = 'https://demo.dcloud.net.cn/payment/?payid=' + e + '&appid=' + appid + '&total=' + this.price;\\n            return new Promise((res) => {\\n                uni.request({\\n                    url: url,\\n                    success: (result) => {\\n                        res(result);\\n                    },\\n                    fail: (e) => {\\n                        res(e);\\n                    }\\n                })\\n            })\\n        },\\n        priceChange(e) {\\n            console.log(e.detail.value)\\n            this.price = e.detail.value;\\n        }\\n    }\\n}\\n\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recharge.vue?vue&type=template&id=73d984c3&\\\"\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"pages/ucenter/recharge/recharge\"],{\"0e4a\":function(n,e,t){\"use strict\";t.r(e);var o=t(\"6db5\"),a=t.n(o);for(var c in o)\"default\"!==c&&function(n){t.d(e,n,function(){return o[n]})}(c);e[\"default\"]=a.a},4781:function(n,e,t){\"use strict\";t.r(e);var o=t(\"ce0a\"),a=t(\"0e4a\");for(var c in a)\"default\"!==c&&function(n){t.d(e,n,function(){return a[n]})}(c);t(\"5744\");var r=t(\"2877\"),i=Object(r[\"a\"])(a[\"default\"],o[\"a\"],o[\"b\"],!1,null,null,null);e[\"default\"]=i.exports},5744:function(n,e,t){\"use strict\";var o=t(\"705a\"),a=t.n(o);a.a},\"6db5\":function(n,e,t){\"use strict\";(function(n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var o=a(t(\"a34a\"));function a(n){return n&&n.__esModule?n:{default:n}}function c(n,e,t,o,a,c,r){try{var i=n[c](r),s=i.value}catch(u){return void t(u)}i.done?e(s):Promise.resolve(s).then(o,a)}function r(n){return function(){var e=this,t=arguments;return new Promise(function(o,a){var r=n.apply(e,t);function i(n){c(r,o,a,i,s,\"next\",n)}function s(n){c(r,o,a,i,s,\"throw\",n)}i(void 0)})}}var i={data:function(){return{title:\"request-payment\",loading:!1,price:1,providerList:[]}},onLoad:function(){},methods:{weixinPay:function(){var e=this;console.log(\"发起支付\"),this.loading=!0,n.login({success:function(t){console.log(\"login success\",t),n.request({url:\"https://unidemo.dcloud.net.cn/payment/wx/mp?code=\".concat(t.code,\"&amount=\").concat(e.price),success:function(t){if(console.log(\"pay request success\",t),200===t.statusCode)if(0===t.data.ret){console.log(\"得到接口prepay_id\",t.data.payment);var o=t.data.payment;n.requestPayment({timeStamp:o.timeStamp,nonceStr:o.nonceStr,package:o.package,signType:\"MD5\",paySign:o.paySign,success:function(e){n.showToast({title:\"感谢您的赞助!\"})},fail:function(e){n.showModal({content:\"支付失败,原因为: \"+e.errMsg,showCancel:!1})},complete:function(){e.loading=!1}})}else n.showModal({content:t.data.desc,showCancel:!1});else n.showModal({content:\"支付失败，请重试！\",showCancel:!1})},fail:function(t){console.log(\"fail\",t),e.loading=!1,n.showModal({content:\"支付失败,原因为: \"+t.errMsg,showCancel:!1})}})},fail:function(t){console.log(\"fail\",t),e.loading=!1,n.showModal({content:\"支付失败,原因为: \"+t.errMsg,showCancel:!1})}})},requestPayment:function(){var e=r(o.default.mark(function e(t,a){var c,r=this;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.providerList[a].loading=!0,e.next=3,this.getOrderInfo(t.id);case 3:if(c=e.sent,console.log(\"得到订单信息\",c),200===c.statusCode){e.next=9;break}return console.log(\"获得订单信息失败\",c),n.showModal({content:\"获得订单信息失败\",showCancel:!1}),e.abrupt(\"return\");case 9:n.requestPayment({provider:t.id,orderInfo:c.data,success:function(e){console.log(\"success\",e),n.showToast({title:\"感谢您的赞助!\"})},fail:function(e){console.log(\"fail\",e),n.showModal({content:\"支付失败,原因为: \"+e.errMsg,showCancel:!1})},complete:function(){r.providerList[a].loading=!1}});case 10:case\"end\":return e.stop()}},e,this)}));function t(n,t){return e.apply(this,arguments)}return t}(),getOrderInfo:function(e){var t=\"\",o=\"https://demo.dcloud.net.cn/payment/?payid=\"+e+\"&appid=\"+t+\"&total=\"+this.price;return new Promise(function(e){n.request({url:o,success:function(n){e(n)},fail:function(n){e(n)}})})},priceChange:function(n){console.log(n.detail.value),this.price=n.detail.value}}};e.default=i}).call(this,t(\"543d\")[\"default\"])},\"705a\":function(n,e,t){},ce0a:function(n,e,t){\"use strict\";var o=function(){var n=this,e=n.$createElement;n._self._c},a=[];t.d(e,\"a\",function(){return o}),t.d(e,\"b\",function(){return a})}},[[\"32ca\",\"common/runtime\",\"common/vendor\"]]]);","extractedComments":[]}