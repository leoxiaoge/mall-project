{"map":"{\"version\":3,\"sources\":[\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue\",\"/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue?vue&type=script&lang=js&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue?vue&type=template&id=18188b86&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue?vue&type=template&id=18188b86&\"],\"names\":[\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_wxParseImg_vue_vue_type_template_id_18188b86___WEBPACK_IMPORTED_MODULE_0__\",\"_wxParseImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"d\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__\",\"component\",\"Object\",\"name\",\"data\",\"newStyleStr\",\"preview\",\"props\",\"node\",\"type\",\"default\",\"methods\",\"wxParseImgTap\",\"e\",\"this\",\"src\",\"target\",\"dataset\",\"$host\",\"wxParseImgLoad\",\"console\",\"log\",\"_e$mp$detail\",\"mp\",\"detail\",\"width\",\"height\",\"recal\",\"wxAutoImageCal\",\"imageheight\",\"imageWidth\",\"_this$node$attr\",\"attr\",\"padding\",\"mode\",\"styleStr\",\"imageHeightStyle\",\"concat\",\"originalWidth\",\"originalHeight\",\"windowWidth\",\"$screen\",\"results\",\"removeImageUrl\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_wxParseImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_wxParseImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"render\",\"_vm\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"staticRenderFns\"],\"mappings\":\"6IAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,QAAAI,EAAAJ,EAAA,QAAA,IAAA,IAAAK,KAAAD,EAAA,YAAAC,GAAA,SAAAC,GAAAN,EAAAO,EAAAL,EAAAI,EAAA,WAAA,OAAAF,EAAAE,KAAA,CAAAD,GAAA,IAAAG,EAAAR,EAAA,QAOAS,EAAgBC,OAAAF,EAAA,KAAAE,CACdN,EAAA,WACAD,EAAA,KACAA,EAAA,MACF,EACA,KACA,KACA,MAIeD,EAAA,WAAAO,qHCFA,CACdE,KAAM,aACNC,KAFc,WAGb,MAAO,CACNC,YAAa,GACbC,SAAS,IAGXC,MAAO,CACNC,KAAM,CACLC,KAAMP,OACNQ,QAFK,WAGJ,MAAO,MAIVC,QAAS,CACRC,cADQ,SACMC,GACb,GAAKC,KAAKR,QAAV,CADgB,IAERS,EAAQF,EAAEG,OAAOC,QAAjBF,IACHA,GACLD,KAAKN,KAAKU,MAAMZ,QAAQS,EAAKF,KAG9BM,eARQ,SAQON,GACdO,QAAQC,IAAIR,GADK,IAETE,EAAQF,EAAEG,OAAOC,QAAjBF,IACR,GAAKA,EAAL,CAHiB,IAAAO,EAIST,EAAEU,GAAGC,OAAvBC,EAJSH,EAITG,MAAOC,EAJEJ,EAIFI,OACTC,EAAQb,KAAKc,eAAeH,EAAOC,GACjCG,EAA4BF,EAA5BE,YAAaC,EAAeH,EAAfG,WANJC,EAOSjB,KAAKN,KAAKwB,KAA5BC,EAPSF,EAOTE,QAASC,EAPAH,EAOAG,KACTC,EAAarB,KAAKN,KAAlB2B,SACFC,EACI,aAATF,EAAsB,GAAtB,WAAAG,OAAsCR,EAAtC,OACDf,KAAKT,YAAL,GAAAgC,OAAsBF,EAAtB,MAAAE,OAAmCD,EAAnC,aAAAC,OAA+DP,EAA/D,mBAAAO,QAA4FJ,EAA5F,SAGDL,eAtBQ,SAsBOU,EAAeC,GAAgB,IAErCN,EAAYnB,KAAKN,KAAKwB,KAAtBC,QACFO,EAAc1B,KAAKN,KAAKiC,QAAQhB,MAAQ,EAAIQ,EAC5CS,EAAU,GAEhB,GAAIJ,EAAgB,IAAMC,EAAiB,GAAI,CAAA,IACtCxB,EAAQD,KAAKN,KAAKwB,KAAlBjB,IACRD,KAAKN,KAAKU,MAAMyB,eAAe5B,GAC/BD,KAAKR,SAAU,EAchB,OAVIgC,EAAgBE,GAEnBE,EAAQZ,WAAaU,EACrBE,EAAQb,YAAcW,GAAeD,EAAiBD,KAGtDI,EAAQZ,WAAaQ,EACrBI,EAAQb,YAAcU,GAGhBG,oDC7EVlD,EAAAC,EAAAC,GAAA,IAAAkD,EAAApD,EAAA,QAAAqD,EAAArD,EAAAsD,EAAAF,GAAA,IAAA,IAAA/C,KAAA+C,EAAA,YAAA/C,GAAA,SAAAC,GAAAN,EAAAO,EAAAL,EAAAI,EAAA,WAAA,OAAA8C,EAAA9C,KAAA,CAAAD,GAA+cH,EAAA,WAAAmD,EAAG,qCCAld,IAAAE,EAAA,WAA0B,IAAAC,EAAAlC,KAAamC,EAAAD,EAAAE,eAA0BF,EAAAG,MAAAC,IACjEC,EAAA,GCDA7D,EAAAO,EAAAL,EAAA,IAAA,WAAA,OAAAqD,IAAAvD,EAAAO,EAAAL,EAAA,IAAA,WAAA,OAAA2D\",\"sourcesContent\":[\"import { render, staticRenderFns } from \\\"./wxParseImg.vue?vue&type=template&id=18188b86&\\\"\\nimport script from \\\"./wxParseImg.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./wxParseImg.vue?vue&type=script&lang=js&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n\\nexport default {\\n\\tname: \\\"wxParseImg\\\",\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tnewStyleStr: \\\"\\\",\\n\\t\\t\\tpreview: true\\n\\t\\t};\\n\\t},\\n\\tprops: {\\n\\t\\tnode: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\tdefault() {\\n\\t\\t\\t\\treturn {};\\n\\t\\t\\t}\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\twxParseImgTap(e) {\\n\\t\\t\\tif (!this.preview) return;\\n\\t\\t\\tconst { src } = e.target.dataset;\\n\\t\\t\\tif (!src) return;\\n\\t\\t\\tthis.node.$host.preview(src, e);\\n\\t\\t},\\n\\t\\t// 图片视觉宽高计算函数区\\n\\t\\twxParseImgLoad(e) {\\n\\t\\t\\tconsole.log(e);\\n\\t\\t\\tconst { src } = e.target.dataset;\\n\\t\\t\\tif (!src) return;\\n\\t\\t\\tconst { width, height } = e.mp.detail;\\n\\t\\t\\tconst recal = this.wxAutoImageCal(width, height);\\n\\t\\t\\tconst { imageheight, imageWidth } = recal;\\n\\t\\t\\tconst { padding, mode } = this.node.attr;\\n\\t\\t\\tconst { styleStr } = this.node;\\n\\t\\t\\tconst imageHeightStyle =\\n\\t\\t\\t\\tmode === \\\"widthFix\\\" ? \\\"\\\" : `height: ${imageheight}px;`;\\n\\t\\t\\tthis.newStyleStr = `${styleStr}; ${imageHeightStyle}; width: ${imageWidth}px; padding: 0 ${+padding}px;`;\\n\\t\\t},\\n\\t\\t// 计算视觉优先的图片宽高\\n\\t\\twxAutoImageCal(originalWidth, originalHeight) {\\n\\t\\t\\t// 获取图片的原始长宽\\n\\t\\t\\tconst { padding } = this.node.attr;\\n\\t\\t\\tconst windowWidth = this.node.$screen.width - 2 * padding;\\n\\t\\t\\tconst results = {};\\n\\n\\t\\t\\tif (originalWidth < 60 || originalHeight < 60) {\\n\\t\\t\\t\\tconst { src } = this.node.attr;\\n\\t\\t\\t\\tthis.node.$host.removeImageUrl(src);\\n\\t\\t\\t\\tthis.preview = false;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// 判断按照那种方式进行缩放\\n\\t\\t\\tif (originalWidth > windowWidth) {\\n\\t\\t\\t\\t// 在图片width大于手机屏幕width时候\\n\\t\\t\\t\\tresults.imageWidth = windowWidth;\\n\\t\\t\\t\\tresults.imageheight = windowWidth * (originalHeight / originalWidth);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// 否则展示原来的数据\\n\\t\\t\\t\\tresults.imageWidth = originalWidth;\\n\\t\\t\\t\\tresults.imageheight = originalHeight;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn results;\\n\\t\\t}\\n\\t}\\n};\\n\",\"import mod from \\\"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxParseImg.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxParseImg.vue?vue&type=script&lang=js&\\\"\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxParseImg.vue?vue&type=template&id=18188b86&\\\"\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"components/uParse/src/components/wxParseImg\"],{6847:function(t,e,a){\"use strict\";a.r(e);var n=a(\"ca1a\"),i=a(\"ad2c\");for(var r in i)\"default\"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);var o=a(\"2877\"),c=Object(o[\"a\"])(i[\"default\"],n[\"a\"],n[\"b\"],!1,null,null,null);e[\"default\"]=c.exports},a6ca:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n={name:\"wxParseImg\",data:function(){return{newStyleStr:\"\",preview:!0}},props:{node:{type:Object,default:function(){return{}}}},methods:{wxParseImgTap:function(t){if(this.preview){var e=t.target.dataset.src;e&&this.node.$host.preview(e,t)}},wxParseImgLoad:function(t){console.log(t);var e=t.target.dataset.src;if(e){var a=t.mp.detail,n=a.width,i=a.height,r=this.wxAutoImageCal(n,i),o=r.imageheight,c=r.imageWidth,s=this.node.attr,d=s.padding,u=s.mode,h=this.node.styleStr,f=\"widthFix\"===u?\"\":\"height: \".concat(o,\"px;\");this.newStyleStr=\"\".concat(h,\"; \").concat(f,\"; width: \").concat(c,\"px; padding: 0 \").concat(+d,\"px;\")}},wxAutoImageCal:function(t,e){var a=this.node.attr.padding,n=this.node.$screen.width-2*a,i={};if(t<60||e<60){var r=this.node.attr.src;this.node.$host.removeImageUrl(r),this.preview=!1}return t>n?(i.imageWidth=n,i.imageheight=n*(e/t)):(i.imageWidth=t,i.imageheight=e),i}}};e.default=n},ad2c:function(t,e,a){\"use strict\";a.r(e);var n=a(\"a6ca\"),i=a.n(n);for(var r in n)\"default\"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e[\"default\"]=i.a},ca1a:function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,\"a\",function(){return n}),a.d(e,\"b\",function(){return i})}}]);","extractedComments":[]}