{"map":"{\"version\":3,\"sources\":[\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js??ref--6-oneOf-1-2!/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=style&index=0&lang=css&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=template&id=1e9f637e&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=template&id=1e9f637e&\",\"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=script&lang=ts&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js??ref--13-1!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=script&lang=ts&\"],\"names\":[\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_productDetailsPage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"__webpack_require__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_productDetailsPage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"staticRenderFns\",\"d\",\"__webpack_exports__\",\"_vue\",\"_interopRequireDefault\",\"_util\",\"_api\",\"socketOpen\",\"socketMsgQueue\",\"default\",\"extend\",\"components\",\"iPast\",\"iShow\",\"iRule\",\"iPopup\",\"data\",\"indicatorDots\",\"autoplay\",\"interval\",\"duration\",\"circular\",\"indicatorActiveColor\",\"disabled\",\"swiper\",\"title\",\"id\",\"product\",\"num\",\"tabIndex\",\"pastList\",\"showList\",\"ruleList\",\"show\",\"label\",\"tab\",\"src\",\"leading\",\"ActiveID\",\"Price\",\"msgID\",\"seq\",\"MyBills\",\"UserID\",\"tapbtn\",\"BillStat\",\"newprice\",\"newbill\",\"lastbills\",\"times\",\"seqTime\",\"Date\",\"onLoad\",\"options\",\"getProduct\",\"getPastTransactionsList\",\"getOrderDryingList\",\"websocket\",\"methods\",\"_this\",\"ProductID\",\"request\",\"ProductGet\",\"then\",\"res\",\"console\",\"log\",\"Product\",\"ProductPicList\",\"tabClick\",\"index\",\"_this2\",\"PastTransactionsListGet\",\"OrderList\",\"map\",\"item\",\"percentage\",\"OrderMoneys\",\"OrderPrimeCost\",\"toFixed\",\"change\",\"val\",\"hidePopup\",\"_this3\",\"OrderDryingListGet\",\"activePath\",\"navigateTo\",\"productDetailsUparsePath\",\"_this4\",\"uni\",\"connectSocket\",\"url\",\"onSocketOpen\",\"i\",\"length\",\"sendSocketMessage\",\"reqLogin\",\"msgSubscribe\",\"onSocketError\",\"onSocketMessage\",\"msg\",\"JSON\",\"stringify\",\"push\",\"_this5\",\"Promise\",\"sesolve\",\"reject\",\"parse\",\"proccessMsg\",\"_reqLogin\",\"_asyncToGenerator\",\"_regenerator\",\"mark\",\"_callee\",\"GUID\",\"Appkey\",\"SessionKey\",\"msgTime\",\"wrap\",\"_context\",\"prev\",\"next\",\"sent\",\"getStorageSync\",\"formatTime\",\"AppKey\",\"msgType\",\"stop\",\"apply\",\"arguments\",\"_msgSubscribe\",\"_callee2\",\"reqSubscribe\",\"_context2\",\"Subscribe\",\"_proccessMsg\",\"_callee3\",\"timerState\",\"_dt\",\"tm\",\"dt\",\"dt_time\",\"_context3\",\"t0\",\"IsError\",\"showToast\",\"ErrMsg\",\"abrupt\",\"SeqBills\",\"Signups\",\"SeqSignups\",\"AllBills\",\"Bills\",\"City\",\"getTime\",\"SeqMiniSecounds\",\"setTime\",\"clearInterval\",\"currPrice\",\"WinsBill\",\"showModal\",\"t1\",\"error\",\"btnTap\",\"_btnTap\",\"_callee4\",\"action\",\"SignupMsg\",\"billMsg\",\"tapMsg\",\"cancelTapMsg\",\"_context4\",\"Shares\",\"seqDisplay\",\"date\",\"between\",\"sec\",\"Math\",\"floor\",\"hours\",\"minutes\",\"seconds\",\"minisec\",\"_this6\",\"setInterval\",\"guid\",\"random\",\"toString\",\"r\",\"_productDetailsPage_vue_vue_type_template_id_1e9f637e___WEBPACK_IMPORTED_MODULE_0__\",\"_productDetailsPage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__\",\"component\",\"Object\",\"_node_modules_babel_loader_lib_index_js_node_modules_ts_loader_index_js_ref_13_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_2_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_productDetailsPage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_ts_loader_index_js_ref_13_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_2_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_productDetailsPage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default\"],\"mappings\":\"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\",\"sourcesContent\":[\"import mod from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productDetailsPage.vue?vue&type=style&index=0&lang=css&\\\"; export default mod; export * from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productDetailsPage.vue?vue&type=style&index=0&lang=css&\\\"\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productDetailsPage.vue?vue&type=template&id=1e9f637e&\\\"\",\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nimport Vue from \\\"vue\\\";\\nimport {\\n\\trequest,\\n\\tnavigateTo,\\n\\tformatTime,\\n\\tshowToast,\\n\\tshowModal\\n} from \\\"@/common/utils/util\\\";\\nimport {\\n\\tProductGet,\\n\\tPastTransactionsListGet,\\n\\tOrderDryingListGet\\n} from \\\"@/common/config/api\\\";\\nimport iPast from \\\"@/components/i-past/i-past.vue\\\";\\nimport iShow from \\\"@/components/i-show/i-show.vue\\\";\\nimport iRule from \\\"@/components/i-rule/i-rule.vue\\\";\\nimport iPopup from \\\"@/components/i-popup/i-popup.vue\\\";\\nlet socketOpen: boolean = false;\\nlet socketMsgQueue: any = [];\\nexport default Vue.extend({\\n\\tcomponents: {\\n\\t\\tiPast,\\n\\t\\tiShow,\\n\\t\\tiRule,\\n\\t\\tiPopup\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tindicatorDots: true,\\n\\t\\t\\tautoplay: true,\\n\\t\\t\\tinterval: 2000,\\n\\t\\t\\tduration: 500,\\n\\t\\t\\tcircular: true,\\n\\t\\t\\tindicatorActiveColor: \\\"#fe7f00\\\",\\n\\t\\t\\tdisabled: false, // 按钮disabled\\n\\n\\t\\t\\tswiper: [],\\n\\t\\t\\ttitle: \\\"服务\\\",\\n\\t\\t\\tid: \\\"\\\",\\n\\t\\t\\tproduct: \\\"\\\",\\n\\t\\t\\tnum: \\\"9999\\\", // 剩余次数\\n\\n\\t\\t\\ttabIndex: 0, // 默认往期成交\\n\\t\\t\\tpastList: [], // 往期成交列表\\n\\t\\t\\tshowList: [], // 晒单列表\\n\\t\\t\\truleList: \\\"\\\", // 竞拍规则\\n\\t\\t\\tshow: false, // 显示弹窗\\n\\n\\t\\t\\tlabel: [\\\"零风险\\\", \\\"正品承诺\\\", \\\"极速发货\\\", \\\"公平公正\\\"],\\n\\t\\t\\ttab: [\\\"往期成交\\\", \\\"分享晒单\\\", \\\"竞拍规则\\\"],\\n\\t\\t\\tsrc: \\\"/static/icon_experience.png\\\",\\n\\t\\t\\tleading: \\\"/static/icon/icon_leading.png\\\",\\n\\n\\t\\t\\tActiveID: \\\"\\\",\\n\\t\\t\\tPrice: \\\"\\\",\\n\\t\\t\\tmsgID: \\\"\\\",\\n\\n\\t\\t\\tseq: \\\"\\\", // 更新我的剩余举牌次数\\n      MyBills: \\\"\\\", // 举牌响应消息（包含我的举牌次数、剩余可用次数）\\n      UserID: \\\"\\\", // 登录成功，提示用户\\n      tapbtn: \\\"\\\", // 托管\\n      BillStat: \\\"\\\", // 总举牌次数\\n      newprice: \\\"\\\", // 领先价格\\n      newbill: \\\"\\\", // 领先人\\n      lastbills: [], // 出局列表\\n      times: \\\"\\\", // 倒计时\\n      seqTime: new Date(\\\"2019/7/18 10:29:35\\\")\\n\\t\\t};\\n\\t},\\n\\tonLoad(options: any) {\\n\\t\\tthis.id = options.id;\\n\\t\\tthis.ActiveID = options.id;\\n\\t\\tthis.getProduct();\\n\\t\\tthis.getPastTransactionsList();\\n\\t\\tthis.getOrderDryingList();\\n\\t\\tthis.websocket();\\n\\t},\\n\\tmethods: {\\n\\t\\t// 获取产品详情\\n\\t\\tgetProduct() {\\n\\t\\t\\tlet ProductID = this.id;\\n\\t\\t\\tlet data = {\\n\\t\\t\\t\\tProductID: ProductID\\n\\t\\t\\t};\\n\\t\\t\\trequest(ProductGet, data).then((res: any) => {\\n\\t\\t\\t\\tconsole.log(res);\\n\\t\\t\\t\\tthis.product = res.Product;\\n\\t\\t\\t\\tthis.swiper = res.Product.ProductPicList;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t// 选项卡\\n\\t\\ttabClick(index: number) {\\n\\t\\t\\tthis.tabIndex = index;\\n\\t\\t},\\n\\t\\t// 往期成交列表\\n\\t\\tgetPastTransactionsList() {\\n\\t\\t\\tlet ProductID = this.id;\\n\\t\\t\\tlet data = {\\n\\t\\t\\t\\tProductID: ProductID\\n\\t\\t\\t};\\n\\t\\t\\trequest(PastTransactionsListGet, data).then((res: any) => {\\n\\t\\t\\t\\tconsole.log(res);\\n\\t\\t\\t\\tlet pastList = res.OrderList;\\n\\t\\t\\t\\tpastList.map((item: any) => {\\n\\t\\t\\t\\t\\titem.percentage = (\\n\\t\\t\\t\\t\\t\\t(item.OrderMoneys / item.OrderPrimeCost) *\\n\\t\\t\\t\\t\\t\\t100\\n\\t\\t\\t\\t\\t).toFixed(2);\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tthis.pastList = pastList;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tchange(val: any) {\\n\\t\\t\\tconsole.log(val);\\n\\t\\t},\\n\\t\\thidePopup() {\\n\\t\\t\\tthis.show = !this.show;\\n\\t\\t},\\n\\t\\t// 获取用户晒单列表\\n\\t\\tgetOrderDryingList() {\\n\\t\\t\\tlet ProductID = this.id;\\n\\t\\t\\tlet data = {\\n\\t\\t\\t\\tProductID: ProductID\\n\\t\\t\\t};\\n\\t\\t\\trequest(OrderDryingListGet, data).then((res: any) => {\\n\\t\\t\\t\\tthis.showList = res.OrderList;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tactivePath() {\\n\\t\\t\\tlet id = this.id;\\n\\t\\t\\tnavigateTo(\\\"../activeBilList/activeBilList?id=\\\" + id);\\n\\t\\t},\\n\\t\\tproductDetailsUparsePath() {\\n\\t\\t\\tlet id = this.id;\\n\\t\\t\\tnavigateTo(\\\"../productDetailsUparse/productDetailsUparse?id=\\\" + id);\\n\\t\\t},\\n\\t\\twebsocket() {\\n      uni.connectSocket({\\n        url: \\\"wss://websocket.tengpaisc.com:8888/\\\"\\n      });\\n      uni.onSocketOpen((res: any) => {\\n        console.log(\\\"WebSocket连接已打开！\\\");\\n        socketOpen = true;\\n        for (let i = 0; i < socketMsgQueue.length; i++) {\\n          this.sendSocketMessage(socketMsgQueue[i]);\\n        }\\n        socketMsgQueue = [];\\n        this.reqLogin();\\n        this.msgSubscribe();\\n      });\\n      uni.onSocketError(res => {\\n        console.log(\\\"WebSocket连接打开失败，请检查！\\\");\\n      });\\n      this.onSocketMessage();\\n    },\\n    sendSocketMessage(msg: any) {\\n      let data: string = JSON.stringify(msg);\\n      console.log(\\\"发送数据\\\", socketOpen, msg);\\n      if (socketOpen) {\\n        uni.sendSocketMessage({\\n          data: data\\n        });\\n      } else {\\n        socketMsgQueue.push(msg);\\n      }\\n    },\\n    onSocketMessage() {\\n      return new Promise((sesolve, reject) => {\\n        uni.onSocketMessage((res: any) => {\\n          console.log(\\\"收到服务器内容：\\\" + res.data);\\n          let msg = JSON.parse(res.data);\\n          console.log(msg);\\n          this.proccessMsg();\\n          sesolve(msg);\\n        });\\n      });\\n    },\\n    // 向服务器发送登录请求\\n    async reqLogin() {\\n      let GUID: any = await this.GUID();\\n      const Appkey = \\\"3957399\\\";\\n      const SessionKey = uni.getStorageSync(\\\"SessionKey\\\");\\n      let ActiveID = 1;\\n      let UserID = 0;\\n      let ConnectionState = false;\\n      let msgTime = formatTime(new Date());\\n      console.log(GUID);\\n      let reqLogin: any = {\\n        ActiveID: ActiveID,\\n        AppKey: Appkey,\\n        SessionKey: SessionKey,\\n        msgID: GUID,\\n        msgType: 3,\\n        msgTime: msgTime\\n      };\\n      this.sendSocketMessage(reqLogin);\\n    },\\n    // 发送对该活动的消息订阅\\n    async msgSubscribe() {\\n      let GUID: any = await this.GUID();\\n      let ActiveID = 1;\\n      let url = \\\"/Actives/\\\" + ActiveID + \\\"/\\\";\\n      let msgTime = formatTime(new Date());\\n      let reqSubscribe = {\\n        Subscribe: url,\\n        msgID: GUID,\\n        msgType: 0,\\n        msgTime: msgTime\\n      };\\n      this.sendSocketMessage(reqSubscribe);\\n    },\\n    // 处理消息的函数，用于解析从服务器webSocket收到的各种消息\\n    async proccessMsg() {\\n      let msg: any = await this.onSocketMessage();\\n      let timerState: any = await this.timerState();\\n      let msgType = msg.msgType;\\n      console.log(msg)\\n      try {\\n        switch (msgType) {\\n          case 0:\\n            // 订阅响应消息\\n            if (msg.IsError) {\\n              showToast(\\\"订阅失败：\\\" + msg.ErrMsg);\\n            } else {\\n              showToast(msg.ErrMsg);\\n            }\\n            break;\\n          case 1:\\n            // 报名响应消息\\n            if (msg.IsError) {\\n              showToast(\\\"报名失败：\\\" + msg.ErrMsg);\\n            } else {\\n              showToast(msg.ErrMsg);\\n            }\\n            // 更新我的剩余举牌次数\\n            this.seq =\\n              \\\"剩余举牌次数：\\\" +\\n              msg.SeqBills +\\n              \\\"次，已报名份数：\\\" +\\n              msg.Signups +\\n              \\\"份，还可报名：\\\" +\\n              msg.SeqSignups +\\n              \\\"份\\\";\\n            break;\\n          case 2:\\n            // 举牌响应消息（包含我的举牌次数、剩余可用次数）\\n            if (msg.IsError) {\\n              showToast(msg.ErrMsg);\\n            } else {\\n              this.MyBills =\\n                \\\"我的举牌次数：\\\" +\\n                msg.MyBills +\\n                \\\"次，剩余可用次数：\\\" +\\n                msg.SeqBills +\\n                \\\"次\\\";\\n              showToast(msg.ErrMsg);\\n            }\\n            break;\\n          case 3:\\n            // 登录响应消息\\n            if (msg.IsError) {\\n              showToast(\\\"登录失败：\\\" + msg.ErrMsg);\\n            } else {\\n              // 登录成功，提示用户\\n              this.UserID = msg.UserID;\\n              showToast(msg.ErrMsg);\\n            }\\n            break;\\n          case 4:\\n            // 托管响应\\n            if (msg.IsError) {\\n              showToast(\\\"托管失败!\\\" + msg.ErrMsg);\\n            } else {\\n              this.tapbtn = \\\"取消托管\\\";\\n            }\\n            break;\\n          case 5:\\n            // 取消托管响应消息\\n            if (msg.IsError) {\\n              showToast(\\\"取消托管失败!\\\");\\n            } else {\\n              this.tapbtn = \\\"取消托管\\\";\\n            }\\n            break;\\n          case 8:\\n            // 价格更新通知\\n            showToast(\\\"价格已更新......！\\\");\\n            // 更新全部举牌次数、我的举牌次数、和最新价格\\n            this.BillStat = \\\"总举牌次数：\\\" + msg.AllBills + \\\"次\\\";\\n            // 更新最后出价人信息\\n            if (msg.Bills.length > 0) {\\n              this.newprice = \\\"￥\\\" + msg.Bills[0].Price;\\n              this.newbill = \\\"领先人：\\\" + msg.Bills[0].City;\\n              // 计算剩余时长\\n              let dt = new Date();\\n              let tm = dt.getTime() + msg.SeqMiniSecounds;\\n              this.seqTime.setTime(tm);\\n            }\\n            // 更新最近出局人信息\\n            if (msg.Bills.length > 1) {\\n              this.lastbills = msg.Bills;\\n            }\\n            // 判断是否需要启动计时器，如果只有一个出价，肯定就是需要启动的，因为计时器未启动\\n            if (msg.Bills.length === 1) {\\n              this.timerState();\\n            }\\n            break;\\n          case 9:\\n            //计算剩余时间，并重置剩余时间\\n            let dt = new Date();\\n            let dt_time = dt.getTime();\\n            this.seqTime.setTime(dt_time + msg.SeqMiniSecounds);\\n            console.log(this.seqTime);\\n            break;\\n          case 10:\\n            // 活动正式开始，但是目前尚未有人出价，所以收到此消息，先停止计时器，并显示为 “等待先手”\\n            clearInterval(timerState);\\n            this.times = \\\"等待首牌\\\";\\n            this.newprice = \\\"￥\\\" + msg.currPrice;\\n            break;\\n          case 11:\\n            // 活动结束通知\\n            clearInterval(timerState);\\n            this.times = \\\"已成交\\\";\\n            // 判断是否当前用户，如果是当前用户，则需要弹出收货地址和订单信息处理界面\\n            if (this.UserID === msg.WinsBill.UserID) {\\n              showModal(\\\"恭喜，您已中拍！点击确定去填写订单信息吧！\\\");\\n            }\\n            break;\\n        }\\n        console.log(msgType);\\n      } catch (e) {\\n        console.error(\\\"处理消息出错：\\\");\\n        console.error(e);\\n      }\\n    },\\n    async btnTap() {\\n      let action = \\\"举牌\\\";\\n      let ActiveID = 3;\\n      let Price = 1;\\n      let GUID: any = await this.GUID();\\n      let msgTime = formatTime(new Date());\\n      switch (action) {\\n        case \\\"报名\\\":\\n          var SignupMsg = {\\n            ActiveID: ActiveID,\\n            Shares: 1,\\n            msgID: GUID,\\n            msgType: 1,\\n            msgTime: msgTime\\n          };\\n          this.sendSocketMessage(SignupMsg);\\n          break;\\n        case \\\"举牌\\\":\\n          var billMsg = {\\n            ActiveID: ActiveID,\\n            Price: Price,\\n            msgID: GUID,\\n            msgType: 2,\\n            msgTime: msgTime\\n          };\\n          this.sendSocketMessage(billMsg);\\n          break;\\n        case \\\"托管\\\":\\n          var tapMsg = {\\n            ActiveID: ActiveID,\\n            msgID: GUID,\\n            msgType: 4,\\n            msgTime: msgTime\\n          };\\n          this.sendSocketMessage(tapMsg);\\n          break;\\n        case \\\"取消托管\\\":\\n          var cancelTapMsg = {\\n            ActiveID: ActiveID,\\n            msgID: GUID,\\n            msgType: 5,\\n            msgTime: msgTime\\n          };\\n          this.sendSocketMessage(cancelTapMsg);\\n          break;\\n      }\\n    },\\n    // 下面处理倒计时的显示，实际上时间是由服务器webSocket返回的\\n    seqDisplay() {\\n      let seqTime: any = this.seqTime;\\n      let date: any = new Date();\\n      let between: number = seqTime - date;\\n      let sec: number = Math.floor(between / 1000);\\n      let hours: any = Math.floor(Math.floor(sec / 60) / 60) % 24;\\n      let minutes: any = Math.floor(sec / 60) % 60;\\n      let seconds: any = sec % 60;\\n      let minisec: number = Math.floor(between / 100) % 10;\\n      if (seconds <= 0) {\\n        this.times = \\\"\\\";\\n      } else {\\n        if (hours < 10) {\\n          hours = \\\"0\\\" + hours;\\n        }\\n        if (minutes < 10) {\\n          minutes = \\\"0\\\" + minutes;\\n        }\\n        if (seconds < 10) {\\n          seconds = \\\"0\\\" + seconds;\\n        }\\n        let times = hours + \\\":\\\" + minutes + \\\":\\\" + seconds + \\\".\\\" + minisec;\\n        this.times = times;\\n      }\\n    },\\n    // 倒计时\\n    timerState() {\\n      return new Promise((sesolve, reject) => {\\n        let timerState = setInterval(() => {\\n          this.seqDisplay();\\n        }, 100);\\n        sesolve(timerState);\\n      });\\n    },\\n    // 下面是生成随机GUID的函数\\n    GUID() {\\n      return new Promise((sesolve, reject) => {\\n        let guid = \\\"\\\";\\n        for (let i = 1; i <= 32; i++) {\\n          let n = Math.floor(Math.random() * 16.0).toString(16);\\n          guid += n;\\n          if (i == 8 || i == 12 || i == 16 || i == 20) guid += \\\"-\\\";\\n        }\\n        sesolve(guid);\\n      });\\n    }\\n\\t}\\n});\\n\",\"import { render, staticRenderFns } from \\\"./productDetailsPage.vue?vue&type=template&id=1e9f637e&\\\"\\nimport script from \\\"./productDetailsPage.vue?vue&type=script&lang=ts&\\\"\\nexport * from \\\"./productDetailsPage.vue?vue&type=script&lang=ts&\\\"\\nimport style0 from \\\"./productDetailsPage.vue?vue&type=style&index=0&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"import mod from \\\"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productDetailsPage.vue?vue&type=script&lang=ts&\\\"; export default mod; export * from \\\"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productDetailsPage.vue?vue&type=script&lang=ts&\\\"\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"pages/mall/productDetailsPage/productDetailsPage\"],{\"0c1d\":function(t,e,s){\"use strict\";var r=s(\"ed1d\"),n=s.n(r);n.a},\"551b\":function(t,e,s){\"use strict\";var r=function(){var t=this,e=t.$createElement;t._self._c},n=[];s.d(e,\"a\",function(){return r}),s.d(e,\"b\",function(){return n})},9795:function(t,e,s){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var r=a(s(\"a34a\")),n=a(s(\"66fd\")),i=s(\"c440\"),o=s(\"5177\");function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e,s,r,n,i,o){try{var a=t[i](o),c=a.value}catch(u){return void s(u)}a.done?e(c):Promise.resolve(c).then(r,n)}function u(t){return function(){var e=this,s=arguments;return new Promise(function(r,n){var i=t.apply(e,s);function o(t){c(i,r,n,o,a,\"next\",t)}function a(t){c(i,r,n,o,a,\"throw\",t)}o(void 0)})}}var l=function(){return s.e(\"components/i-past/i-past\").then(s.bind(null,\"ed17\"))},h=function(){return s.e(\"components/i-show/i-show\").then(s.bind(null,\"d057\"))},d=function(){return s.e(\"components/i-rule/i-rule\").then(s.bind(null,\"0d7b\"))},f=function(){return s.e(\"components/i-popup/i-popup\").then(s.bind(null,\"fbff\"))},p=!1,g=[],m=n.default.extend({components:{iPast:l,iShow:h,iRule:d,iPopup:f},data:function(){return{indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,circular:!0,indicatorActiveColor:\"#fe7f00\",disabled:!1,swiper:[],title:\"服务\",id:\"\",product:\"\",num:\"9999\",tabIndex:0,pastList:[],showList:[],ruleList:\"\",show:!1,label:[\"零风险\",\"正品承诺\",\"极速发货\",\"公平公正\"],tab:[\"往期成交\",\"分享晒单\",\"竞拍规则\"],src:\"/static/icon_experience.png\",leading:\"/static/icon/icon_leading.png\",ActiveID:\"\",Price:\"\",msgID:\"\",seq:\"\",MyBills:\"\",UserID:\"\",tapbtn:\"\",BillStat:\"\",newprice:\"\",newbill:\"\",lastbills:[],times:\"\",seqTime:new Date(\"2019/7/18 10:29:35\")}},onLoad:function(t){this.id=t.id,this.ActiveID=t.id,this.getProduct(),this.getPastTransactionsList(),this.getOrderDryingList(),this.websocket()},methods:{getProduct:function(){var t=this,e=this.id,s={ProductID:e};(0,i.request)(o.ProductGet,s).then(function(e){console.log(e),t.product=e.Product,t.swiper=e.Product.ProductPicList})},tabClick:function(t){this.tabIndex=t},getPastTransactionsList:function(){var t=this,e=this.id,s={ProductID:e};(0,i.request)(o.PastTransactionsListGet,s).then(function(e){console.log(e);var s=e.OrderList;s.map(function(t){t.percentage=(t.OrderMoneys/t.OrderPrimeCost*100).toFixed(2)}),t.pastList=s})},change:function(t){console.log(t)},hidePopup:function(){this.show=!this.show},getOrderDryingList:function(){var t=this,e=this.id,s={ProductID:e};(0,i.request)(o.OrderDryingListGet,s).then(function(e){t.showList=e.OrderList})},activePath:function(){var t=this.id;(0,i.navigateTo)(\"../activeBilList/activeBilList?id=\"+t)},productDetailsUparsePath:function(){var t=this.id;(0,i.navigateTo)(\"../productDetailsUparse/productDetailsUparse?id=\"+t)},websocket:function(){var e=this;t.connectSocket({url:\"wss://websocket.tengpaisc.com:8888/\"}),t.onSocketOpen(function(t){console.log(\"WebSocket连接已打开！\"),p=!0;for(var s=0;s<g.length;s++)e.sendSocketMessage(g[s]);g=[],e.reqLogin(),e.msgSubscribe()}),t.onSocketError(function(t){console.log(\"WebSocket连接打开失败，请检查！\")}),this.onSocketMessage()},sendSocketMessage:function(e){var s=JSON.stringify(e);console.log(\"发送数据\",p,e),p?t.sendSocketMessage({data:s}):g.push(e)},onSocketMessage:function(){var e=this;return new Promise(function(s,r){t.onSocketMessage(function(t){console.log(\"收到服务器内容：\"+t.data);var r=JSON.parse(t.data);console.log(r),e.proccessMsg(),s(r)})})},reqLogin:function(){var e=u(r.default.mark(function e(){var s,n,o,a,c,u;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.GUID();case 2:s=e.sent,n=\"3957399\",o=t.getStorageSync(\"SessionKey\"),a=1,0,!1,c=(0,i.formatTime)(new Date),console.log(s),u={ActiveID:a,AppKey:n,SessionKey:o,msgID:s,msgType:3,msgTime:c},this.sendSocketMessage(u);case 12:case\"end\":return e.stop()}},e,this)}));function s(){return e.apply(this,arguments)}return s}(),msgSubscribe:function(){var t=u(r.default.mark(function t(){var e,s,n,o,a;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.GUID();case 2:e=t.sent,s=1,n=\"/Actives/\"+s+\"/\",o=(0,i.formatTime)(new Date),a={Subscribe:n,msgID:e,msgType:0,msgTime:o},this.sendSocketMessage(a);case 8:case\"end\":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),proccessMsg:function(){var t=u(r.default.mark(function t(){var e,s,n,o,a,c,u;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.onSocketMessage();case 2:return e=t.sent,t.next=5,this.timerState();case 5:s=t.sent,n=e.msgType,console.log(e),t.prev=8,t.t0=n,t.next=0===t.t0?12:1===t.t0?14:2===t.t0?17:3===t.t0?19:4===t.t0?21:5===t.t0?23:8===t.t0?25:9===t.t0?31:10===t.t0?36:11===t.t0?40:44;break;case 12:return e.IsError?(0,i.showToast)(\"订阅失败：\"+e.ErrMsg):(0,i.showToast)(e.ErrMsg),t.abrupt(\"break\",44);case 14:return e.IsError?(0,i.showToast)(\"报名失败：\"+e.ErrMsg):(0,i.showToast)(e.ErrMsg),this.seq=\"剩余举牌次数：\"+e.SeqBills+\"次，已报名份数：\"+e.Signups+\"份，还可报名：\"+e.SeqSignups+\"份\",t.abrupt(\"break\",44);case 17:return e.IsError?(0,i.showToast)(e.ErrMsg):(this.MyBills=\"我的举牌次数：\"+e.MyBills+\"次，剩余可用次数：\"+e.SeqBills+\"次\",(0,i.showToast)(e.ErrMsg)),t.abrupt(\"break\",44);case 19:return e.IsError?(0,i.showToast)(\"登录失败：\"+e.ErrMsg):(this.UserID=e.UserID,(0,i.showToast)(e.ErrMsg)),t.abrupt(\"break\",44);case 21:return e.IsError?(0,i.showToast)(\"托管失败!\"+e.ErrMsg):this.tapbtn=\"取消托管\",t.abrupt(\"break\",44);case 23:return e.IsError?(0,i.showToast)(\"取消托管失败!\"):this.tapbtn=\"取消托管\",t.abrupt(\"break\",44);case 25:return(0,i.showToast)(\"价格已更新......！\"),this.BillStat=\"总举牌次数：\"+e.AllBills+\"次\",e.Bills.length>0&&(this.newprice=\"￥\"+e.Bills[0].Price,this.newbill=\"领先人：\"+e.Bills[0].City,o=new Date,a=o.getTime()+e.SeqMiniSecounds,this.seqTime.setTime(a)),e.Bills.length>1&&(this.lastbills=e.Bills),1===e.Bills.length&&this.timerState(),t.abrupt(\"break\",44);case 31:return c=new Date,u=c.getTime(),this.seqTime.setTime(u+e.SeqMiniSecounds),console.log(this.seqTime),t.abrupt(\"break\",44);case 36:return clearInterval(s),this.times=\"等待首牌\",this.newprice=\"￥\"+e.currPrice,t.abrupt(\"break\",44);case 40:return clearInterval(s),this.times=\"已成交\",this.UserID===e.WinsBill.UserID&&(0,i.showModal)(\"恭喜，您已中拍！点击确定去填写订单信息吧！\"),t.abrupt(\"break\",44);case 44:console.log(n),t.next=51;break;case 47:t.prev=47,t.t1=t[\"catch\"](8),console.error(\"处理消息出错：\"),console.error(t.t1);case 51:case\"end\":return t.stop()}},t,this,[[8,47]])}));function e(){return t.apply(this,arguments)}return e}(),btnTap:function(){var t=u(r.default.mark(function t(){var e,s,n,o,a,c,u,l,h;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=\"举牌\",s=3,n=1,t.next=5,this.GUID();case 5:o=t.sent,a=(0,i.formatTime)(new Date),t.t0=e,t.next=\"报名\"===t.t0?10:\"举牌\"===t.t0?13:\"托管\"===t.t0?16:\"取消托管\"===t.t0?19:22;break;case 10:return c={ActiveID:s,Shares:1,msgID:o,msgType:1,msgTime:a},this.sendSocketMessage(c),t.abrupt(\"break\",22);case 13:return u={ActiveID:s,Price:n,msgID:o,msgType:2,msgTime:a},this.sendSocketMessage(u),t.abrupt(\"break\",22);case 16:return l={ActiveID:s,msgID:o,msgType:4,msgTime:a},this.sendSocketMessage(l),t.abrupt(\"break\",22);case 19:return h={ActiveID:s,msgID:o,msgType:5,msgTime:a},this.sendSocketMessage(h),t.abrupt(\"break\",22);case 22:case\"end\":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),seqDisplay:function(){var t=this.seqTime,e=new Date,s=t-e,r=Math.floor(s/1e3),n=Math.floor(Math.floor(r/60)/60)%24,i=Math.floor(r/60)%60,o=r%60,a=Math.floor(s/100)%10;if(o<=0)this.times=\"\";else{n<10&&(n=\"0\"+n),i<10&&(i=\"0\"+i),o<10&&(o=\"0\"+o);var c=n+\":\"+i+\":\"+o+\".\"+a;this.times=c}},timerState:function(){var t=this;return new Promise(function(e,s){var r=setInterval(function(){t.seqDisplay()},100);e(r)})},GUID:function(){return new Promise(function(t,e){for(var s=\"\",r=1;r<=32;r++){var n=Math.floor(16*Math.random()).toString(16);s+=n,8!=r&&12!=r&&16!=r&&20!=r||(s+=\"-\")}t(s)})}}});e.default=m}).call(this,s(\"543d\")[\"default\"])},a653:function(t,e,s){\"use strict\";s.r(e);var r=s(\"551b\"),n=s(\"c6f7\");for(var i in n)\"default\"!==i&&function(t){s.d(e,t,function(){return n[t]})}(i);s(\"0c1d\");var o=s(\"2877\"),a=Object(o[\"a\"])(n[\"default\"],r[\"a\"],r[\"b\"],!1,null,null,null);e[\"default\"]=a.exports},c6f7:function(t,e,s){\"use strict\";s.r(e);var r=s(\"9795\"),n=s.n(r);for(var i in r)\"default\"!==i&&function(t){s.d(e,t,function(){return r[t]})}(i);e[\"default\"]=n.a},ed1d:function(t,e,s){}},[[\"2baa\",\"common/runtime\",\"common/vendor\"]]]);","extractedComments":[]}