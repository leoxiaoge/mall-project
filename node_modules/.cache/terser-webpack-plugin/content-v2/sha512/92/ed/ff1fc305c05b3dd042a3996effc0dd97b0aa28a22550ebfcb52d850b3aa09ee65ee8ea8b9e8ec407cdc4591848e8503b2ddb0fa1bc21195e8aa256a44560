{"map":"{\"version\":3,\"sources\":[\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=script&lang=js&\",\"/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=template&id=1966c692&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=template&id=1966c692&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js??ref--6-oneOf-1-2!/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=style&index=0&lang=css&\"],\"names\":[\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_robby_image_upload_vue_vue_type_template_id_1966c692___WEBPACK_IMPORTED_MODULE_0__\",\"_robby_image_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"d\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__\",\"component\",\"Object\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"_self\",\"_util\",\"_api\",\"name\",\"props\",\"data\",\"imageBasePos\",\"x0\",\"y0\",\"w\",\"h\",\"showMoveImage\",\"moveImagePath\",\"moveLeft\",\"moveTop\",\"deltaLeft\",\"deltaTop\",\"dragIndex\",\"targetImageIndex\",\"picUrl\",\"imageUpload\",\"computed\",\"posMoveImageLeft\",\"this\",\"posMoveImageTop\",\"isShowDel\",\"enableDel\",\"isShowAdd\",\"enableAdd\",\"limit\",\"value\",\"length\",\"isDragable\",\"enableDrag\",\"methods\",\"selectImage\",\"_this\",\"uni\",\"chooseImage\",\"count\",\"success\",\"e\",\"imagePathArr\",\"tempFilePaths\",\"availableImageNumber\",\"showToast\",\"title\",\"icon\",\"mask\",\"duration\",\"filePath\",\"upload\",\"OrderDryingUpload\",\"then\",\"res\",\"console\",\"log\",\"JSON\",\"parse\",\"PicUrl\",\"concat\",\"$emit\",\"i\",\"push\",\"deleteImage\",\"imageIndex\",\"currentTarget\",\"dataset\",\"index\",\"deletedImagePath\",\"splice\",\"currentImage\",\"allImages\",\"previewImage\",\"current\",\"indicator\",\"loop\",\"urls\",\"initImageBasePos\",\"paddingRate\",\"getSystemInfo\",\"obj\",\"screenWidth\",\"leftPadding\",\"Math\",\"ceil\",\"imageWidth\",\"findOverlapImage\",\"posX\",\"posY\",\"rows\",\"floor\",\"cols\",\"indx\",\"isDragging\",\"start\",\"basePosY\",\"currentImageOffsetTop\",\"offsetTop\",\"target\",\"offsetLeft\",\"move\",\"touch\",\"touches\",\"clientX\",\"clientY\",\"stop\",\"render\",\"_vm\",\"_h\",\"$createElement\",\"l0\",\"_c\",\"__map\",\"path\",\"m0\",\"$orig\",\"__get_orig\",\"$mp\",\"assign\",\"$root\",\"staticRenderFns\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\"],\"mappings\":\"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\",\"sourcesContent\":[\"import { render, staticRenderFns } from \\\"./robby-image-upload.vue?vue&type=template&id=1966c692&\\\"\\nimport script from \\\"./robby-image-upload.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./robby-image-upload.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./robby-image-upload.vue?vue&type=style&index=0&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"import mod from \\\"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=script&lang=js&\\\"\",\"//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n\\n\\tvar _self;\\n\\timport { upload, navigateTo } from \\\"@/common/utils/util\\\";\\n  import { OrderDryingUpload } from \\\"@/common/config/api\\\";\\n\\texport default {\\n\\t\\tname:'robby-image-upload',\\n\\t\\tprops: ['value','enableDel','enableAdd','enableDrag','serverUrl','formData','limit','fileKeyName','showUploadProgress','serverUrlDeleteImage'],\\n\\t\\tdata() {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\timageBasePos:{\\n\\t\\t\\t\\t\\tx0: -1,\\n\\t\\t\\t\\t\\ty0: -1,\\n\\t\\t\\t\\t\\tw:-1,\\n\\t\\t\\t\\t\\th:-1,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tshowMoveImage: false,\\n\\t\\t\\t\\tmoveImagePath: '',\\n\\t\\t\\t\\tmoveLeft: 0,\\n\\t\\t\\t\\tmoveTop: 0,\\n\\t\\t\\t\\tdeltaLeft: 0,\\n\\t\\t\\t\\tdeltaTop: 0,\\n\\t\\t\\t\\tdragIndex: null,\\n\\t\\t\\t\\ttargetImageIndex: null,\\n\\t\\t\\t\\tpicUrl: [],\\n\\t\\t\\t\\timageUpload: \\\"/static/icon/icon_image_upload.png\\\"\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcomputed:{\\n\\t\\t\\tposMoveImageLeft: function(){ \\n\\t\\t\\t\\treturn this.moveLeft + 'px'\\n\\t\\t\\t},\\n\\t\\t\\tposMoveImageTop: function(){\\n\\t\\t\\t\\treturn this.moveTop + 'px'\\n\\t\\t\\t},\\n\\t\\t\\tisShowDel: function(){\\n\\t\\t\\t\\tif(this.enableDel === false){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}else{\\n\\t\\t\\t\\t\\treturn true\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\tisShowAdd: function(){\\n\\t\\t\\t\\tif(this.enableAdd === false){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tif(this.limit && this.value.length >= this.limit){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\treturn true\\n\\t\\t\\t},\\n\\t\\t\\tisDragable: function(){\\n\\t\\t\\t\\tif(this.enableDrag === false){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}else{\\n\\t\\t\\t\\t\\treturn true\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tmethods:{\\n\\t\\t\\tselectImage: function(){\\n\\t\\t\\t\\t_self = this\\n\\t\\t\\t\\tif(!_self.value){\\n\\t\\t\\t\\t\\t_self.value = []\\n\\t\\t\\t\\t} \\n\\t\\t\\t\\t\\n\\t\\t\\t\\tuni.chooseImage({\\n\\t\\t\\t\\t\\tcount: _self.limit ? (_self.limit - _self.value.length) : 999,\\n\\t\\t\\t\\t\\tsuccess: (e) => {\\n\\t\\t\\t\\t\\t\\tvar imagePathArr = e.tempFilePaths\\n\\t\\t\\t\\t\\t\\t//如果设置了limit限制，在web上count参数无效，这里做判断控制选择的数量是否合要求\\n\\t\\t\\t\\t\\t\\t//在非微信小程序里，虽然可以选多张，但选择的结果会被截掉\\n\\t\\t\\t\\t\\t\\t//在app里，会自动做选择数量的限制\\n\\t\\t\\t\\t\\t\\tif(_self.limit){\\n\\t\\t\\t\\t\\t\\t\\tvar availableImageNumber = _self.limit - _self.value.length\\n\\t\\t\\t\\t\\t\\t\\tif(availableImageNumber < imagePathArr.length){\\n\\t\\t\\t\\t\\t\\t\\t\\tuni.showToast({\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttitle: '图片总数限制为'+_self.limit+'张，当前还可以选'+availableImageNumber+'张',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ticon:'none',\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tmask: false,\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tduration: 2000\\n\\t\\t\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\t\\tlet filePath = imagePathArr[0]\\n\\t\\t\\t\\t\\t\\tlet data = {};\\n\\t\\t\\t\\t\\t\\tupload(OrderDryingUpload, data, filePath).then((res) => {\\n\\t\\t\\t\\t\\t\\t\\tconsole.log(res)\\n\\t\\t\\t\\t\\t\\t\\tlet data = JSON.parse(res)\\n\\t\\t\\t\\t\\t\\t\\tconsole.log(data.PicUrl)\\n\\t\\t\\t\\t\\t\\t\\tconsole.log(_self.picUrl)\\n\\t\\t\\t\\t\\t\\t\\tlet picUrl = [data.PicUrl]\\n\\t\\t\\t\\t\\t\\t\\tconsole.log(_self.picUrl, picUrl)\\n\\t\\t\\t\\t\\t\\t\\t_self.picUrl = _self.picUrl.concat(data.PicUrl);\\n\\t\\t\\t\\t\\t\\t\\tthis.$emit('add', _self.picUrl)\\n\\t\\t\\t\\t\\t\\t});\\n\\t\\t\\t\\t\\t\\tfor(let i=0; i<imagePathArr.length;i++){\\n\\t\\t\\t\\t\\t\\t\\t_self.value.push(imagePathArr[i])\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t},\\n\\t\\t\\tdeleteImage: function(e){\\n\\t\\t\\t\\tvar imageIndex = e.currentTarget.dataset.index\\n\\t\\t\\t\\tvar deletedImagePath = this.value[imageIndex]\\n\\t\\t\\t\\tthis.value.splice(imageIndex, 1) \\n\\t\\t\\t\\tthis.picUrl.splice(imageIndex, 1)\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tthis.$emit('delete',{\\n\\t\\t\\t\\t\\tcurrentImage: deletedImagePath,\\n\\t\\t\\t\\t\\tallImages: this.picUrl\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tthis.$emit('input', this.value)\\n\\t\\t\\t},\\n\\t\\t\\tpreviewImage: function(e){\\n\\t\\t\\t\\tvar imageIndex = e.currentTarget.dataset.index\\n\\t\\t\\t\\tuni.previewImage({\\n\\t\\t\\t\\t\\tcurrent: this.value[imageIndex],\\n\\t\\t\\t\\t\\tindicator: \\\"number\\\",\\n\\t\\t\\t\\t\\tloop: \\\"true\\\",\\n\\t\\t\\t\\t\\turls:this.value\\n\\t\\t\\t\\t})\\n\\t\\t\\t},\\n\\t\\t\\tinitImageBasePos: function(){\\n\\t\\t\\t\\tlet paddingRate = 0.024\\n\\t\\t\\t\\t_self = this\\n\\t\\t\\t\\t//计算图片基准位置\\n\\t\\t\\t\\tuni.getSystemInfo({\\n\\t\\t\\t\\t\\tsuccess: function(obj) {\\n\\t\\t\\t\\t\\t\\tlet screenWidth = obj.screenWidth\\n\\t\\t\\t\\t\\t\\tlet leftPadding = Math.ceil(paddingRate * screenWidth)\\n\\t\\t\\t\\t\\t\\tlet imageWidth = Math.ceil((screenWidth - 2*leftPadding)/4)\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t_self.imageBasePos.x0 = leftPadding\\n\\t\\t\\t\\t\\t\\t_self.imageBasePos.w = imageWidth\\n\\t\\t\\t\\t\\t\\t_self.imageBasePos.h = imageWidth\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t},\\n\\t\\t\\tfindOverlapImage: function(posX, posY){\\n\\t\\t\\t\\tlet rows = Math.floor((posX-this.imageBasePos.x0)/this.imageBasePos.w)\\n\\t\\t\\t\\tlet cols = Math.floor((posY-this.imageBasePos.y0)/this.imageBasePos.h)\\n\\t\\t\\t\\tlet indx = cols*4 + rows\\n\\t\\t\\t\\treturn indx\\n\\t\\t\\t},\\n\\t\\t\\tisDragging: function(indx){\\n\\t\\t\\t\\treturn this.dragIndex === indx\\n\\t\\t\\t},\\n\\t\\t\\tstart: function(e){\\n\\t\\t\\t\\tif(!this.isDragable){\\n\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.dragIndex = e.currentTarget.dataset.index\\n\\t\\t\\t\\tthis.moveImagePath = this.value[this.dragIndex]\\n\\t\\t\\t\\tthis.showMoveImage = true\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//计算纵向图片基准位置\\n\\t\\t\\t\\tif(this.imageBasePos.y0 === -1){\\n\\t\\t\\t\\t\\tthis.initImageBasePos()\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\tlet basePosY = Math.floor(this.dragIndex / 4) * this.imageBasePos.h\\n\\t\\t\\t\\t\\tlet currentImageOffsetTop = e.currentTarget.offsetTop\\n\\t\\t\\t\\t\\tthis.imageBasePos.y0 = currentImageOffsetTop - basePosY\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//设置选中图片当前左上角的坐标\\n\\t\\t\\t\\tthis.moveLeft = e.target.offsetLeft\\n\\t\\t\\t\\tthis.moveTop = e.target.offsetTop\\n\\t\\t\\t},\\n\\t\\t\\tmove: function(e){\\n\\t\\t\\t\\tif(!this.isDragable){\\n\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tconst touch = e.touches[0]\\n\\t\\t\\t\\tthis.targetImageIndex = this.findOverlapImage(touch.clientX, touch.clientY)\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//初始化deltaLeft/deltaTop\\n\\t\\t\\t\\tif(this.deltaLeft === 0){\\n\\t\\t\\t\\t\\tthis.deltaLeft = touch.clientX - this.moveLeft\\n\\t\\t\\t\\t\\tthis.deltaTop = touch.clientY - this.moveTop \\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//设置移动图片位置\\n\\t\\t\\t\\tthis.moveLeft = touch.clientX - this.deltaLeft\\n\\t\\t\\t\\tthis.moveTop = touch.clientY - this.deltaTop\\n\\t\\t\\t},\\n\\t\\t\\tstop: function(e){\\n\\t\\t\\t\\tif(!this.isDragable){\\n\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif(this.dragIndex !== null && this.targetImageIndex !== null){\\n\\t\\t\\t\\t\\tif(this.targetImageIndex<0){\\n\\t\\t\\t\\t\\t\\tthis.targetImageIndex = 0\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\tif(this.targetImageIndex>=this.value.length){\\n\\t\\t\\t\\t\\t\\tthis.targetImageIndex = this.value.length-1\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t//交换图片\\n\\t\\t\\t\\t\\tif(this.dragIndex !== this.targetImageIndex){\\n\\t\\t\\t\\t\\t\\tthis.value[this.dragIndex] = this.value[this.targetImageIndex]\\n\\t\\t\\t\\t\\t\\tthis.value[this.targetImageIndex] = this.moveImagePath\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tthis.dragIndex = null\\n\\t\\t\\t\\tthis.targetImageIndex = null\\n\\t\\t\\t\\tthis.deltaLeft = 0\\n\\t\\t\\t\\tthis.deltaTop = 0\\n\\t\\t\\t\\tthis.showMoveImage = false\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tthis.$emit('input', this.value)\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\\n  var l0 = _vm.__map(_vm.value, function (path, index) {\\n    var m0 = _vm.isDragging(index);\\n    return {\\n      $orig: _vm.__get_orig(path),\\n      m0: m0\\n    };\\n  });\\n\\n  _vm.$mp.data = Object.assign({}, {\\n    $root: {\\n      l0: l0\\n    }\\n  });\\n}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=template&id=1966c692&\\\"\",\"import mod from \\\"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=style&index=0&lang=css&\\\"; export default mod; export * from \\\"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=style&index=0&lang=css&\\\"\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"components/robby-image-upload/robby-image-upload\"],{\"73ba\":function(e,t,a){\"use strict\";a.r(t);var i=a(\"e245\"),n=a(\"d1b1\");for(var s in n)\"default\"!==s&&function(e){a.d(t,e,function(){return n[e]})}(s);a(\"f94b\");var o=a(\"2877\"),r=Object(o[\"a\"])(n[\"default\"],i[\"a\"],i[\"b\"],!1,null,null,null);t[\"default\"]=r.exports},d1b1:function(e,t,a){\"use strict\";a.r(t);var i=a(\"d5e3\"),n=a.n(i);for(var s in i)\"default\"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);t[\"default\"]=n.a},d5e3:function(e,t,a){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i,n=a(\"c440\"),s=a(\"5177\"),o={name:\"robby-image-upload\",props:[\"value\",\"enableDel\",\"enableAdd\",\"enableDrag\",\"serverUrl\",\"formData\",\"limit\",\"fileKeyName\",\"showUploadProgress\",\"serverUrlDeleteImage\"],data:function(){return{imageBasePos:{x0:-1,y0:-1,w:-1,h:-1},showMoveImage:!1,moveImagePath:\"\",moveLeft:0,moveTop:0,deltaLeft:0,deltaTop:0,dragIndex:null,targetImageIndex:null,picUrl:[],imageUpload:\"/static/icon/icon_image_upload.png\"}},computed:{posMoveImageLeft:function(){return this.moveLeft+\"px\"},posMoveImageTop:function(){return this.moveTop+\"px\"},isShowDel:function(){return!1!==this.enableDel},isShowAdd:function(){return!1!==this.enableAdd&&!(this.limit&&this.value.length>=this.limit)},isDragable:function(){return!1!==this.enableDrag}},methods:{selectImage:function(){var t=this;i=this,i.value||(i.value=[]),e.chooseImage({count:i.limit?i.limit-i.value.length:999,success:function(a){var o=a.tempFilePaths;if(i.limit){var r=i.limit-i.value.length;if(r<o.length)return void e.showToast({title:\"图片总数限制为\"+i.limit+\"张，当前还可以选\"+r+\"张\",icon:\"none\",mask:!1,duration:2e3})}var l=o[0],u={};(0,n.upload)(s.OrderDryingUpload,u,l).then(function(e){console.log(e);var a=JSON.parse(e);console.log(a.PicUrl),console.log(i.picUrl);var n=[a.PicUrl];console.log(i.picUrl,n),i.picUrl=i.picUrl.concat(a.PicUrl),t.$emit(\"add\",i.picUrl)});for(var h=0;h<o.length;h++)i.value.push(o[h])}})},deleteImage:function(e){var t=e.currentTarget.dataset.index,a=this.value[t];this.value.splice(t,1),this.picUrl.splice(t,1),this.$emit(\"delete\",{currentImage:a,allImages:this.picUrl}),this.$emit(\"input\",this.value)},previewImage:function(t){var a=t.currentTarget.dataset.index;e.previewImage({current:this.value[a],indicator:\"number\",loop:\"true\",urls:this.value})},initImageBasePos:function(){var t=.024;i=this,e.getSystemInfo({success:function(e){var a=e.screenWidth,n=Math.ceil(t*a),s=Math.ceil((a-2*n)/4);i.imageBasePos.x0=n,i.imageBasePos.w=s,i.imageBasePos.h=s}})},findOverlapImage:function(e,t){var a=Math.floor((e-this.imageBasePos.x0)/this.imageBasePos.w),i=Math.floor((t-this.imageBasePos.y0)/this.imageBasePos.h),n=4*i+a;return n},isDragging:function(e){return this.dragIndex===e},start:function(e){if(this.isDragable){if(this.dragIndex=e.currentTarget.dataset.index,this.moveImagePath=this.value[this.dragIndex],this.showMoveImage=!0,-1===this.imageBasePos.y0){this.initImageBasePos();var t=Math.floor(this.dragIndex/4)*this.imageBasePos.h,a=e.currentTarget.offsetTop;this.imageBasePos.y0=a-t}this.moveLeft=e.target.offsetLeft,this.moveTop=e.target.offsetTop}},move:function(e){if(this.isDragable){var t=e.touches[0];this.targetImageIndex=this.findOverlapImage(t.clientX,t.clientY),0===this.deltaLeft&&(this.deltaLeft=t.clientX-this.moveLeft,this.deltaTop=t.clientY-this.moveTop),this.moveLeft=t.clientX-this.deltaLeft,this.moveTop=t.clientY-this.deltaTop}},stop:function(e){this.isDragable&&(null!==this.dragIndex&&null!==this.targetImageIndex&&(this.targetImageIndex<0&&(this.targetImageIndex=0),this.targetImageIndex>=this.value.length&&(this.targetImageIndex=this.value.length-1),this.dragIndex!==this.targetImageIndex&&(this.value[this.dragIndex]=this.value[this.targetImageIndex],this.value[this.targetImageIndex]=this.moveImagePath)),this.dragIndex=null,this.targetImageIndex=null,this.deltaLeft=0,this.deltaTop=0,this.showMoveImage=!1,this.$emit(\"input\",this.value))}}};t.default=o}).call(this,a(\"543d\")[\"default\"])},e245:function(e,t,a){\"use strict\";var i=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__map(e.value,function(t,a){var i=e.isDragging(a);return{$orig:e.__get_orig(t),m0:i}}));e.$mp.data=Object.assign({},{$root:{l0:a}})},n=[];a.d(t,\"a\",function(){return i}),a.d(t,\"b\",function(){return n})},f94b:function(e,t,a){\"use strict\";var i=a(\"ffb7\"),n=a.n(i);n.a},ffb7:function(e,t,a){}}]);","extractedComments":[]}