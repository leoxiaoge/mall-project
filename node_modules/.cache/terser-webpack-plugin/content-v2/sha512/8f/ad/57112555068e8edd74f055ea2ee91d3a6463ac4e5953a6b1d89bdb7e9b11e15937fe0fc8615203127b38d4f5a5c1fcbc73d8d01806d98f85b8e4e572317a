{"map":"{\"version\":3,\"sources\":[\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=template&id=024a6970&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=template&id=024a6970&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=script&lang=js&\",\"/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js??ref--6-oneOf-1-2!/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/robby-image-upload/robby-image-upload.vue?vue&type=style&index=0&lang=css&\"],\"names\":[\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_robby_image_upload_vue_vue_type_template_id_024a6970___WEBPACK_IMPORTED_MODULE_0__\",\"_robby_image_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"d\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__\",\"component\",\"Object\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"l0\",\"_self\",\"_c\",\"__map\",\"value\",\"path\",\"index\",\"m0\",\"isDragging\",\"$orig\",\"__get_orig\",\"$mp\",\"data\",\"assign\",\"$root\",\"staticRenderFns\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"_util\",\"_api\",\"name\",\"props\",\"imageBasePos\",\"x0\",\"y0\",\"w\",\"h\",\"showMoveImage\",\"moveImagePath\",\"moveLeft\",\"moveTop\",\"deltaLeft\",\"deltaTop\",\"dragIndex\",\"targetImageIndex\",\"picUrl\",\"imageUpload\",\"computed\",\"posMoveImageLeft\",\"posMoveImageTop\",\"isShowDel\",\"enableDel\",\"isShowAdd\",\"enableAdd\",\"limit\",\"length\",\"isDragable\",\"enableDrag\",\"methods\",\"selectImage\",\"uni\",\"chooseImage\",\"count\",\"success\",\"e\",\"imagePathArr\",\"tempFilePaths\",\"availableImageNumber\",\"title\",\"concat\",\"showToast\",\"console\",\"log\",\"forEach\",\"item\",\"uploadImage\",\"i\",\"push\",\"filePath\",\"_this\",\"upload\",\"OrderDryingUpload\",\"then\",\"res\",\"JSON\",\"parse\",\"PicUrl\",\"$emit\",\"currentImage\",\"allImages\",\"deleteImage\",\"imageIndex\",\"currentTarget\",\"dataset\",\"deletedImagePath\",\"splice\",\"previewImage\",\"current\",\"indicator\",\"loop\",\"urls\",\"initImageBasePos\",\"paddingRate\",\"getSystemInfo\",\"obj\",\"screenWidth\",\"leftPadding\",\"Math\",\"ceil\",\"imageWidth\",\"findOverlapImage\",\"posX\",\"posY\",\"rows\",\"floor\",\"cols\",\"indx\",\"start\",\"movePicImagePath\",\"basePosY\",\"currentImageOffsetTop\",\"offsetTop\",\"target\",\"offsetLeft\",\"move\",\"touch\",\"touches\",\"clientX\",\"clientY\",\"stop\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_robby_image_upload_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\"],\"mappings\":\"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\",\"sourcesContent\":[\"import { render, staticRenderFns } from \\\"./robby-image-upload.vue?vue&type=template&id=024a6970&\\\"\\nimport script from \\\"./robby-image-upload.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./robby-image-upload.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./robby-image-upload.vue?vue&type=style&index=0&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\\n  var l0 = _vm.__map(_vm.value, function (path, index) {\\n    var m0 = _vm.isDragging(index);\\n    return {\\n      $orig: _vm.__get_orig(path),\\n      m0: m0\\n    };\\n  });\\n\\n  _vm.$mp.data = Object.assign({}, {\\n    $root: {\\n      l0: l0\\n    }\\n  });\\n}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=template&id=024a6970&\\\"\",\"import mod from \\\"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=script&lang=js&\\\"\",\"//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n//\\n\\n\\tvar _self;\\n\\timport { upload, navigateTo, showToast } from \\\"@/common/utils/util\\\";\\n  import { OrderDryingUpload } from \\\"@/common/config/api\\\";\\n\\texport default {\\n\\t\\tname:'robby-image-upload',\\n\\t\\tprops: ['value','enableDel','enableAdd','enableDrag','formData','limit','fileKeyName','showUploadProgress'],\\n\\t\\tdata() {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\timageBasePos:{\\n\\t\\t\\t\\t\\tx0: -1,\\n\\t\\t\\t\\t\\ty0: -1,\\n\\t\\t\\t\\t\\tw:-1,\\n\\t\\t\\t\\t\\th:-1,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tshowMoveImage: false,\\n\\t\\t\\t\\tmoveImagePath: '',\\n\\t\\t\\t\\tmoveLeft: 0,\\n\\t\\t\\t\\tmoveTop: 0,\\n\\t\\t\\t\\tdeltaLeft: 0,\\n\\t\\t\\t\\tdeltaTop: 0,\\n\\t\\t\\t\\tdragIndex: null,\\n\\t\\t\\t\\ttargetImageIndex: null,\\n\\t\\t\\t\\tpicUrl: [],\\n\\t\\t\\t\\timageUpload: \\\"/static/icon/icon_image_upload.png\\\"\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcomputed:{\\n\\t\\t\\tposMoveImageLeft: function(){ \\n\\t\\t\\t\\treturn this.moveLeft + 'px'\\n\\t\\t\\t},\\n\\t\\t\\tposMoveImageTop: function(){\\n\\t\\t\\t\\treturn this.moveTop + 'px'\\n\\t\\t\\t},\\n\\t\\t\\tisShowDel: function(){\\n\\t\\t\\t\\tif(this.enableDel === false){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}else{\\n\\t\\t\\t\\t\\treturn true\\n\\t\\t\\t\\t}\\n\\t\\t\\t},\\n\\t\\t\\tisShowAdd: function(){\\n\\t\\t\\t\\tif(this.enableAdd === false){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tif(this.limit && this.value.length >= this.limit){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\treturn true\\n\\t\\t\\t},\\n\\t\\t\\tisDragable: function(){\\n\\t\\t\\t\\tif(this.enableDrag === false){\\n\\t\\t\\t\\t\\treturn false\\n\\t\\t\\t\\t}else{\\n\\t\\t\\t\\t\\treturn true\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tmethods:{\\n\\t\\t\\tselectImage: function(){\\n\\t\\t\\t\\t_self = this\\n\\t\\t\\t\\tif(!_self.value){\\n\\t\\t\\t\\t\\t_self.value = []\\n\\t\\t\\t\\t} \\n\\t\\t\\t\\t\\n\\t\\t\\t\\tuni.chooseImage({\\n\\t\\t\\t\\t\\tcount: _self.limit ? (_self.limit - _self.value.length) : 999,\\n\\t\\t\\t\\t\\tsuccess: (e) => {\\n\\t\\t\\t\\t\\t\\tvar imagePathArr = e.tempFilePaths\\n\\t\\t\\t\\t\\t\\t//如果设置了limit限制，在web上count参数无效，这里做判断控制选择的数量是否合要求\\n\\t\\t\\t\\t\\t\\t//在非微信小程序里，虽然可以选多张，但选择的结果会被截掉\\n\\t\\t\\t\\t\\t\\t//在app里，会自动做选择数量的限制\\n\\t\\t\\t\\t\\t\\tif(_self.limit){\\n\\t\\t\\t\\t\\t\\t\\tvar availableImageNumber = _self.limit - _self.value.length\\n\\t\\t\\t\\t\\t\\t\\tif(availableImageNumber < imagePathArr.length){\\n\\t\\t\\t\\t\\t\\t\\t\\tlet title = `图片总数限制为${_self.limit}张，当前还可以选${availableImageNumber}张`\\n\\t\\t\\t\\t\\t\\t\\t\\tshowToast(title)\\n\\t\\t\\t\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tconsole.log(imagePathArr)\\n\\t\\t\\t\\t\\t\\timagePathArr.forEach((item) => {\\n\\t\\t\\t\\t\\t\\t\\t_self.uploadImage(item)\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\tfor(let i=0; i<imagePathArr.length;i++){\\n\\t\\t\\t\\t\\t\\t\\t_self.value.push(imagePathArr[i])\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t},\\n\\t\\t\\tuploadImage: function(filePath) {\\n\\t\\t\\t\\tlet data = {};\\n\\t\\t\\t\\tupload(OrderDryingUpload, data, filePath).then((res) => {\\n\\t\\t\\t\\t\\tconsole.log(res)\\n\\t\\t\\t\\t\\tlet data = JSON.parse(res)\\n\\t\\t\\t\\t\\tconsole.log(data.PicUrl)\\n\\t\\t\\t\\t\\tconsole.log(_self.picUrl)\\n\\t\\t\\t\\t\\tlet picUrl = data.PicUrl\\n\\t\\t\\t\\t\\tconsole.log(_self.picUrl, picUrl)\\n\\t\\t\\t\\t\\t_self.picUrl = _self.picUrl.concat(data.PicUrl);\\n\\t\\t\\t\\t\\tthis.$emit('add',{\\n\\t\\t\\t\\t\\t\\tcurrentImage: picUrl,\\n\\t\\t\\t\\t\\t\\tallImages: _self.picUrl\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t});\\n\\t\\t\\t},\\n\\t\\t\\tdeleteImage: function(e){\\n\\t\\t\\t\\tvar imageIndex = e.currentTarget.dataset.index\\n\\t\\t\\t\\tvar deletedImagePath = this.value[imageIndex]\\n\\t\\t\\t\\tthis.value.splice(imageIndex, 1) \\n\\t\\t\\t\\tthis.picUrl.splice(imageIndex, 1)\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tthis.$emit('delete',{\\n\\t\\t\\t\\t\\tcurrentImage: deletedImagePath,\\n\\t\\t\\t\\t\\tallImages: this.picUrl\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tthis.$emit('input', this.value)\\n\\t\\t\\t},\\n\\t\\t\\tpreviewImage: function(e){\\n\\t\\t\\t\\tvar imageIndex = e.currentTarget.dataset.index\\n\\t\\t\\t\\tuni.previewImage({\\n\\t\\t\\t\\t\\tcurrent: this.value[imageIndex],\\n\\t\\t\\t\\t\\tindicator: \\\"number\\\",\\n\\t\\t\\t\\t\\tloop: \\\"true\\\",\\n\\t\\t\\t\\t\\turls:this.value\\n\\t\\t\\t\\t})\\n\\t\\t\\t},\\n\\t\\t\\tinitImageBasePos: function(){\\n\\t\\t\\t\\tlet paddingRate = 0.024\\n\\t\\t\\t\\t_self = this\\n\\t\\t\\t\\t//计算图片基准位置\\n\\t\\t\\t\\tuni.getSystemInfo({\\n\\t\\t\\t\\t\\tsuccess: function(obj) {\\n\\t\\t\\t\\t\\t\\tlet screenWidth = obj.screenWidth\\n\\t\\t\\t\\t\\t\\tlet leftPadding = Math.ceil(paddingRate * screenWidth)\\n\\t\\t\\t\\t\\t\\tlet imageWidth = Math.ceil((screenWidth - 2*leftPadding)/4)\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t_self.imageBasePos.x0 = leftPadding\\n\\t\\t\\t\\t\\t\\t_self.imageBasePos.w = imageWidth\\n\\t\\t\\t\\t\\t\\t_self.imageBasePos.h = imageWidth\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t},\\n\\t\\t\\tfindOverlapImage: function(posX, posY){\\n\\t\\t\\t\\tlet rows = Math.floor((posX-this.imageBasePos.x0)/this.imageBasePos.w)\\n\\t\\t\\t\\tlet cols = Math.floor((posY-this.imageBasePos.y0)/this.imageBasePos.h)\\n\\t\\t\\t\\tlet indx = cols*4 + rows\\n\\t\\t\\t\\treturn indx\\n\\t\\t\\t},\\n\\t\\t\\tisDragging: function(indx){\\n\\t\\t\\t\\treturn this.dragIndex === indx\\n\\t\\t\\t},\\n\\t\\t\\tstart: function(e){\\n\\t\\t\\t\\tif(!this.isDragable){\\n\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.dragIndex = e.currentTarget.dataset.index\\n\\t\\t\\t\\tthis.moveImagePath = this.value[this.dragIndex]\\n\\t\\t\\t\\tthis.movePicImagePath = this.picUrl[this.dragIndex]\\n\\t\\t\\t\\tthis.showMoveImage = true\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//计算纵向图片基准位置\\n\\t\\t\\t\\tif(this.imageBasePos.y0 === -1){\\n\\t\\t\\t\\t\\tthis.initImageBasePos()\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\tlet basePosY = Math.floor(this.dragIndex / 4) * this.imageBasePos.h\\n\\t\\t\\t\\t\\tlet currentImageOffsetTop = e.currentTarget.offsetTop\\n\\t\\t\\t\\t\\tthis.imageBasePos.y0 = currentImageOffsetTop - basePosY\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//设置选中图片当前左上角的坐标\\n\\t\\t\\t\\tthis.moveLeft = e.target.offsetLeft\\n\\t\\t\\t\\tthis.moveTop = e.target.offsetTop\\n\\t\\t\\t},\\n\\t\\t\\tmove: function(e){\\n\\t\\t\\t\\tif(!this.isDragable){\\n\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tconst touch = e.touches[0]\\n\\t\\t\\t\\tthis.targetImageIndex = this.findOverlapImage(touch.clientX, touch.clientY)\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//初始化deltaLeft/deltaTop\\n\\t\\t\\t\\tif(this.deltaLeft === 0){\\n\\t\\t\\t\\t\\tthis.deltaLeft = touch.clientX - this.moveLeft\\n\\t\\t\\t\\t\\tthis.deltaTop = touch.clientY - this.moveTop \\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t//设置移动图片位置\\n\\t\\t\\t\\tthis.moveLeft = touch.clientX - this.deltaLeft\\n\\t\\t\\t\\tthis.moveTop = touch.clientY - this.deltaTop\\n\\t\\t\\t},\\n\\t\\t\\tstop: function(e){\\n\\t\\t\\t\\tif(!this.isDragable){\\n\\t\\t\\t\\t\\treturn\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif(this.dragIndex !== null && this.targetImageIndex !== null){\\n\\t\\t\\t\\t\\tif(this.targetImageIndex<0){\\n\\t\\t\\t\\t\\t\\tthis.targetImageIndex = 0\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\\tif(this.targetImageIndex>=this.value.length){\\n\\t\\t\\t\\t\\t\\tthis.targetImageIndex = this.value.length-1\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t//交换图片\\n\\t\\t\\t\\t\\tif(this.dragIndex !== this.targetImageIndex){\\n\\t\\t\\t\\t\\t\\tthis.value[this.dragIndex] = this.value[this.targetImageIndex]\\n\\t\\t\\t\\t\\t\\tthis.value[this.targetImageIndex] = this.moveImagePath\\n\\t\\t\\t\\t\\t\\tthis.picUrl[this.dragIndex] = this.picUrl[this.targetImageIndex]\\n\\t\\t\\t\\t\\t\\tthis.picUrl[this.targetImageIndex] = this.movePicImagePath\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\n\\t\\t\\t\\tthis.dragIndex = null\\n\\t\\t\\t\\tthis.targetImageIndex = null\\n\\t\\t\\t\\tthis.deltaLeft = 0\\n\\t\\t\\t\\tthis.deltaTop = 0\\n\\t\\t\\t\\tthis.showMoveImage = false\\n\\t\\t\\t\\tconsole.log(this.value)\\n\\t\\t\\t\\tconsole.log(this.picUrl)\\n\\t\\t\\t\\tthis.$emit('input', this.value)\\n\\t\\t\\t\\tthis.$emit('picUrlInput', this.picUrl)\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n\",\"import mod from \\\"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=style&index=0&lang=css&\\\"; export default mod; export * from \\\"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./robby-image-upload.vue?vue&type=style&index=0&lang=css&\\\"\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"components/robby-image-upload/robby-image-upload\"],{\"73ba\":function(e,t,a){\"use strict\";a.r(t);var i=a(\"a614\"),s=a(\"d1b1\");for(var n in s)\"default\"!==n&&function(e){a.d(t,e,function(){return s[e]})}(n);a(\"f94b\");var o=a(\"2877\"),r=Object(o[\"a\"])(s[\"default\"],i[\"a\"],i[\"b\"],!1,null,null,null);t[\"default\"]=r.exports},a614:function(e,t,a){\"use strict\";var i=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__map(e.value,function(t,a){var i=e.isDragging(a);return{$orig:e.__get_orig(t),m0:i}}));e.$mp.data=Object.assign({},{$root:{l0:a}})},s=[];a.d(t,\"a\",function(){return i}),a.d(t,\"b\",function(){return s})},d1b1:function(e,t,a){\"use strict\";a.r(t);var i=a(\"d5e3\"),s=a.n(i);for(var n in i)\"default\"!==n&&function(e){a.d(t,e,function(){return i[e]})}(n);t[\"default\"]=s.a},d5e3:function(e,t,a){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i,s=a(\"c440\"),n=a(\"5177\"),o={name:\"robby-image-upload\",props:[\"value\",\"enableDel\",\"enableAdd\",\"enableDrag\",\"formData\",\"limit\",\"fileKeyName\",\"showUploadProgress\"],data:function(){return{imageBasePos:{x0:-1,y0:-1,w:-1,h:-1},showMoveImage:!1,moveImagePath:\"\",moveLeft:0,moveTop:0,deltaLeft:0,deltaTop:0,dragIndex:null,targetImageIndex:null,picUrl:[],imageUpload:\"/static/icon/icon_image_upload.png\"}},computed:{posMoveImageLeft:function(){return this.moveLeft+\"px\"},posMoveImageTop:function(){return this.moveTop+\"px\"},isShowDel:function(){return!1!==this.enableDel},isShowAdd:function(){return!1!==this.enableAdd&&!(this.limit&&this.value.length>=this.limit)},isDragable:function(){return!1!==this.enableDrag}},methods:{selectImage:function(){i=this,i.value||(i.value=[]),e.chooseImage({count:i.limit?i.limit-i.value.length:999,success:function(e){var t=e.tempFilePaths;if(i.limit){var a=i.limit-i.value.length;if(a<t.length){var n=\"图片总数限制为\".concat(i.limit,\"张，当前还可以选\").concat(a,\"张\");return void(0,s.showToast)(n)}}console.log(t),t.forEach(function(e){i.uploadImage(e)});for(var o=0;o<t.length;o++)i.value.push(t[o])}})},uploadImage:function(e){var t=this,a={};(0,s.upload)(n.OrderDryingUpload,a,e).then(function(e){console.log(e);var a=JSON.parse(e);console.log(a.PicUrl),console.log(i.picUrl);var s=a.PicUrl;console.log(i.picUrl,s),i.picUrl=i.picUrl.concat(a.PicUrl),t.$emit(\"add\",{currentImage:s,allImages:i.picUrl})})},deleteImage:function(e){var t=e.currentTarget.dataset.index,a=this.value[t];this.value.splice(t,1),this.picUrl.splice(t,1),this.$emit(\"delete\",{currentImage:a,allImages:this.picUrl}),this.$emit(\"input\",this.value)},previewImage:function(t){var a=t.currentTarget.dataset.index;e.previewImage({current:this.value[a],indicator:\"number\",loop:\"true\",urls:this.value})},initImageBasePos:function(){var t=.024;i=this,e.getSystemInfo({success:function(e){var a=e.screenWidth,s=Math.ceil(t*a),n=Math.ceil((a-2*s)/4);i.imageBasePos.x0=s,i.imageBasePos.w=n,i.imageBasePos.h=n}})},findOverlapImage:function(e,t){var a=Math.floor((e-this.imageBasePos.x0)/this.imageBasePos.w),i=Math.floor((t-this.imageBasePos.y0)/this.imageBasePos.h),s=4*i+a;return s},isDragging:function(e){return this.dragIndex===e},start:function(e){if(this.isDragable){if(this.dragIndex=e.currentTarget.dataset.index,this.moveImagePath=this.value[this.dragIndex],this.movePicImagePath=this.picUrl[this.dragIndex],this.showMoveImage=!0,-1===this.imageBasePos.y0){this.initImageBasePos();var t=Math.floor(this.dragIndex/4)*this.imageBasePos.h,a=e.currentTarget.offsetTop;this.imageBasePos.y0=a-t}this.moveLeft=e.target.offsetLeft,this.moveTop=e.target.offsetTop}},move:function(e){if(this.isDragable){var t=e.touches[0];this.targetImageIndex=this.findOverlapImage(t.clientX,t.clientY),0===this.deltaLeft&&(this.deltaLeft=t.clientX-this.moveLeft,this.deltaTop=t.clientY-this.moveTop),this.moveLeft=t.clientX-this.deltaLeft,this.moveTop=t.clientY-this.deltaTop}},stop:function(e){this.isDragable&&(null!==this.dragIndex&&null!==this.targetImageIndex&&(this.targetImageIndex<0&&(this.targetImageIndex=0),this.targetImageIndex>=this.value.length&&(this.targetImageIndex=this.value.length-1),this.dragIndex!==this.targetImageIndex&&(this.value[this.dragIndex]=this.value[this.targetImageIndex],this.value[this.targetImageIndex]=this.moveImagePath,this.picUrl[this.dragIndex]=this.picUrl[this.targetImageIndex],this.picUrl[this.targetImageIndex]=this.movePicImagePath)),this.dragIndex=null,this.targetImageIndex=null,this.deltaLeft=0,this.deltaTop=0,this.showMoveImage=!1,console.log(this.value),console.log(this.picUrl),this.$emit(\"input\",this.value),this.$emit(\"picUrlInput\",this.picUrl))}}};t.default=o}).call(this,a(\"543d\")[\"default\"])},f94b:function(e,t,a){\"use strict\";var i=a(\"ffb7\"),s=a.n(i);s.a},ffb7:function(e,t,a){}}]);","extractedComments":[]}