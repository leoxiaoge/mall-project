{"map":"{\"version\":3,\"sources\":[\"pages/index/home.js\"],\"names\":[\"global\",\"push\",\"36ff\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"_node_modules_babel_loader_lib_index_js_node_modules_ts_loader_index_js_ref_13_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_2_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_ts_loader_index_js_ref_13_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_2_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"d\",\"61e8\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"staticRenderFns\",\"6327\",\"exports\",\"8a86\",\"uni\",\"Object\",\"defineProperty\",\"value\",\"default\",\"_regenerator\",\"_interopRequireDefault\",\"_vue\",\"_util\",\"_api\",\"obj\",\"__esModule\",\"asyncGeneratorStep\",\"gen\",\"resolve\",\"reject\",\"_next\",\"_throw\",\"arg\",\"info\",\"error\",\"done\",\"Promise\",\"then\",\"_asyncToGenerator\",\"fn\",\"self\",\"args\",\"arguments\",\"apply\",\"err\",\"undefined\",\"MescrollUni\",\"all\",\"e\",\"bind\",\"showTips\",\"uniGrid\",\"productListBeing\",\"productList\",\"socketOpen\",\"socketMsgQueue\",\"_default\",\"extend\",\"components\",\"data\",\"indicatorDots\",\"autoplay\",\"interval\",\"duration\",\"circular\",\"indicatorActiveColor\",\"easing\",\"multiple\",\"searchIcon\",\"productListIng\",\"productListData\",\"swiperGridHeight\",\"swiperGridWidth\",\"swiper\",\"LastTranActiveList\",\"activeids\",\"isReseMode\",\"PageCount\",\"pageNum\",\"pageSize\",\"list\",\"image\",\"text\",\"navigateTo\",\"mescroll\",\"onLoad\",\"options\",\"sessionKey\",\"getStorageSync\",\"userInfo\",\"id\",\"scene\",\"setStorageSync\",\"_scene\",\"decodeURIComponent\",\"console\",\"log\",\"onShow\",\"websocket\",\"onHide\",\"closeSocket\",\"onUnload\",\"onShareAppMessage\",\"methods\",\"_this\",\"connectSocket\",\"url\",\"onSocketOpen\",\"res\",\"hideLoading\",\"i\",\"length\",\"sendSocketMessage\",\"getHomeProductList\",\"downCallback\",\"onSocketMessage\",\"onSocketError\",\"showErrorToast\",\"msg\",\"JSON\",\"stringify\",\"_this2\",\"parse\",\"msgType\",\"map\",\"item\",\"ActiveID\",\"Active\",\"ID\",\"LastBill\",\"LastBillUserName\",\"nick\",\"LastBillUserFace\",\"face\",\"Price\",\"SeqMiniSeconds\",\"Status\",\"productListIngs\",\"productLists\",\"msgSubscribe\",\"Activeids\",\"msgTime\",\"formatTime\",\"Date\",\"reqSubscribe\",\"getAdsList\",\"getLastTransactionList\",\"resetUpScroll\",\"upCallback\",\"_this3\",\"getListDataFromNet\",\"num\",\"size\",\"curPageData\",\"endSuccess\",\"concat\",\"endErr\",\"_getListDataFromNet\",\"mark\",\"_callee\",\"successCallback\",\"errorCallback\",\"dataIng\",\"dataMsgIng\",\"wrap\",\"_context\",\"prev\",\"next\",\"getHomeProductListIng\",\"sent\",\"t0\",\"stop\",\"_x\",\"_x2\",\"_x3\",\"_x4\",\"_this4\",\"AdName\",\"request\",\"AdsListGet\",\"AdsList\",\"AdsViewList\",\"_this5\",\"LastTransactionListGet\",\"OrderUserNick\",\"_this6\",\"PageID\",\"PageSize\",\"SearchType\",\"HomeProductListGet\",\"ProductList\",\"catch\",\"_this7\",\"lower\",\"noticeList\",\"search\",\"listClick\",\"navigate\",\"productDetailsTo\",\"adLinkUrl\",\"adParaments\",\"call\",\"c96d\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"e79a\",\"_home_vue_vue_type_template_id_7e0ecd26___WEBPACK_IMPORTED_MODULE_0__\",\"_home_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__\",\"component\",\"f661\",\"createPage\",\"_home\"],\"mappings\":\"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\"}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"pages/index/home\"],{\"36ff\":function(t,e,n){\"use strict\";n.r(e);var i=n(\"8a86\"),o=n.n(i);for(var c in i)\"default\"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);e[\"default\"]=o.a},\"61e8\":function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,\"a\",(function(){return i})),n.d(e,\"b\",(function(){return o}))},6327:function(t,e,n){},\"8a86\":function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=a(n(\"a34a\")),o=a(n(\"66fd\")),c=n(\"c440\"),s=n(\"5177\");function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,o,c,s){try{var a=t[c](s),r=a.value}catch(u){return void n(u)}a.done?e(r):Promise.resolve(r).then(i,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var c=t.apply(e,n);function s(t){r(c,i,o,s,a,\"next\",t)}function a(t){r(c,i,o,s,a,\"throw\",t)}s(void 0)}))}}var l=function(){return Promise.all([n.e(\"common/vendor\"),n.e(\"components/mescroll-diy/mescroll-beibei\")]).then(n.bind(null,\"3e72\"))},d=function(){return n.e(\"components/redflower-showTips/redflower-showTips\").then(n.bind(null,\"0ad7\"))},f=function(){return n.e(\"components/uni-grid/uni-grid\").then(n.bind(null,\"cff3\"))},g=function(){return n.e(\"components/product-list-being/product-list-being\").then(n.bind(null,\"8c9a\"))},p=function(){return n.e(\"components/product-list/product-list\").then(n.bind(null,\"4207\"))},v=!1,m=[],h=o.default.extend({components:{MescrollUni:l,showTips:d,uniGrid:f,productListBeing:g,productList:p},data:function(){return{indicatorDots:!0,autoplay:!0,interval:5e3,duration:500,circular:!0,indicatorActiveColor:\"#fe7f00\",easing:\"easeInOutCubic\",multiple:1,searchIcon:\"/static/icon/icon_search.png\",productList:[],productListIng:[],productListData:[],swiperGridHeight:\"0px\",swiperGridWidth:\"100%\",swiper:[],LastTranActiveList:[],activeids:[],isReseMode:!1,PageCount:1,pageNum:1,pageSize:10,list:[{image:\"/static/icon_experience.png\",text:\"品类\",navigateTo:\"experience\"},{image:\"/static/icon_show.png\",text:\"晒单\",navigateTo:\"show\"},{image:\"/static/icon_exchange.png\",text:\"兑换\",navigateTo:\"exchange\"},{image:\"/static/icon_guide.png\",text:\"新手指南\",navigateTo:\"guide\"}],mescroll:null}},onLoad:function(e){var n=t.getStorageSync(\"SessionKey\"),i=t.getStorageSync(\"UserInfo\");if(e.id){var o=e.id;n||i||t.setStorageSync(\"scene\",o)}if(e.scene){var c=decodeURIComponent(e.scene);console.log(\"scene:\"+c),n||i||t.setStorageSync(\"scene\",c)}},onShow:function(){this.websocket()},onHide:function(){t.closeSocket()},onUnload:function(){t.closeSocket()},onShareAppMessage:function(t){return(0,c.onShareAppMessage)(t)},methods:{websocket:function(){var e=this;t.connectSocket({url:\"wss://websocket.tengpaisc.com\"}),t.onSocketOpen((function(n){console.log(\"WebSocket连接已打开！\"),t.hideLoading(),v=!0;for(var i=0;i<m.length;i++)e.sendSocketMessage(m[i]);if(m=[],e.getHomeProductList(),e.mescroll){var o=e.mescroll;e.downCallback(o)}e.onSocketMessage()})),t.onSocketError((function(t){console.log(\"WebSocket连接打开失败，请检查！\"),(0,c.showErrorToast)(\"断线重连中...\"),e.websocket()}))},sendSocketMessage:function(e){var n=JSON.stringify(e);console.log(\"发送数据\",v,e),v?t.sendSocketMessage({data:n}):m.push(e)},onSocketMessage:function(){var e=this;t.onSocketMessage((function(t){console.log(\"收到服务器内容：\"+t.data);var n=JSON.parse(t.data),i=n.msgType;if(null!=n)try{switch(i){case 21:e.productListIng.map((function(t){n.ActiveID===t.Active.ID&&(n.LastBill&&(t.Active.LastBillUserName=decodeURIComponent(n.LastBill.nick),t.Active.LastBillUserFace=n.LastBill.face),t.Price=n.Price,t.Active.SeqMiniSeconds=n.SeqMiniSeconds,t.Status=n.Status)})),e.productList.map((function(t){n.ActiveID===t.Active.ID&&(n.LastBill&&(t.Active.LastBillUserName=decodeURIComponent(n.LastBill.nick),t.Active.LastBillUserFace=n.LastBill.face),t.Price=n.Price,t.Active.SeqMiniSeconds=n.SeqMiniSeconds,t.Status=n.Status)}));var o=JSON.parse(JSON.stringify(e.productListIng));e.productListIng=o;var c=JSON.parse(JSON.stringify(e.productList));e.productList=c;break}}catch(s){console.error(\"处理消息出错：\"+s)}}))},msgSubscribe:function(t){console.log(\"发送对该活动的消息订阅\");var e=t,n=(0,c.formatTime)(new Date),i=this.isReseMode,o={msgType:20,msgTime:n,isReseMode:i,Activeids:e};this.sendSocketMessage(o)},downCallback:function(t){this.getAdsList(),this.getLastTransactionList(),this.isReseMode=!0,this.mescroll=t,t.resetUpScroll()},upCallback:function(t){var e=this;this.getListDataFromNet(t.num,t.size,(function(n){t.endSuccess(n.length),1==t.num&&(e.productList=[]),e.productList=e.productList.concat(n),e.isReseMode=!1}),(function(){t.endErr()}))},getListDataFromNet:function(){var t=u(i.default.mark((function t(e,n,o,c){var s,a,r;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getHomeProductListIng(e,n);case 3:s=t.sent,a=s.productList,r=s.data,this.msgSubscribe(r),o&&o(a),t.next=13;break;case 10:t.prev=10,t.t0=t[\"catch\"](0),c&&c();case 13:case\"end\":return t.stop()}}),t,this,[[0,10]])})));function e(e,n,i,o){return t.apply(this,arguments)}return e}(),getAdsList:function(){var t=this,e={AdName:\"首页头部轮播\"};(0,c.request)(s.AdsListGet,e).then((function(e){t.swiper=e.AdsList[0].AdsViewList}))},getLastTransactionList:function(){var t=this,e={};(0,c.request)(s.LastTransactionListGet,e).then((function(e){t.LastTranActiveList=e.LastTranActiveList,t.LastTranActiveList.map((function(t){t.OrderUserNick=decodeURIComponent(t.OrderUserNick)})),e.LastTranActiveList.length>=2&&(t.multiple=2)}))},getHomeProductListIng:function(t,e){var n=this;return new Promise((function(i,o){var a={PageID:t,PageSize:e,SearchType:\"home2\"};(0,c.request)(s.HomeProductListGet,a).then((function(t){var e=t.ProductList,n=e.map((function(t){return t.Active.ID}));i({productList:e,data:n})})).catch((function(t){var e=n.mescroll;e.endErr()}))}))},getHomeProductList:function(){var t=this,e=this.pageNum,n=this.pageSize,i={PageID:e,PageSize:n,SearchType:\"home1\"};(0,c.request)(s.HomeProductListGet,i).then((function(n){1===e&&(t.productListIng=[]),t.productListIng=t.productListIng.concat(n.ProductList),t.productListIng.map((function(t){t.Active.LastBillUserName=decodeURIComponent(t.Active.LastBillUserName)})),t.PageCount=n.PageCount;var i=t.productListIng,o=i.map((function(t){return t.Active.ID}));t.msgSubscribe(o)}))},lower:function(t){this.pageNum<this.PageCount&&(this.pageNum++,this.getHomeProductList())},noticeList:function(){(0,c.navigateTo)(\"../mall/notice/notice\")},search:function(){(0,c.navigateTo)(\"../mall/search/search\")},listClick:function(t){var e=\"../mall/\".concat(t.navigateTo,\"/\").concat(t.navigateTo);(0,c.navigateTo)(e)},productDetailsTo:function(t,e,n){e&&n&&(0,c.navigateTo)(\"\".concat(e,\"?\").concat(n))}}});e.default=h}).call(this,n(\"543d\")[\"default\"])},c96d:function(t,e,n){\"use strict\";var i=n(\"6327\"),o=n.n(i);o.a},e79a:function(t,e,n){\"use strict\";n.r(e);var i=n(\"61e8\"),o=n(\"36ff\");for(var c in o)\"default\"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n(\"c96d\");var s=n(\"2877\"),a=Object(s[\"a\"])(o[\"default\"],i[\"a\"],i[\"b\"],!1,null,null,null);e[\"default\"]=a.exports},f661:function(t,e,n){\"use strict\";(function(t){n(\"6cdc\"),n(\"921b\");var e=i(n(\"e79a\"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(\"543d\")[\"createPage\"])}},[[\"f661\",\"common/runtime\",\"common/vendor\"]]]);","extractedComments":[]}