{"map":"{\"version\":3,\"sources\":[\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js??ref--6-oneOf-1-2!/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=style&index=0&lang=css&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=template&id=d9c0898a&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=template&id=d9c0898a&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js??ref--13-1!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=script&lang=ts&\",\"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/pages/mall/productDetailsPage/productDetailsPage.vue?vue&type=script&lang=ts&\"],\"names\":[\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_productDetailsPage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"__webpack_require__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_node_modules_css_loader_index_js_ref_6_oneOf_1_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_productDetailsPage_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"staticRenderFns\",\"d\",\"__webpack_exports__\",\"r\",\"_productDetailsPage_vue_vue_type_template_id_d9c0898a___WEBPACK_IMPORTED_MODULE_0__\",\"_productDetailsPage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_1__\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__\",\"component\",\"Object\",\"_node_modules_babel_loader_lib_index_js_node_modules_ts_loader_index_js_ref_13_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_2_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_productDetailsPage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_ts_loader_index_js_ref_13_1_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_2_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_productDetailsPage_vue_vue_type_script_lang_ts___WEBPACK_IMPORTED_MODULE_0___default\",\"_vue\",\"_interopRequireDefault\",\"_util\",\"_api\",\"socketOpen\",\"socketMsgQueue\",\"default\",\"extend\",\"components\",\"iPast\",\"iShow\",\"iRule\",\"iPopup\",\"productTable\",\"data\",\"indicatorDots\",\"autoplay\",\"interval\",\"duration\",\"circular\",\"indicatorActiveColor\",\"disabled\",\"swiper\",\"title\",\"id\",\"product\",\"num\",\"activeDetail\",\"active\",\"tabIndex\",\"pastList\",\"showList\",\"ruleList\",\"show\",\"label\",\"tab\",\"src\",\"leading\",\"ActiveID\",\"Price\",\"msgID\",\"msgType\",\"timer\",\"buttonsList\",\"price\",\"allBills\",\"lastBills\",\"timerDurationTitle\",\"onTimerStatus\",\"OnTimerDowns\",\"seq\",\"MyBills\",\"SeqBills\",\"Signups\",\"SeqSignups\",\"mySeqBills\",\"UserID\",\"tapbtn\",\"BillStat\",\"newPrice\",\"newBill\",\"newNick\",\"newFace\",\"newCity\",\"lastbills\",\"times\",\"seqTime\",\"Date\",\"onLoad\",\"options\",\"console\",\"log\",\"activeID\",\"websocket\",\"onShow\",\"uni\",\"getStorageSync\",\"ID\",\"getProduct\",\"getActiveByID\",\"getPastTransactionsList\",\"getOrderDryingList\",\"onUnload\",\"closeSocket\",\"onPullDownRefresh\",\"methods\",\"_this\",\"ProductID\",\"request\",\"ProductGet\",\"then\",\"res\",\"Product\",\"ProductPicList\",\"ProductPrice\",\"_this2\",\"GetActiveByID\",\"ActiveDetail\",\"Active\",\"tabClick\",\"index\",\"_this3\",\"PastTransactionsListGet\",\"OrderList\",\"map\",\"item\",\"percentage\",\"OrderMoneys\",\"OrderPrimeCost\",\"toFixed\",\"change\",\"val\",\"hidePopup\",\"tolowerShow\",\"e\",\"_this4\",\"OrderDryingListGet\",\"activePath\",\"navigateTo\",\"productDetailsUparsePath\",\"_this5\",\"connectSocket\",\"url\",\"onSocketOpen\",\"i\",\"length\",\"sendSocketMessage\",\"msgSubscribe\",\"reqLogin\",\"onSocketError\",\"onSocketMessage\",\"msg\",\"JSON\",\"stringify\",\"push\",\"_this6\",\"Promise\",\"sesolve\",\"reject\",\"parse\",\"proccessMsg\",\"_reqLogin\",\"_asyncToGenerator\",\"_regenerator\",\"mark\",\"_callee\",\"GUID\",\"Appkey\",\"SessionKey\",\"msgTime\",\"wrap\",\"_context\",\"prev\",\"next\",\"sent\",\"formatTime\",\"AppKey\",\"stop\",\"apply\",\"arguments\",\"_msgSubscribe\",\"_callee2\",\"reqSubscribe\",\"_context2\",\"Subscribe\",\"_proccessMsg\",\"_callee3\",\"dt\",\"initMsg\",\"tm\",\"_dt\",\"_tm\",\"dt_time\",\"_context3\",\"t0\",\"IsError\",\"showToast\",\"ErrMsg\",\"abrupt\",\"buttonStateChanged\",\"concat\",\"timerState\",\"TimerDurationTitle\",\"TimerDurationValue\",\"getTime\",\"setTime\",\"ButtonsList\",\"onPriceUpdateEvent\",\"AllBills\",\"LastBills\",\"AllSignups\",\"MaxSignups\",\"Bills\",\"bill\",\"face\",\"nick\",\"SeqMiniSecounds\",\"currPrice\",\"ActiveType\",\"WinsBill\",\"t1\",\"error\",\"text\",\"type\",\"isDisplay\",\"isEnabled\",\"value\",\"ButtonText\",\"ButtonVisibility\",\"ButtonEnabled\",\"startPrice\",\"Province\",\"City\",\"billTap\",\"_billTap\",\"_callee4\",\"action\",\"SignupMsg\",\"billMsg\",\"tapMsg\",\"cancelTapMsg\",\"_context4\",\"Shares\",\"_x\",\"seqDisplay\",\"date\",\"between\",\"sec\",\"Math\",\"floor\",\"hours\",\"days\",\"minutes\",\"seconds\",\"minisec\",\"_this7\",\"clearInterval\",\"setInterval\",\"guid\",\"random\",\"toString\"],\"mappings\":\"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\",\"sourcesContent\":[\"import mod from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetailsPage.vue?vue&type=style&index=0&lang=css&\\\"; export default mod; export * from \\\"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetailsPage.vue?vue&type=style&index=0&lang=css&\\\"\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetailsPage.vue?vue&type=template&id=d9c0898a&\\\"\",\"import { render, staticRenderFns } from \\\"./productDetailsPage.vue?vue&type=template&id=d9c0898a&\\\"\\nimport script from \\\"./productDetailsPage.vue?vue&type=script&lang=ts&\\\"\\nexport * from \\\"./productDetailsPage.vue?vue&type=script&lang=ts&\\\"\\nimport style0 from \\\"./productDetailsPage.vue?vue&type=style&index=0&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"import mod from \\\"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetailsPage.vue?vue&type=script&lang=ts&\\\"; export default mod; export * from \\\"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--13-1!../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./productDetailsPage.vue?vue&type=script&lang=ts&\\\"\",\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nimport Vue from \\\"vue\\\";\\nimport {\\n\\trequest,\\n\\tnavigateTo,\\n\\tformatTime,\\n\\tshowToast,\\n\\tshowModal\\n} from \\\"@/common/utils/util\\\";\\nimport {\\n\\tProductGet,\\n\\tPastTransactionsListGet,\\n\\tOrderDryingListGet,\\n\\tGetActiveByID\\n} from \\\"@/common/config/api\\\";\\nimport iPast from \\\"@/components/i-past/i-past.vue\\\";\\nimport iShow from \\\"@/components/i-show/i-show.vue\\\";\\nimport iRule from \\\"@/components/i-rule/i-rule.vue\\\";\\nimport iPopup from \\\"@/components/i-popup/i-popup.vue\\\";\\nimport productTable from \\\"@/components/product-table/product-table.vue\\\";\\nlet socketOpen: boolean = false;\\nlet socketMsgQueue: any = [];\\nexport default Vue.extend({\\n\\tcomponents: {\\n\\t\\tiPast,\\n\\t\\tiShow,\\n\\t\\tiRule,\\n\\t\\tiPopup,\\n\\t\\tproductTable\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tindicatorDots: true,\\n\\t\\t\\tautoplay: true,\\n\\t\\t\\tinterval: 2000,\\n\\t\\t\\tduration: 500,\\n\\t\\t\\tcircular: true,\\n\\t\\t\\tindicatorActiveColor: \\\"#fe7f00\\\",\\n\\t\\t\\tdisabled: false, // 按钮disabled\\n\\n\\t\\t\\tswiper: [],\\n\\t\\t\\ttitle: \\\"服务\\\",\\n\\t\\t\\tid: \\\"\\\",\\n\\t\\t\\tproduct: \\\"\\\",\\n\\t\\t\\tnum: \\\"1\\\", // 剩余次数\\n\\n\\t\\t\\tactiveDetail: \\\"\\\", // 活动详情\\n\\t\\t\\tactive: {}, // 活动内容\\n\\n\\t\\t\\ttabIndex: 0, // 默认往期成交\\n\\t\\t\\tpastList: [], // 往期成交列表\\n\\t\\t\\tshowList: [], // 晒单列表\\n\\t\\t\\truleList: \\\"\\\", // 竞拍规则\\n\\t\\t\\tshow: false, // 显示弹窗\\n\\n\\t\\t\\tlabel: [\\\"零风险\\\", \\\"正品承诺\\\", \\\"极速发货\\\", \\\"公平公正\\\"],\\n\\t\\t\\ttab: [\\\"往期成交\\\", \\\"分享晒单\\\", \\\"竞拍规则\\\"],\\n\\t\\t\\tsrc: \\\"/static/icon_experience.png\\\",\\n\\t\\t\\tleading: \\\"/static/icon/icon_leading.png\\\",\\n\\n\\t\\t\\tActiveID: \\\"\\\",\\n\\t\\t\\tPrice: \\\"\\\",\\n\\t\\t\\tmsgID: \\\"\\\",\\n\\t\\t\\tmsgType: \\\"\\\",\\n\\t\\t\\ttimer: 0,\\n\\t\\t\\tbuttonsList: [], // 按钮类型，0表示报名按钮、1表示举牌按钮、2表示托管按钮、3表示填写地址按钮，4表示参与下一期按钮\\n\\t\\t\\tprice: \\\"\\\", // 最新价格\\n\\t\\t\\tallBills: \\\"\\\", // 全部举牌次数\\n\\t\\t\\tlastBills: [], // 出价列表\\n\\t\\t\\ttimerDurationTitle: \\\"\\\", // 状态对应要显示的标题\\n\\t\\t\\tonTimerStatus: \\\"\\\", // 活动通知\\n\\t\\t\\tOnTimerDowns: \\\"\\\", // 成交通知\\n\\n\\t\\t\\tseq: \\\"\\\", // 更新我的剩余举牌次数\\n\\t\\t\\tMyBills: \\\"\\\", // 举牌响应消息（包含我的举牌次数、剩余可用次数）\\n\\t\\t\\tSeqBills: \\\"\\\", // 举牌响应消息（剩余可用次数）\\n\\t\\t\\tSignups: \\\"\\\", // 报名份数\\n\\t\\t\\tSeqSignups: \\\"\\\", // 剩下报名份数\\n\\t\\t\\tmySeqBills: \\\"\\\", // 我的出价记录\\n\\t\\t\\tUserID: \\\"\\\", // 登录成功，提示用户\\n\\t\\t\\ttapbtn: \\\"\\\", // 托管\\n\\t\\t\\tBillStat: \\\"\\\", // 总举牌次数\\n\\t\\t\\tnewPrice: \\\"\\\", // 领先价格\\n\\t\\t\\tnewBill: \\\"\\\", // 领先人全部信息\\n\\t\\t\\tnewNick: \\\"\\\", // 当前领先人\\n\\t\\t\\tnewFace: \\\"\\\", // 当前领先人头像\\n\\t\\t\\tnewCity: \\\"\\\", // 当前领先人所在城市\\n\\t\\t\\tlastbills: [], // 出局列表\\n\\t\\t\\ttimes: \\\"\\\", // 倒计时\\n\\t\\t\\tseqTime: new Date() // 初始Date时间\\n\\t\\t};\\n\\t},\\n\\tonLoad(options: any) {\\n\\t\\tconsole.log(\\\"options\\\", options);\\n\\t\\tthis.id = options.id;\\n\\t\\tthis.ActiveID = options.activeID;\\n\\t\\tthis.websocket();\\n\\t},\\n\\tonShow() {\\n\\t\\tthis.UserID = uni.getStorageSync(\\\"UserInfo\\\").ID;\\n\\t\\tthis.getProduct();\\n\\t\\tthis.getActiveByID();\\n\\t\\tthis.getPastTransactionsList();\\n\\t\\tthis.getOrderDryingList();\\n\\t},\\n\\tonUnload() {\\n\\t\\tuni.closeSocket();\\n\\t},\\n\\tonPullDownRefresh() {\\n\\t\\tthis.websocket();\\n\\t\\tthis.getProduct();\\n\\t\\tthis.getActiveByID();\\n\\t\\tthis.getPastTransactionsList();\\n\\t\\tthis.getOrderDryingList();\\n\\t},\\n\\tmethods: {\\n\\t\\t// 获取产品详情\\n\\t\\tgetProduct() {\\n\\t\\t\\tlet ProductID = this.id;\\n\\t\\t\\tlet data = {\\n\\t\\t\\t\\tProductID: ProductID\\n\\t\\t\\t};\\n\\t\\t\\trequest(ProductGet, data).then((res: any) => {\\n\\t\\t\\t\\tconsole.log(\\\"Product\\\", res);\\n\\t\\t\\t\\tthis.product = res.Product;\\n\\t\\t\\t\\tthis.swiper = res.Product.ProductPicList;\\n\\t\\t\\t\\tthis.Price = res.Product.ProductPrice;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t// 获取活动详情\\n\\t\\tgetActiveByID() {\\n\\t\\t\\tlet ActiveID = this.ActiveID;\\n\\t\\t\\tlet data = {\\n\\t\\t\\t\\tActiveID: ActiveID\\n\\t\\t\\t};\\n\\t\\t\\trequest(GetActiveByID, data).then((res: any) => {\\n\\t\\t\\t\\tconsole.log(\\\"活动详情\\\", res);\\n\\t\\t\\t\\tthis.activeDetail = res.ActiveDetail;\\n\\t\\t\\t\\tthis.active = res.ActiveDetail.Active;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t// 选项卡\\n\\t\\ttabClick(index: number) {\\n\\t\\t\\tthis.tabIndex = index;\\n\\t\\t},\\n\\t\\t// 往期成交列表\\n\\t\\tgetPastTransactionsList() {\\n\\t\\t\\tlet ProductID = this.id;\\n\\t\\t\\tlet data = {\\n\\t\\t\\t\\tProductID: ProductID\\n\\t\\t\\t};\\n\\t\\t\\trequest(PastTransactionsListGet, data).then((res: any) => {\\n\\t\\t\\t\\tconsole.log(res);\\n\\t\\t\\t\\tlet pastList = res.OrderList;\\n\\t\\t\\t\\tpastList.map((item: any) => {\\n\\t\\t\\t\\t\\titem.percentage = (\\n\\t\\t\\t\\t\\t\\t(item.OrderMoneys / item.OrderPrimeCost) *\\n\\t\\t\\t\\t\\t\\t100\\n\\t\\t\\t\\t\\t).toFixed(2);\\n\\t\\t\\t\\t});\\n\\t\\t\\t\\tthis.pastList = pastList;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tchange(val: any) {\\n\\t\\t\\tconsole.log(val);\\n\\t\\t\\tthis.num = val;\\n\\t\\t},\\n\\t\\thidePopup() {\\n\\t\\t\\tthis.show = !this.show;\\n\\t\\t},\\n\\t\\ttolowerShow(e: any) {\\n\\t\\t\\tconsole.log('tolowerShow', e)\\n\\t\\t},\\n\\t\\t// 获取用户晒单列表\\n\\t\\tgetOrderDryingList() {\\n\\t\\t\\tlet ProductID = this.id;\\n\\t\\t\\tlet data = {\\n\\t\\t\\t\\tProductID: ProductID\\n\\t\\t\\t};\\n\\t\\t\\trequest(OrderDryingListGet, data).then((res: any) => {\\n\\t\\t\\t\\tthis.showList = res.OrderList;\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\tactivePath() {\\n\\t\\t\\tlet id = this.id;\\n\\t\\t\\tnavigateTo(\\\"../activeBilList/activeBilList?id=\\\" + id);\\n\\t\\t},\\n\\t\\tproductDetailsUparsePath() {\\n\\t\\t\\tlet id = this.id;\\n\\t\\t\\tnavigateTo(\\\"../productDetailsUparse/productDetailsUparse?id=\\\" + id);\\n\\t\\t},\\n\\t\\twebsocket() {\\n\\t\\t\\tuni.connectSocket({\\n\\t\\t\\t\\turl: \\\"wss://websocket.tengpaisc.com:8888/\\\"\\n\\t\\t\\t});\\n\\t\\t\\tuni.onSocketOpen((res: any) => {\\n\\t\\t\\t\\tconsole.log(\\\"WebSocket连接已打开！\\\");\\n\\t\\t\\t\\tsocketOpen = true;\\n\\t\\t\\t\\tfor (let i = 0; i < socketMsgQueue.length; i++) {\\n\\t\\t\\t\\t\\tthis.sendSocketMessage(socketMsgQueue[i]);\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tsocketMsgQueue = [];\\n\\t\\t\\t\\tthis.msgSubscribe();\\n\\t\\t\\t\\tthis.reqLogin();\\n\\t\\t\\t});\\n\\t\\t\\tuni.onSocketError(res => {\\n\\t\\t\\t\\tconsole.log(\\\"WebSocket连接打开失败，请检查！\\\");\\n\\t\\t\\t});\\n\\t\\t\\tthis.onSocketMessage();\\n\\t\\t},\\n\\t\\tsendSocketMessage(msg: any) {\\n\\t\\t\\tlet data: string = JSON.stringify(msg);\\n\\t\\t\\tconsole.log(\\\"发送数据\\\", socketOpen, msg);\\n\\t\\t\\tif (socketOpen) {\\n\\t\\t\\t\\tuni.sendSocketMessage({\\n\\t\\t\\t\\t\\tdata: data\\n\\t\\t\\t\\t});\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tsocketMsgQueue.push(msg);\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tonSocketMessage() {\\n\\t\\t\\treturn new Promise((sesolve, reject) => {\\n\\t\\t\\t\\tuni.onSocketMessage((res: any) => {\\n\\t\\t\\t\\t\\tconsole.log(\\\"收到服务器内容：\\\" + res.data);\\n\\t\\t\\t\\t\\tlet msg = JSON.parse(res.data);\\n\\t\\t\\t\\t\\tconsole.log(msg);\\n\\t\\t\\t\\t\\tthis.proccessMsg();\\n\\t\\t\\t\\t\\tsesolve(msg);\\n\\t\\t\\t\\t});\\n\\t\\t\\t});\\n\\t\\t},\\n\\t\\t// 向服务器发送登录请求\\n\\t\\tasync reqLogin() {\\n\\t\\t\\tlet GUID: any = await this.GUID();\\n\\t\\t\\tconst Appkey = \\\"3957399\\\";\\n\\t\\t\\tconst SessionKey = uni.getStorageSync(\\\"SessionKey\\\");\\n\\t\\t\\tlet ActiveID = this.ActiveID;\\n\\t\\t\\tlet UserID = this.UserID;\\n\\t\\t\\tlet ConnectionState = false;\\n\\t\\t\\tlet msgTime = formatTime(new Date());\\n\\t\\t\\tlet reqLogin: any = {\\n\\t\\t\\t\\tActiveID: ActiveID,\\n\\t\\t\\t\\tAppKey: Appkey,\\n\\t\\t\\t\\tSessionKey: SessionKey,\\n\\t\\t\\t\\tmsgID: GUID,\\n\\t\\t\\t\\tmsgType: 3,\\n\\t\\t\\t\\tmsgTime: msgTime\\n\\t\\t\\t};\\n\\t\\t\\tthis.sendSocketMessage(reqLogin);\\n\\t\\t},\\n\\t\\t// 发送对该活动的消息订阅\\n\\t\\tasync msgSubscribe() {\\n\\t\\t\\tlet GUID: any = await this.GUID();\\n\\t\\t\\tlet ActiveID = this.ActiveID;\\n\\t\\t\\tlet url = \\\"/Actives/\\\" + ActiveID + \\\"/\\\";\\n\\t\\t\\tlet msgTime = formatTime(new Date());\\n\\t\\t\\tlet reqSubscribe = {\\n\\t\\t\\t\\tSubscribe: url,\\n\\t\\t\\t\\tmsgID: GUID,\\n\\t\\t\\t\\tmsgType: 0,\\n\\t\\t\\t\\tmsgTime: msgTime\\n\\t\\t\\t};\\n\\t\\t\\tthis.sendSocketMessage(reqSubscribe);\\n\\t\\t},\\n\\t\\t// 处理消息的函数，用于解析从服务器webSocket收到的各种消息\\n\\t\\tasync proccessMsg() {\\n\\t\\t\\tlet GUID: any = await this.GUID();\\n\\t\\t\\tlet dt = new Date();\\n\\t\\t\\tlet msgTime = formatTime(new Date());\\n\\t\\t\\tlet msg: any = await this.onSocketMessage();\\n\\t\\t\\tlet msgType = msg.msgType;\\n\\t\\t\\tthis.msgType = msgType;\\n\\t\\t\\tconsole.log(msgType);\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tswitch (msgType) {\\n\\t\\t\\t\\t\\tcase 0:\\n\\t\\t\\t\\t\\t\\t// 订阅响应消息\\n\\t\\t\\t\\t\\t\\tif (msg.IsError) {\\n\\t\\t\\t\\t\\t\\t\\tshowToast(\\\"订阅失败：\\\" + msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tshowToast(msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 1:\\n\\t\\t\\t\\t\\t\\t// 报名响应消息\\n\\t\\t\\t\\t\\t\\tif (msg.IsError) {\\n\\t\\t\\t\\t\\t\\t\\tshowToast(\\\"报名失败：\\\" + msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"0\\\", true, true);\\n\\t\\t\\t\\t\\t\\t\\tshowToast(msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t// 更新我的剩余举牌次数\\n\\t\\t\\t\\t\\t\\tthis.seq = `剩余举牌次数：${msg.SeqBills}次，已报名份数：${msg.Signups}份，还可报名：${msg.SeqSignups}`;\\n\\t\\t\\t\\t\\t\\tthis.SeqBills = msg.SeqBills;\\n\\t\\t\\t\\t\\t\\tthis.Signups = msg.Signups;\\n\\t\\t\\t\\t\\t\\tthis.SeqSignups = msg.SeqSignups;\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 2:\\n\\t\\t\\t\\t\\t\\t// 举牌响应消息（包含我的举牌次数、剩余可用次数）\\n\\t\\t\\t\\t\\t\\tif (msg.IsError) {\\n\\t\\t\\t\\t\\t\\t\\tshowToast(msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.MyBills = msg.MyBills;\\n\\t\\t\\t\\t\\t\\t\\tthis.SeqBills = msg.SeqBills;\\n\\t\\t\\t\\t\\t\\t\\tshowToast(msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"举牌\\\", \\\"1\\\", true, true);\\n\\t\\t\\t\\t\\t\\tthis.timerState(null);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 3:\\n\\t\\t\\t\\t\\t\\t// 登录响应消息\\n\\t\\t\\t\\t\\t\\tif (msg.IsError) {\\n\\t\\t\\t\\t\\t\\t\\tshowToast(\\\"登录失败：\\\" + msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// 登录成功，提示用户\\n\\t\\t\\t\\t\\t\\t\\tthis.UserID = msg.UserID;\\n\\t\\t\\t\\t\\t\\t\\tlet initMsg = {\\n\\t\\t\\t\\t\\t\\t\\t\\tActiveID: this.ActiveID,\\n\\t\\t\\t\\t\\t\\t\\t\\tUserID: this.UserID,\\n\\t\\t\\t\\t\\t\\t\\t\\tmsgID: GUID,\\n\\t\\t\\t\\t\\t\\t\\t\\tmsgType: 6,\\n\\t\\t\\t\\t\\t\\t\\t\\tmsgTime: msgTime\\n\\t\\t\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\t\\t\\tthis.sendSocketMessage(initMsg);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 4:\\n\\t\\t\\t\\t\\t\\t// 托管响应\\n\\t\\t\\t\\t\\t\\tif (msg.IsError) {\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", true, true);\\n\\t\\t\\t\\t\\t\\t\\tshowToast(\\\"托管失败!\\\" + msg.ErrMsg);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"取消托管\\\", \\\"2\\\", true, true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 5:\\n\\t\\t\\t\\t\\t\\t// 取消托管响应消息\\n\\t\\t\\t\\t\\t\\tif (msg.IsError) {\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"取消托管\\\", \\\"2\\\", true, true);\\n\\t\\t\\t\\t\\t\\t\\tshowToast(\\\"取消托管失败!\\\");\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", true, true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 6:\\n\\t\\t\\t\\t\\t\\t// 活动详情页初始化响应\\n\\t\\t\\t\\t\\t\\tthis.timerDurationTitle = msg.TimerDurationTitle; // 状态对应要显示的标题\\n\\t\\t\\t\\t\\t\\t// 倒计时显示文本\\n\\t\\t\\t\\t\\t\\t// 判断是否需要倒计时，如果不需要则清除倒计时器\\n\\t\\t\\t\\t\\t\\tif (msg.TimerDurationValue === 0) {\\n\\t\\t\\t\\t\\t\\t\\tthis.timerState(null);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tlet tm = dt.getTime() + msg.TimerDurationValue;\\n\\t\\t\\t\\t\\t\\t\\tthis.seqTime.setTime(tm);\\n\\t\\t\\t\\t\\t\\t\\tthis.timerState(this.seqTime);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t// 处理按钮的初始状态列表\\n\\t\\t\\t\\t\\t\\tthis.buttonsList = msg.ButtonsList;\\n\\t\\t\\t\\t\\t\\t// 更新最近出价人列表信息，更新全部举牌次数、我的举牌次数、和最新价格\\n\\t\\t\\t\\t\\t\\tthis.onPriceUpdateEvent(msg.Price, msg.AllBills, msg.LastBills);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 7:\\n\\t\\t\\t\\t\\t\\t// 报名进度更新推送\\n\\t\\t\\t\\t\\t\\t// 隐藏其它按钮\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"参与下一期\\\", \\\"4\\\", false, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"填写收货地址\\\", \\\"3\\\", false, false);\\n\\t\\t\\t\\t\\t\\tif (msg.AllSignups === msg.MaxSignups) {\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"举牌\\\", \\\"1\\\", true, true);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", true, true);\\n\\t\\t\\t\\t\\t\\t\\t// 已满员，隐藏掉报名按钮\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"0\\\", false, false);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"举牌\\\", \\\"1\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\t// 还需要继续报名，显示报名按钮\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"3\\\", true, true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 8:\\n\\t\\t\\t\\t\\t\\t// 价格更新通知\\n\\t\\t\\t\\t\\t\\tshowToast(\\\"价格已更新......！\\\");\\n\\t\\t\\t\\t\\t\\t// 更新全部举牌次数、我的举牌次数、和最新价格\\n\\t\\t\\t\\t\\t\\tthis.BillStat = \\\"总举牌次数：\\\" + msg.AllBills + \\\"次\\\";\\n\\t\\t\\t\\t\\t\\t// 更新最后出价人信息\\n\\t\\t\\t\\t\\t\\tif (msg.Bills.length > 0) {\\n\\t\\t\\t\\t\\t\\t\\tthis.newPrice = `￥${msg.Bills[0].Price}`;\\n\\t\\t\\t\\t\\t\\t\\tthis.newBill = msg.Bills[0].bill;\\n\\t\\t\\t\\t\\t\\t\\tthis.newFace = msg.Bills[0].bill.face;\\n\\t\\t\\t\\t\\t\\t\\tthis.newNick = `领先人：${msg.Bills[0].nick}`;\\n\\t\\t\\t\\t\\t\\t\\t// 计算剩余时长\\n\\t\\t\\t\\t\\t\\t\\tlet dt = new Date();\\n\\t\\t\\t\\t\\t\\t\\tlet tm = dt.getTime() + msg.SeqMiniSecounds;\\n\\t\\t\\t\\t\\t\\t\\tthis.seqTime.setTime(tm);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t// 更新最近出局人信息\\n\\t\\t\\t\\t\\t\\tif (msg.Bills.length > 1) {\\n\\t\\t\\t\\t\\t\\t\\tthis.lastbills = msg.Bills;\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t// 判断是否需要启动计时器，如果只有一个出价，肯定就是需要启动的，因为计时器未启动\\n\\t\\t\\t\\t\\t\\tif (msg.Bills.length === 1) {\\n\\t\\t\\t\\t\\t\\t\\tthis.timerState(this.seqTime);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 9:\\n\\t\\t\\t\\t\\t\\t//计算剩余时间，并重置剩余时间\\n\\t\\t\\t\\t\\t\\tlet dt_time = dt.getTime();\\n\\t\\t\\t\\t\\t\\tthis.seqTime.setTime(dt_time + msg.SeqMiniSecounds);\\n\\t\\t\\t\\t\\t\\tconsole.log(this.seqTime);\\n\\t\\t\\t\\t\\t\\t// 设置倒计时标题为即将开拍\\n\\t\\t\\t\\t\\t\\tthis.timerDurationTitle = \\\"开拍准备\\\";\\n\\t\\t\\t\\t\\t\\t// 隐藏掉报名按钮\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"0\\\", false, false);\\n\\t\\t\\t\\t\\t\\t// 禁用举牌、托管按钮\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"1\\\", true, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"自动举牌中\\\", \\\"2\\\", true, false);\\n\\t\\t\\t\\t\\t\\t// 隐藏其它按钮\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"填写收货地址\\\", \\\"3\\\", false, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"参与下一期\\\", \\\"4\\\", false, false);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 10:\\n\\t\\t\\t\\t\\t\\t// 活动正式开始，但是目前尚未有人出价，所以收到此消息，先停止计时器，并显示为 “等待先手”\\n\\t\\t\\t\\t\\t\\tthis.times = \\\"等待首牌\\\";\\n\\t\\t\\t\\t\\t\\t// 清除计时器\\n\\t\\t\\t\\t\\t\\tthis.timerState(null);\\n\\t\\t\\t\\t\\t\\t// 设置价格\\n\\t\\t\\t\\t\\t\\tthis.newPrice = \\\"￥\\\" + msg.currPrice;\\n\\t\\t\\t\\t\\t\\t// 判断活动类型，如果是人工举牌，显示托管、举牌；如果是自动举牌，举牌按钮更改为“自动举牌中”，其它按钮全部隐藏\\n\\t\\t\\t\\t\\t\\tif (msg.ActiveType === 0) {\\n\\t\\t\\t\\t\\t\\t\\t// 停用其它按钮，仅剩下举牌按钮，且举牌按钮状态显示为自动举牌中\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"自动举牌中\\\", \\\"1\\\", true, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", true, false);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// 启用举牌、托管按钮\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"举牌\\\", \\\"1\\\", true, true);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", true, true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t// 隐藏掉报名、填写地址、参与下一期按钮\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"0\\\", false, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"填写收货地址\\\", \\\"3\\\", false, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"参与下一期\\\", \\\"4\\\", false, false);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 11:\\n\\t\\t\\t\\t\\t\\t// 活动结束通知\\n\\t\\t\\t\\t\\t\\tthis.timerState(null);\\n\\t\\t\\t\\t\\t\\tthis.times = \\\"已成交\\\";\\n\\t\\t\\t\\t\\t\\t// 判断是否当前用户，如果是当前用户，则需要弹出收货地址和订单信息处理界面\\n\\t\\t\\t\\t\\t\\tif (this.UserID === msg.WinsBill.UserID) {\\n\\t\\t\\t\\t\\t\\t\\t// 当前用户\\n\\t\\t\\t\\t\\t\\t\\tshowToast(\\\"恭喜，您已中拍！点击确定去填写订单信息吧！\\\");\\n\\t\\t\\t\\t\\t\\t\\t// 隐藏其它按钮\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"0\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"举牌\\\", \\\"1\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"参与下一期\\\", \\\"4\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\t// 触发填写地址按钮的显示，其它按钮隐藏\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"填写收货地址\\\", \\\"3\\\", true, true);\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t// 隐藏掉其它按钮\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"0\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"举牌\\\", \\\"1\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"填写收货地址\\\", \\\"3\\\", false, false);\\n\\t\\t\\t\\t\\t\\t\\t// 触发下一期按钮的显示，其它按钮隐藏\\n\\t\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"参与下一期\\\", \\\"4\\\", true, true);\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t\\tcase 12:\\n\\t\\t\\t\\t\\t\\t// 活动流拍通知\\n\\t\\t\\t\\t\\t\\tthis.onTimerStatus = \\\"活动流拍\\\";\\n\\t\\t\\t\\t\\t\\tthis.OnTimerDowns = \\\"-\\\";\\n\\t\\t\\t\\t\\t\\t// 隐藏掉其它按钮\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"报名\\\", \\\"0\\\", false, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"举牌\\\", \\\"1\\\", false, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"托管\\\", \\\"2\\\", false, false);\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"填写收货地址\\\", \\\"3\\\", false, false);\\n\\t\\t\\t\\t\\t\\t// 触发下一期按钮的显示，其它按钮隐藏\\n\\t\\t\\t\\t\\t\\tthis.buttonStateChanged(\\\"参与下一期\\\", \\\"4\\\", true, true);\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t} catch (e) {\\n\\t\\t\\t\\tconsole.error(\\\"处理消息出错：\\\");\\n\\t\\t\\t\\tconsole.error(e);\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\t// 定义按钮处理函数\\n\\t\\tbuttonStateChanged(text: any, type: any, isDisplay: any, isEnabled: any) {\\n\\t\\t\\tthis.buttonsList.map((item: any, i: any, value: any) => {\\n\\t\\t\\t\\tvalue[type].ButtonText = text;\\n\\t\\t\\t\\tvalue[type].ButtonVisibility = isDisplay;\\n\\t\\t\\t\\tvalue[type].ButtonEnabled = isEnabled;\\n\\t\\t\\t});\\n\\t\\t},\\n\\n\\t\\t// 更新价格事件\\n\\t\\tonPriceUpdateEvent(startPrice: any, allBills: any, lastBills: any) {\\n\\t\\t\\t// 更新全部举牌次数、我的举牌次数、和最新价格\\n\\t\\t\\tthis.allBills = allBills; // '活动总举牌次数：' + allBills + '次'\\n\\t\\t\\tif (lastBills.length > 0) {\\n\\t\\t\\t\\t// 有人出价，按最后出价人\\n\\t\\t\\t\\tthis.newPrice = `￥${lastBills[0].bill.Price}`;\\n\\t\\t\\t\\tthis.newBill = lastBills[0].bill;\\n\\t\\t\\t\\tthis.newFace = lastBills[0].face;\\n\\t\\t\\t\\tthis.newNick = `领先人：${lastBills[0].nick}`;\\n\\t\\t\\t\\tthis.newCity = `${lastBills[0].bill.Province} ${lastBills[0].bill.City}`;\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// 未有人出价，按起拍价\\n\\t\\t\\t\\tthis.newPrice = `￥${startPrice}`;\\n\\t\\t\\t}\\n\\t\\t\\t// 更新最近出局人信息\\n\\t\\t\\tif (lastBills.length > 1) {\\n\\t\\t\\t\\tthis.lastBills = lastBills;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tasync billTap(type: any) {\\n\\t\\t\\tlet action = type;\\n\\t\\t\\tlet ActiveID = this.ActiveID;\\n\\t\\t\\tlet num = this.num;\\n\\t\\t\\tlet Price = this.Price;\\n\\t\\t\\tlet GUID: any = await this.GUID();\\n\\t\\t\\tlet msgTime = formatTime(new Date());\\n\\t\\t\\tconsole.log(\\\"switch\\\", type);\\n\\t\\t\\tswitch (action) {\\n\\t\\t\\t\\tcase \\\"报名\\\":\\n\\t\\t\\t\\t\\tlet SignupMsg = {\\n\\t\\t\\t\\t\\t\\tActiveID: ActiveID,\\n\\t\\t\\t\\t\\t\\tShares: num,\\n\\t\\t\\t\\t\\t\\tmsgID: GUID,\\n\\t\\t\\t\\t\\t\\tmsgType: 1,\\n\\t\\t\\t\\t\\t\\tmsgTime: msgTime\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\tthis.sendSocketMessage(SignupMsg);\\n\\t\\t\\t\\t\\tthis.show = !this.show;\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\tcase \\\"举牌\\\":\\n\\t\\t\\t\\t\\tlet billMsg = {\\n\\t\\t\\t\\t\\t\\tActiveID: ActiveID,\\n\\t\\t\\t\\t\\t\\tPrice: Price,\\n\\t\\t\\t\\t\\t\\tmsgID: GUID,\\n\\t\\t\\t\\t\\t\\tmsgType: 2,\\n\\t\\t\\t\\t\\t\\tmsgTime: msgTime\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\tthis.sendSocketMessage(billMsg);\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\tcase \\\"托管\\\":\\n\\t\\t\\t\\t\\tlet tapMsg = {\\n\\t\\t\\t\\t\\t\\tActiveID: ActiveID,\\n\\t\\t\\t\\t\\t\\tmsgID: GUID,\\n\\t\\t\\t\\t\\t\\tmsgType: 4,\\n\\t\\t\\t\\t\\t\\tmsgTime: msgTime\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\tthis.sendSocketMessage(tapMsg);\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\tcase \\\"取消托管\\\":\\n\\t\\t\\t\\t\\tlet cancelTapMsg = {\\n\\t\\t\\t\\t\\t\\tActiveID: ActiveID,\\n\\t\\t\\t\\t\\t\\tmsgID: GUID,\\n\\t\\t\\t\\t\\t\\tmsgType: 5,\\n\\t\\t\\t\\t\\t\\tmsgTime: msgTime\\n\\t\\t\\t\\t\\t};\\n\\t\\t\\t\\t\\tthis.sendSocketMessage(cancelTapMsg);\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t// 下面处理倒计时的显示，实际上时间是由服务器webSocket返回的\\n\\t\\tseqDisplay() {\\n\\t\\t\\tlet seqTime: any = this.seqTime;\\n\\t\\t\\tlet date: any = new Date();\\n\\t\\t\\tlet between: number = seqTime - date;\\n\\t\\t\\tlet sec: number = Math.floor(between / 1000);\\n\\t\\t\\tlet hours: any = Math.floor(Math.floor(sec / 60) / 60) % 24;\\n\\t\\t\\tlet days = Math.floor(Math.floor(Math.floor(sec / 60) / 60) / 24) % 30;\\n\\t\\t\\tlet minutes: any = Math.floor(sec / 60) % 60;\\n\\t\\t\\tlet seconds: any = sec % 60;\\n\\t\\t\\tlet minisec: number = Math.floor(between / 100) % 10;\\n\\t\\t\\tif (seconds <= 0) {\\n\\t\\t\\t\\tthis.times = \\\"\\\";\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (hours < 10) {\\n\\t\\t\\t\\t\\thours = \\\"0\\\" + hours;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (minutes < 10) {\\n\\t\\t\\t\\t\\tminutes = \\\"0\\\" + minutes;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (seconds < 10) {\\n\\t\\t\\t\\t\\tseconds = \\\"0\\\" + seconds;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tlet times =\\n\\t\\t\\t\\t\\t(days > 0 ? days + \\\"天\\\" : \\\"\\\") +\\n\\t\\t\\t\\t\\thours +\\n\\t\\t\\t\\t\\t\\\":\\\" +\\n\\t\\t\\t\\t\\tminutes +\\n\\t\\t\\t\\t\\t\\\":\\\" +\\n\\t\\t\\t\\t\\tseconds +\\n\\t\\t\\t\\t\\t\\\".\\\" +\\n\\t\\t\\t\\t\\tminisec;\\n\\t\\t\\t\\tthis.times = times;\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t// 倒计时\\n\\t\\ttimerState(type: any) {\\n\\t\\t\\tif (type === null) {\\n\\t\\t\\t\\tclearInterval(this.timer);\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (!(type instanceof Date)) {\\n\\t\\t\\t\\tconsole.error(\\\"传入日期时间格式不正确！\\\");\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\tif (type.getTime() < new Date().getTime()) {\\n\\t\\t\\t\\t// 时间错误，时间必须是未来的日期时间\\n\\t\\t\\t\\tconsole.error(\\\"设置倒计时器无效，日期时间必须是未来的时间！\\\");\\n\\t\\t\\t\\treturn;\\n\\t\\t\\t}\\n\\t\\t\\t// 清除旧的倒计时器\\n\\t\\t\\tclearInterval(this.timer);\\n\\t\\t\\tthis.timer = setInterval(() => {\\n\\t\\t\\t\\tthis.seqDisplay();\\n\\t\\t\\t}, 100);\\n\\t\\t},\\n\\t\\t// 下面是生成随机GUID的函数\\n\\t\\tGUID() {\\n\\t\\t\\treturn new Promise((sesolve, reject) => {\\n\\t\\t\\t\\tlet guid = \\\"\\\";\\n\\t\\t\\t\\tfor (let i = 1; i <= 32; i++) {\\n\\t\\t\\t\\t\\tlet n = Math.floor(Math.random() * 16.0).toString(16);\\n\\t\\t\\t\\t\\tguid += n;\\n\\t\\t\\t\\t\\tif (i == 8 || i == 12 || i == 16 || i == 20) guid += \\\"-\\\";\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tsesolve(guid);\\n\\t\\t\\t});\\n\\t\\t}\\n\\t}\\n});\\n\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"pages/mall/productDetailsPage/productDetailsPage\"],{\"0c1d\":function(t,e,n){\"use strict\";var i=n(\"9742\"),s=n.n(i);s.a},9742:function(t,e,n){},\"9d58\":function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement;t._self._c},s=[];n.d(e,\"a\",function(){return i}),n.d(e,\"b\",function(){return s})},a653:function(t,e,n){\"use strict\";n.r(e);var i=n(\"9d58\"),s=n(\"c6f7\");for(var a in s)\"default\"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);n(\"0c1d\");var r=n(\"2877\"),o=Object(r[\"a\"])(s[\"default\"],i[\"a\"],i[\"b\"],!1,null,null,null);e[\"default\"]=o.exports},c6f7:function(t,e,n){\"use strict\";n.r(e);var i=n(\"ec76\"),s=n.n(i);for(var a in i)\"default\"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e[\"default\"]=s.a},ec76:function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var i=o(n(\"a34a\")),s=o(n(\"66fd\")),a=n(\"c440\"),r=n(\"5177\");function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,i,s,a,r){try{var o=t[a](r),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(i,s)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var a=t.apply(e,n);function r(t){c(a,i,s,r,o,\"next\",t)}function o(t){c(a,i,s,r,o,\"throw\",t)}r(void 0)})}}var h=function(){return n.e(\"components/i-past/i-past\").then(n.bind(null,\"ed17\"))},l=function(){return n.e(\"components/i-show/i-show\").then(n.bind(null,\"d057\"))},d=function(){return n.e(\"components/i-rule/i-rule\").then(n.bind(null,\"0d7b\"))},g=function(){return n.e(\"components/i-popup/i-popup\").then(n.bind(null,\"fbff\"))},b=function(){return n.e(\"components/product-table/product-table\").then(n.bind(null,\"31a0\"))},f=!1,p=[],m=s.default.extend({components:{iPast:h,iShow:l,iRule:d,iPopup:g,productTable:b},data:function(){return{indicatorDots:!0,autoplay:!0,interval:2e3,duration:500,circular:!0,indicatorActiveColor:\"#fe7f00\",disabled:!1,swiper:[],title:\"服务\",id:\"\",product:\"\",num:\"1\",activeDetail:\"\",active:{},tabIndex:0,pastList:[],showList:[],ruleList:\"\",show:!1,label:[\"零风险\",\"正品承诺\",\"极速发货\",\"公平公正\"],tab:[\"往期成交\",\"分享晒单\",\"竞拍规则\"],src:\"/static/icon_experience.png\",leading:\"/static/icon/icon_leading.png\",ActiveID:\"\",Price:\"\",msgID:\"\",msgType:\"\",timer:0,buttonsList:[],price:\"\",allBills:\"\",lastBills:[],timerDurationTitle:\"\",onTimerStatus:\"\",OnTimerDowns:\"\",seq:\"\",MyBills:\"\",SeqBills:\"\",Signups:\"\",SeqSignups:\"\",mySeqBills:\"\",UserID:\"\",tapbtn:\"\",BillStat:\"\",newPrice:\"\",newBill:\"\",newNick:\"\",newFace:\"\",newCity:\"\",lastbills:[],times:\"\",seqTime:new Date}},onLoad:function(t){console.log(\"options\",t),this.id=t.id,this.ActiveID=t.activeID,this.websocket()},onShow:function(){this.UserID=t.getStorageSync(\"UserInfo\").ID,this.getProduct(),this.getActiveByID(),this.getPastTransactionsList(),this.getOrderDryingList()},onUnload:function(){t.closeSocket()},onPullDownRefresh:function(){this.websocket(),this.getProduct(),this.getActiveByID(),this.getPastTransactionsList(),this.getOrderDryingList()},methods:{getProduct:function(){var t=this,e=this.id,n={ProductID:e};(0,a.request)(r.ProductGet,n).then(function(e){console.log(\"Product\",e),t.product=e.Product,t.swiper=e.Product.ProductPicList,t.Price=e.Product.ProductPrice})},getActiveByID:function(){var t=this,e=this.ActiveID,n={ActiveID:e};(0,a.request)(r.GetActiveByID,n).then(function(e){console.log(\"活动详情\",e),t.activeDetail=e.ActiveDetail,t.active=e.ActiveDetail.Active})},tabClick:function(t){this.tabIndex=t},getPastTransactionsList:function(){var t=this,e=this.id,n={ProductID:e};(0,a.request)(r.PastTransactionsListGet,n).then(function(e){console.log(e);var n=e.OrderList;n.map(function(t){t.percentage=(t.OrderMoneys/t.OrderPrimeCost*100).toFixed(2)}),t.pastList=n})},change:function(t){console.log(t),this.num=t},hidePopup:function(){this.show=!this.show},tolowerShow:function(t){console.log(\"tolowerShow\",t)},getOrderDryingList:function(){var t=this,e=this.id,n={ProductID:e};(0,a.request)(r.OrderDryingListGet,n).then(function(e){t.showList=e.OrderList})},activePath:function(){var t=this.id;(0,a.navigateTo)(\"../activeBilList/activeBilList?id=\"+t)},productDetailsUparsePath:function(){var t=this.id;(0,a.navigateTo)(\"../productDetailsUparse/productDetailsUparse?id=\"+t)},websocket:function(){var e=this;t.connectSocket({url:\"wss://websocket.tengpaisc.com:8888/\"}),t.onSocketOpen(function(t){console.log(\"WebSocket连接已打开！\"),f=!0;for(var n=0;n<p.length;n++)e.sendSocketMessage(p[n]);p=[],e.msgSubscribe(),e.reqLogin()}),t.onSocketError(function(t){console.log(\"WebSocket连接打开失败，请检查！\")}),this.onSocketMessage()},sendSocketMessage:function(e){var n=JSON.stringify(e);console.log(\"发送数据\",f,e),f?t.sendSocketMessage({data:n}):p.push(e)},onSocketMessage:function(){var e=this;return new Promise(function(n,i){t.onSocketMessage(function(t){console.log(\"收到服务器内容：\"+t.data);var i=JSON.parse(t.data);console.log(i),e.proccessMsg(),n(i)})})},reqLogin:function(){var e=u(i.default.mark(function e(){var n,s,r,o,c,u;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.GUID();case 2:n=e.sent,s=\"3957399\",r=t.getStorageSync(\"SessionKey\"),o=this.ActiveID,this.UserID,!1,c=(0,a.formatTime)(new Date),u={ActiveID:o,AppKey:s,SessionKey:r,msgID:n,msgType:3,msgTime:c},this.sendSocketMessage(u);case 11:case\"end\":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),msgSubscribe:function(){var t=u(i.default.mark(function t(){var e,n,s,r,o;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.GUID();case 2:e=t.sent,n=this.ActiveID,s=\"/Actives/\"+n+\"/\",r=(0,a.formatTime)(new Date),o={Subscribe:s,msgID:e,msgType:0,msgTime:r},this.sendSocketMessage(o);case 8:case\"end\":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),proccessMsg:function(){var t=u(i.default.mark(function t(){var e,n,s,r,o,c,u,h,l,d;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.GUID();case 2:return e=t.sent,n=new Date,s=(0,a.formatTime)(new Date),t.next=7,this.onSocketMessage();case 7:r=t.sent,o=r.msgType,this.msgType=o,console.log(o),t.prev=11,t.t0=o,t.next=0===t.t0?15:1===t.t0?17:2===t.t0?23:3===t.t0?27:4===t.t0?29:5===t.t0?31:6===t.t0?33:7===t.t0?38:8===t.t0?42:9===t.t0?48:10===t.t0?58:11===t.t0?66:12===t.t0?70:78;break;case 15:return r.IsError?(0,a.showToast)(\"订阅失败：\"+r.ErrMsg):(0,a.showToast)(r.ErrMsg),t.abrupt(\"break\",78);case 17:return r.IsError?(0,a.showToast)(\"报名失败：\"+r.ErrMsg):(this.buttonStateChanged(\"报名\",\"0\",!0,!0),(0,a.showToast)(r.ErrMsg)),this.seq=\"剩余举牌次数：\".concat(r.SeqBills,\"次，已报名份数：\").concat(r.Signups,\"份，还可报名：\").concat(r.SeqSignups),this.SeqBills=r.SeqBills,this.Signups=r.Signups,this.SeqSignups=r.SeqSignups,t.abrupt(\"break\",78);case 23:return r.IsError?(0,a.showToast)(r.ErrMsg):(this.MyBills=r.MyBills,this.SeqBills=r.SeqBills,(0,a.showToast)(r.ErrMsg)),this.buttonStateChanged(\"举牌\",\"1\",!0,!0),this.timerState(null),t.abrupt(\"break\",78);case 27:return r.IsError?(0,a.showToast)(\"登录失败：\"+r.ErrMsg):(this.UserID=r.UserID,c={ActiveID:this.ActiveID,UserID:this.UserID,msgID:e,msgType:6,msgTime:s},this.sendSocketMessage(c)),t.abrupt(\"break\",78);case 29:return r.IsError?(this.buttonStateChanged(\"托管\",\"2\",!0,!0),(0,a.showToast)(\"托管失败!\"+r.ErrMsg)):this.buttonStateChanged(\"取消托管\",\"2\",!0,!0),t.abrupt(\"break\",78);case 31:return r.IsError?(this.buttonStateChanged(\"取消托管\",\"2\",!0,!0),(0,a.showToast)(\"取消托管失败!\")):this.buttonStateChanged(\"托管\",\"2\",!0,!0),t.abrupt(\"break\",78);case 33:return this.timerDurationTitle=r.TimerDurationTitle,0===r.TimerDurationValue?this.timerState(null):(u=n.getTime()+r.TimerDurationValue,this.seqTime.setTime(u),this.timerState(this.seqTime)),this.buttonsList=r.ButtonsList,this.onPriceUpdateEvent(r.Price,r.AllBills,r.LastBills),t.abrupt(\"break\",78);case 38:return this.buttonStateChanged(\"参与下一期\",\"4\",!1,!1),this.buttonStateChanged(\"填写收货地址\",\"3\",!1,!1),r.AllSignups===r.MaxSignups?(this.buttonStateChanged(\"举牌\",\"1\",!0,!0),this.buttonStateChanged(\"托管\",\"2\",!0,!0),this.buttonStateChanged(\"报名\",\"0\",!1,!1)):(this.buttonStateChanged(\"举牌\",\"1\",!1,!1),this.buttonStateChanged(\"托管\",\"2\",!1,!1),this.buttonStateChanged(\"报名\",\"3\",!0,!0)),t.abrupt(\"break\",78);case 42:return(0,a.showToast)(\"价格已更新......！\"),this.BillStat=\"总举牌次数：\"+r.AllBills+\"次\",r.Bills.length>0&&(this.newPrice=\"￥\".concat(r.Bills[0].Price),this.newBill=r.Bills[0].bill,this.newFace=r.Bills[0].bill.face,this.newNick=\"领先人：\".concat(r.Bills[0].nick),h=new Date,l=h.getTime()+r.SeqMiniSecounds,this.seqTime.setTime(l)),r.Bills.length>1&&(this.lastbills=r.Bills),1===r.Bills.length&&this.timerState(this.seqTime),t.abrupt(\"break\",78);case 48:return d=n.getTime(),this.seqTime.setTime(d+r.SeqMiniSecounds),console.log(this.seqTime),this.timerDurationTitle=\"开拍准备\",this.buttonStateChanged(\"报名\",\"0\",!1,!1),this.buttonStateChanged(\"托管\",\"1\",!0,!1),this.buttonStateChanged(\"自动举牌中\",\"2\",!0,!1),this.buttonStateChanged(\"填写收货地址\",\"3\",!1,!1),this.buttonStateChanged(\"参与下一期\",\"4\",!1,!1),t.abrupt(\"break\",78);case 58:return this.times=\"等待首牌\",this.timerState(null),this.newPrice=\"￥\"+r.currPrice,0===r.ActiveType?(this.buttonStateChanged(\"自动举牌中\",\"1\",!0,!1),this.buttonStateChanged(\"托管\",\"2\",!0,!1)):(this.buttonStateChanged(\"举牌\",\"1\",!0,!0),this.buttonStateChanged(\"托管\",\"2\",!0,!0)),this.buttonStateChanged(\"报名\",\"0\",!1,!1),this.buttonStateChanged(\"填写收货地址\",\"3\",!1,!1),this.buttonStateChanged(\"参与下一期\",\"4\",!1,!1),t.abrupt(\"break\",78);case 66:return this.timerState(null),this.times=\"已成交\",this.UserID===r.WinsBill.UserID?((0,a.showToast)(\"恭喜，您已中拍！点击确定去填写订单信息吧！\"),this.buttonStateChanged(\"报名\",\"0\",!1,!1),this.buttonStateChanged(\"举牌\",\"1\",!1,!1),this.buttonStateChanged(\"托管\",\"2\",!1,!1),this.buttonStateChanged(\"参与下一期\",\"4\",!1,!1),this.buttonStateChanged(\"填写收货地址\",\"3\",!0,!0)):(this.buttonStateChanged(\"报名\",\"0\",!1,!1),this.buttonStateChanged(\"举牌\",\"1\",!1,!1),this.buttonStateChanged(\"托管\",\"2\",!1,!1),this.buttonStateChanged(\"填写收货地址\",\"3\",!1,!1),this.buttonStateChanged(\"参与下一期\",\"4\",!0,!0)),t.abrupt(\"break\",78);case 70:return this.onTimerStatus=\"活动流拍\",this.OnTimerDowns=\"-\",this.buttonStateChanged(\"报名\",\"0\",!1,!1),this.buttonStateChanged(\"举牌\",\"1\",!1,!1),this.buttonStateChanged(\"托管\",\"2\",!1,!1),this.buttonStateChanged(\"填写收货地址\",\"3\",!1,!1),this.buttonStateChanged(\"参与下一期\",\"4\",!0,!0),t.abrupt(\"break\",78);case 78:t.next=84;break;case 80:t.prev=80,t.t1=t[\"catch\"](11),console.error(\"处理消息出错：\"),console.error(t.t1);case 84:case\"end\":return t.stop()}},t,this,[[11,80]])}));function e(){return t.apply(this,arguments)}return e}(),buttonStateChanged:function(t,e,n,i){this.buttonsList.map(function(s,a,r){r[e].ButtonText=t,r[e].ButtonVisibility=n,r[e].ButtonEnabled=i})},onPriceUpdateEvent:function(t,e,n){this.allBills=e,n.length>0?(this.newPrice=\"￥\".concat(n[0].bill.Price),this.newBill=n[0].bill,this.newFace=n[0].face,this.newNick=\"领先人：\".concat(n[0].nick),this.newCity=\"\".concat(n[0].bill.Province,\" \").concat(n[0].bill.City)):this.newPrice=\"￥\".concat(t),n.length>1&&(this.lastBills=n)},billTap:function(){var t=u(i.default.mark(function t(e){var n,s,r,o,c,u,h,l,d,g;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e,s=this.ActiveID,r=this.num,o=this.Price,t.next=6,this.GUID();case 6:c=t.sent,u=(0,a.formatTime)(new Date),console.log(\"switch\",e),t.t0=n,t.next=\"报名\"===t.t0?12:\"举牌\"===t.t0?16:\"托管\"===t.t0?19:\"取消托管\"===t.t0?22:25;break;case 12:return h={ActiveID:s,Shares:r,msgID:c,msgType:1,msgTime:u},this.sendSocketMessage(h),this.show=!this.show,t.abrupt(\"break\",25);case 16:return l={ActiveID:s,Price:o,msgID:c,msgType:2,msgTime:u},this.sendSocketMessage(l),t.abrupt(\"break\",25);case 19:return d={ActiveID:s,msgID:c,msgType:4,msgTime:u},this.sendSocketMessage(d),t.abrupt(\"break\",25);case 22:return g={ActiveID:s,msgID:c,msgType:5,msgTime:u},this.sendSocketMessage(g),t.abrupt(\"break\",25);case 25:case\"end\":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),seqDisplay:function(){var t=this.seqTime,e=new Date,n=t-e,i=Math.floor(n/1e3),s=Math.floor(Math.floor(i/60)/60)%24,a=Math.floor(Math.floor(Math.floor(i/60)/60)/24)%30,r=Math.floor(i/60)%60,o=i%60,c=Math.floor(n/100)%10;if(o<=0)this.times=\"\";else{s<10&&(s=\"0\"+s),r<10&&(r=\"0\"+r),o<10&&(o=\"0\"+o);var u=(a>0?a+\"天\":\"\")+s+\":\"+r+\":\"+o+\".\"+c;this.times=u}},timerState:function(t){var e=this;null!==t?t instanceof Date?t.getTime()<(new Date).getTime()?console.error(\"设置倒计时器无效，日期时间必须是未来的时间！\"):(clearInterval(this.timer),this.timer=setInterval(function(){e.seqDisplay()},100)):console.error(\"传入日期时间格式不正确！\"):clearInterval(this.timer)},GUID:function(){return new Promise(function(t,e){for(var n=\"\",i=1;i<=32;i++){var s=Math.floor(16*Math.random()).toString(16);n+=s,8!=i&&12!=i&&16!=i&&20!=i||(n+=\"-\")}t(n)})}}});e.default=m}).call(this,n(\"543d\")[\"default\"])}},[[\"2baa\",\"common/runtime\",\"common/vendor\"]]]);","extractedComments":[]}