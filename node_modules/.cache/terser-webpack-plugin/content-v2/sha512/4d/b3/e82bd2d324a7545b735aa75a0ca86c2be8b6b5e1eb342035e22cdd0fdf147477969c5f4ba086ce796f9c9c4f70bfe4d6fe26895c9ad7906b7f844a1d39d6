{"map":"{\"version\":3,\"sources\":[\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue\",\"/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue?vue&type=script&lang=js&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue?vue&type=template&id=376af2d5&\",\"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/components/wxParseImg.vue?vue&type=template&id=376af2d5&\"],\"names\":[\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_wxParseImg_vue_vue_type_template_id_376af2d5___WEBPACK_IMPORTED_MODULE_0__\",\"_wxParseImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__\",\"__WEBPACK_IMPORT_KEY__\",\"key\",\"d\",\"_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__\",\"component\",\"Object\",\"name\",\"data\",\"newStyleStr\",\"preview\",\"props\",\"node\",\"type\",\"default\",\"inject\",\"methods\",\"wxParseImgTap\",\"e\",\"this\",\"src\",\"currentTarget\",\"dataset\",\"uparse\",\"wxParseImgLoad\",\"_e$mp$detail\",\"mp\",\"detail\",\"width\",\"height\",\"recal\",\"wxAutoImageCal\",\"imageheight\",\"imageWidth\",\"_this$node$attr\",\"attr\",\"padding\",\"mode\",\"styleStr\",\"imageHeightStyle\",\"concat\",\"originalWidth\",\"originalHeight\",\"windowWidth\",\"$screen\",\"results\",\"removeImageUrl\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_wxParseImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_babel_loader_lib_index_js_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_wxParseImg_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"render\",\"_vm\",\"_h\",\"$createElement\",\"_self\",\"_c\",\"staticRenderFns\"],\"mappings\":\"6IAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,QAAAI,EAAAJ,EAAA,QAAA,IAAA,IAAAK,KAAAD,EAAA,YAAAC,GAAA,SAAAC,GAAAN,EAAAO,EAAAL,EAAAI,EAAA,WAAA,OAAAF,EAAAE,KAAA,CAAAD,GAAA,IAAAG,EAAAR,EAAA,QAOAS,EAAgBC,OAAAF,EAAA,KAAAE,CACdN,EAAA,WACAD,EAAA,KACAA,EAAA,MACF,EACA,KACA,KACA,MAIeD,EAAA,WAAAO,qHCZA,CACdE,KAAM,aACNC,KAFc,WAGb,MAAO,CACNC,YAAa,GACbC,SAAS,IAGXC,MAAO,CACNC,KAAM,CACLC,KAAMP,OACNQ,QAFK,WAGJ,MAAO,MAIVC,OAAQ,CAAC,UACTC,QAAS,CACRC,cADQ,SACMC,GACb,GAAKC,KAAKT,QAAV,CADgB,IAGfU,EACGF,EAAEG,cAAcC,QADnBF,IAEIA,GACLD,KAAKI,OAAOb,QAAQU,EAAKF,KAG1BM,eAVQ,SAUON,GAAG,IAEhBE,EACGF,EAAEG,cAAcC,QADnBF,IAED,GAAKA,EAAL,CAJiB,IAAAK,EAQbP,EAAEQ,GAAGC,OAFRC,EANgBH,EAMhBG,MACAC,EAPgBJ,EAOhBI,OAEKC,EAAQX,KAAKY,eAAeH,EAAOC,GAExCG,EAEGF,EAFHE,YACAC,EACGH,EADHG,WAZgBC,EAiBbf,KAAKP,KAAKuB,KAFbC,EAfgBF,EAehBE,QACAC,EAhBgBH,EAgBhBG,KAGAC,EACGnB,KAAKP,KADR0B,SAEKC,EAA4B,aAATF,EAAsB,GAAtB,WAAAG,OAAsCR,EAAtC,OACzBb,KAAKV,YAAL,GAAA+B,OAAsBF,EAAtB,MAAAE,OAAmCD,EAAnC,aAAAC,OAA+DP,EAA/D,mBAAAO,QAA4FJ,EAA5F,SAGDL,eAnCQ,SAmCOU,EAAeC,GAAgB,IAG5CN,EACGjB,KAAKP,KAAKuB,KADbC,QAEKO,EAAcxB,KAAKP,KAAKgC,QAAQhB,MAAS,EAAIQ,EAC7CS,EAAU,GAEhB,GAAIJ,EAAgB,IAAMC,EAAiB,GAAI,CAAA,IAE7CtB,EACGD,KAAKP,KAAKuB,KADbf,IAEDD,KAAKI,OAAOuB,eAAe1B,GAC3BD,KAAKT,SAAU,EAchB,OAVI+B,EAAgBE,GAEnBE,EAAQZ,WAAaU,EACrBE,EAAQb,YAAcW,GAAeD,EAAiBD,KAGtDI,EAAQZ,WAAaQ,EACrBI,EAAQb,YAAcU,GAGhBG,oDCrFVjD,EAAAC,EAAAC,GAAA,IAAAiD,EAAAnD,EAAA,QAAAoD,EAAApD,EAAAqD,EAAAF,GAAA,IAAA,IAAA9C,KAAA8C,EAAA,YAAA9C,GAAA,SAAAC,GAAAN,EAAAO,EAAAL,EAAAI,EAAA,WAAA,OAAA6C,EAAA7C,KAAA,CAAAD,GAA+cH,EAAA,WAAAkD,EAAG,qCCAld,IAAAE,EAAA,WAA0B,IAAAC,EAAAhC,KAAaiC,EAAAD,EAAAE,eAA0BF,EAAAG,MAAAC,IACjEC,EAAA,GCDA5D,EAAAO,EAAAL,EAAA,IAAA,WAAA,OAAAoD,IAAAtD,EAAAO,EAAAL,EAAA,IAAA,WAAA,OAAA0D\",\"sourcesContent\":[\"import { render, staticRenderFns } from \\\"./wxParseImg.vue?vue&type=template&id=376af2d5&\\\"\\nimport script from \\\"./wxParseImg.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./wxParseImg.vue?vue&type=script&lang=js&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  null,\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"//\\n//\\n//\\n//\\n//\\n\\nexport default {\\n\\tname: 'wxParseImg',\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tnewStyleStr: '',\\n\\t\\t\\tpreview: true,\\n\\t\\t};\\n\\t},\\n\\tprops: {\\n\\t\\tnode: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\tdefault () {\\n\\t\\t\\t\\treturn {};\\n\\t\\t\\t},\\n\\t\\t},\\n\\t},\\n\\tinject: ['uparse'],\\n\\tmethods: {\\n\\t\\twxParseImgTap(e) {\\n\\t\\t\\tif (!this.preview) return;\\n\\t\\t\\tconst {\\n\\t\\t\\t\\tsrc\\n\\t\\t\\t} = e.currentTarget.dataset;\\n\\t\\t\\tif (!src) return;\\n\\t\\t\\tthis.uparse.preview(src, e);\\n\\t\\t},\\n\\t\\t// 图片视觉宽高计算函数区\\n\\t\\twxParseImgLoad(e) {\\n\\t\\t\\tconst {\\n\\t\\t\\t\\tsrc\\n\\t\\t\\t} = e.currentTarget.dataset;\\n\\t\\t\\tif (!src) return;\\n\\t\\t\\tconst {\\n\\t\\t\\t\\twidth,\\n\\t\\t\\t\\theight\\n\\t\\t\\t} = e.mp.detail;\\n\\t\\t\\tconst recal = this.wxAutoImageCal(width, height);\\n\\t\\t\\tconst {\\n\\t\\t\\t\\timageheight,\\n\\t\\t\\t\\timageWidth\\n\\t\\t\\t} = recal;\\n\\t\\t\\tconst {\\n\\t\\t\\t\\tpadding,\\n\\t\\t\\t\\tmode\\n\\t\\t\\t} = this.node.attr;\\n\\t\\t\\tconst {\\n\\t\\t\\t\\tstyleStr\\n\\t\\t\\t} = this.node;\\n\\t\\t\\tconst imageHeightStyle = mode === 'widthFix' ? '' : `height: ${imageheight}px;`;\\n\\t\\t\\tthis.newStyleStr = `${styleStr}; ${imageHeightStyle}; width: ${imageWidth}px; padding: 0 ${+padding}px;`;\\n\\t\\t},\\n\\t\\t// 计算视觉优先的图片宽高\\n\\t\\twxAutoImageCal(originalWidth, originalHeight) {\\n\\t\\t\\t// 获取图片的原始长宽\\n\\t\\t\\tconst {\\n\\t\\t\\t\\tpadding\\n\\t\\t\\t} = this.node.attr;\\n\\t\\t\\tconst windowWidth = this.node.$screen.width - (2 * padding);\\n\\t\\t\\tconst results = {};\\n\\n\\t\\t\\tif (originalWidth < 60 || originalHeight < 60) {\\n\\t\\t\\t\\tconst {\\n\\t\\t\\t\\t\\tsrc\\n\\t\\t\\t\\t} = this.node.attr;\\n\\t\\t\\t\\tthis.uparse.removeImageUrl(src);\\n\\t\\t\\t\\tthis.preview = false;\\n\\t\\t\\t}\\n\\n\\t\\t\\t// 判断按照那种方式进行缩放\\n\\t\\t\\tif (originalWidth > windowWidth) {\\n\\t\\t\\t\\t// 在图片width大于手机屏幕width时候\\n\\t\\t\\t\\tresults.imageWidth = windowWidth;\\n\\t\\t\\t\\tresults.imageheight = windowWidth * (originalHeight / originalWidth);\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t// 否则展示原来的数据\\n\\t\\t\\t\\tresults.imageWidth = originalWidth;\\n\\t\\t\\t\\tresults.imageheight = originalHeight;\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn results;\\n\\t\\t}\\n\\t}\\n};\\n\",\"import mod from \\\"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxParseImg.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxParseImg.vue?vue&type=script&lang=js&\\\"\",\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"export * from \\\"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxParseImg.vue?vue&type=template&id=376af2d5&\\\"\"]}","code":"(global[\"webpackJsonp\"]=global[\"webpackJsonp\"]||[]).push([[\"components/uParse/src/components/wxParseImg\"],{6847:function(t,e,a){\"use strict\";a.r(e);var n=a(\"deb3\"),r=a(\"ad2c\");for(var i in r)\"default\"!==i&&function(t){a.d(e,t,function(){return r[t]})}(i);var c=a(\"2877\"),u=Object(c[\"a\"])(r[\"default\"],n[\"a\"],n[\"b\"],!1,null,null,null);e[\"default\"]=u.exports},a6ca:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var n={name:\"wxParseImg\",data:function(){return{newStyleStr:\"\",preview:!0}},props:{node:{type:Object,default:function(){return{}}}},inject:[\"uparse\"],methods:{wxParseImgTap:function(t){if(this.preview){var e=t.currentTarget.dataset.src;e&&this.uparse.preview(e,t)}},wxParseImgLoad:function(t){var e=t.currentTarget.dataset.src;if(e){var a=t.mp.detail,n=a.width,r=a.height,i=this.wxAutoImageCal(n,r),c=i.imageheight,u=i.imageWidth,o=this.node.attr,s=o.padding,d=o.mode,f=this.node.styleStr,h=\"widthFix\"===d?\"\":\"height: \".concat(c,\"px;\");this.newStyleStr=\"\".concat(f,\"; \").concat(h,\"; width: \").concat(u,\"px; padding: 0 \").concat(+s,\"px;\")}},wxAutoImageCal:function(t,e){var a=this.node.attr.padding,n=this.node.$screen.width-2*a,r={};if(t<60||e<60){var i=this.node.attr.src;this.uparse.removeImageUrl(i),this.preview=!1}return t>n?(r.imageWidth=n,r.imageheight=n*(e/t)):(r.imageWidth=t,r.imageheight=e),r}}};e.default=n},ad2c:function(t,e,a){\"use strict\";a.r(e);var n=a(\"a6ca\"),r=a.n(n);for(var i in n)\"default\"!==i&&function(t){a.d(e,t,function(){return n[t]})}(i);e[\"default\"]=r.a},deb3:function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,\"a\",function(){return n}),a.d(e,\"b\",function(){return r})}}]);","extractedComments":[]}