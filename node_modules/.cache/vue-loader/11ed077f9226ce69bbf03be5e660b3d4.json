{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/addressUpdate/addressUpdate.vue?vue&type=style&index=0&id=44613c05&scoped=true&lang=css&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/pages/ucenter/addressUpdate/addressUpdate.vue","mtime":1568042605213},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js","mtime":1554990705185},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npage {\n\tbackground-color: #fff;\n}\n\n.i-address {\n\tpadding: 20upx 30upx;\n}\n\n.i-address-left {\n\tmin-width: 110upx;\n}\n\n.i-address-right {\n\tmargin-left: 40upx;\n}\n\n.i-line {\n\tborder-bottom: 2upx solid #f4f4f4;\n}\n\n.i-address-bottom {\n\tborder-top: 2upx solid #f4f4f4;\n\tborder-bottom: 2upx solid #f4f4f4;\n\tpadding: 10upx 30upx;\n}\n\n.i-add-button button {\n\tposition: fixed;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 98upx;\n\tline-height: 98upx;\n\tfont-size: 32upx;\n\tcolor: #fff;\n\tbackground-color: #fe7f00;\n\tborder: none;\n\tborder-radius: 0;\n}\n",{"version":3,"sources":["addressUpdate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiPA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addressUpdate.vue","sourceRoot":"src/pages/ucenter/addressUpdate","sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"i-content\">\n\t\t\t<view class=\"i-address i-line i-flex\">\n\t\t\t\t<view class=\"i-address-left\">收货人</view>\n\t\t\t\t<view class=\"i-address-right\">\n\t\t\t\t\t<input class=\"i-input\" :value=\"realName\" @input=\"onrealNameInput\" placeholder=\"请填写收货人\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"i-address i-line i-flex\">\n\t\t\t\t<view class=\"i-address-left\">手机号码</view>\n\t\t\t\t<view class=\"i-address-right\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"i-input\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t:value=\"Mobile\"\n\t\t\t\t\t\t@input=\"onMobileInput\"\n\t\t\t\t\t\tplaceholder=\"请填写手机号码\"\n\t\t\t\t\t\tmaxlength=\"11\"\n\t\t\t\t\t/>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"i-address i-line i-flex\">\n\t\t\t\t<view class=\"i-address-left\">所在区域</view>\n\t\t\t\t<view class=\"i-address-right\" @click=\"showMulLinkageThreePicker\">\n\t\t\t\t\t<input class=\"i-input\" :value=\"(Province + City + Area)\" disabled placeholder=\"请选择所在区域\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"i-address i-line i-flex\">\n\t\t\t\t<view class=\"i-address-left\">详细地址</view>\n\t\t\t\t<view class=\"i-address-right\">\n\t\t\t\t\t<input class=\"i-input\" :value=\"Address\" @blur=\"onAddressInput\" placeholder=\"请填写详细地址\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"i-address i-flex\">\n\t\t\t\t<view class=\"i-address-left\">邮政编码</view>\n\t\t\t\t<view class=\"i-address-right\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"i-input\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t:value=\"ZipCode\"\n\t\t\t\t\t\t@input=\"onZipCodeInput\"\n\t\t\t\t\t\tplaceholder=\"请填写邮政编码（选填）\"\n\t\t\t\t\t/>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"i-add-button i-button\">\n\t\t\t<button class=\"btn\" @click=\"updateAddress\">{{saveButton}}</button>\n\t\t</view>\n\t\t<mpvue-city-picker\n\t\t\t:themeColor=\"themeColor\"\n\t\t\tref=\"mpvueCityPicker\"\n\t\t\t:pickerValueDefault=\"cityPickerValueDefault\"\n\t\t\t@onCancel=\"onCancel\"\n\t\t\t@onConfirm=\"onConfirm\"\n\t\t></mpvue-city-picker>\n\t</view>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport {\n\trequest,\n\tnavigateTo,\n\tredirectTo,\n\tshowToast,\n\tonShareAppMessage\n} from \"@/common/utils/util\";\nimport {\n\tUserAddressListGet,\n\tUserAddressUpdate,\n\tOrderAddressSubmit\n} from \"@/common/config/api\";\nimport mpvueCityPicker from \"@/components/mpvue-citypicker/mpvueCityPicker.vue\";\nexport default Vue.extend({\n\tcomponents: {\n\t\tmpvueCityPicker\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tproductID: \"\",\n\t\t\tsaveButton: \"保存\",\n\t\t\tdisabled: false,\n\t\t\torderID: \"\",\n\t\t\taddressID: 0, // 收货地址ID\n\t\t\trealName: \"\",\n\t\t\tMobile: \"\",\n\t\t\tProvince: \"\",\n\t\t\tCity: \"\",\n\t\t\tArea: \"\",\n\t\t\tAddress: \"\",\n\t\t\tZipCode: \"\",\n\t\t\tIsDefault: 0,\n\t\t\tthemeColor: \"#fe7f00\",\n\t\t\tcityPickerValueDefault: [0, 0, 1]\n\t\t};\n\t},\n\tonLoad(options: any) {\n\t\tconsole.log(\"onLoad\", JSON.parse(options.disabled));\n\t\tthis.productID = options.productID;\n\t\tlet disabled = JSON.parse(options.disabled);\n\t\tif (disabled) {\n\t\t\tthis.disabled = disabled;\n\t\t\tthis.saveButton = \"订单提交地址\";\n\t\t}\n\t\tthis.orderID = options.orderID;\n\t\tthis.addressID = options.addressID;\n\t\tthis.getUserAddressList();\n\t},\n\tonShareAppMessage(e: any) {\n\t\treturn onShareAppMessage(e);\n\t},\n\tmethods: {\n\t\tgetUserAddressList() {\n\t\t\tlet AddressID = this.addressID;\n\t\t\tif (AddressID == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tAddressID: AddressID\n\t\t\t};\n\t\t\trequest(UserAddressListGet, data).then((res: any) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tlet addressList = res.AddressList[0];\n\t\t\t\tthis.realName = addressList.realName;\n\t\t\t\tthis.Mobile = addressList.Mobile;\n\t\t\t\tthis.Province = addressList.Province;\n\t\t\t\tthis.City = addressList.City;\n\t\t\t\tthis.Area = addressList.Area;\n\t\t\t\tthis.Address = addressList.Address;\n\t\t\t\tthis.ZipCode = addressList.ZipCode;\n\t\t\t\tthis.IsDefault = addressList.IsDefault;\n\t\t\t});\n\t\t},\n\t\t// 三级联动选择\n\t\tshowMulLinkageThreePicker() {\n\t\t\tconsole.log(this.$refs.mpvueCityPicker);\n\t\t\tlet refs: any = this.$refs;\n\t\t\trefs.mpvueCityPicker.show();\n\t\t},\n\t\tonCancel(e: any) {\n\t\t\tconsole.log(e);\n\t\t},\n\t\tonConfirm(e: any) {\n\t\t\tlet label = e.label;\n\t\t\tlet address: any = label.split(\"-\");\n\t\t\tlet Province = address[0];\n\t\t\tlet City = address[1];\n\t\t\tlet Area = address[2];\n\t\t\tthis.Province = Province;\n\t\t\tthis.City = City;\n\t\t\tthis.Area = Area;\n\t\t},\n\t\tonrealNameInput(e: any) {\n\t\t\tthis.realName = e.target.value;\n\t\t},\n\t\tonMobileInput(e: any) {\n\t\t\tthis.Mobile = e.target.value;\n\t\t},\n\t\tonAddressInput(e: any) {\n\t\t\tthis.Address = e.target.value;\n\t\t},\n\t\tonZipCodeInput(e: any) {\n\t\t\tthis.ZipCode = e.target.value;\n\t\t},\n\t\t// 新增或修改收货地址\n\t\tupdateAddress() {\n\t\t\tlet AddressID = this.addressID;\n\t\t\tlet realName = this.realName;\n\t\t\tlet Mobile = this.Mobile;\n\t\t\tlet Province = this.Province;\n\t\t\tlet City = this.City;\n\t\t\tlet Area = this.Area;\n\t\t\tlet Address = this.Address;\n\t\t\tlet ZipCode = this.ZipCode;\n\t\t\tlet IsDefault = this.IsDefault;\n\t\t\tif (!AddressID) {\n\t\t\t\tAddressID = 0;\n\t\t\t}\n\t\t\tif (!realName) {\n\t\t\t\tshowToast(\"请填写收货人!\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!Mobile) {\n\t\t\t\tshowToast(\"请填写收货人!\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!Province && !City && !Area) {\n\t\t\t\tshowToast(\"请填写收货人!\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!Address) {\n\t\t\t\tshowToast(\"请填写收货人!\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!IsDefault) {\n\t\t\t\tIsDefault = 0;\n\t\t\t}\n\t\t\tif (this.disabled) {\n\t\t\t\tthis.orderAddressSubmit();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tAddressID: AddressID,\n\t\t\t\trealName: realName,\n\t\t\t\tMobile: Mobile,\n\t\t\t\tProvince: Province,\n\t\t\t\tCity: City,\n\t\t\t\tArea: Area,\n\t\t\t\tAddress: Address,\n\t\t\t\tZipCode: ZipCode,\n\t\t\t\tIsDefault: IsDefault\n\t\t\t};\n\t\t\trequest(UserAddressUpdate, data).then((res: any) => {\n\t\t\t\tshowToast(\"保存成功！\");\n\t\t\t\tredirectTo(\"../addressShipping/addressShipping\");\n\t\t\t});\n\t\t},\n\t\torderAddressSubmit() {\n\t\t\tlet OrderID = this.orderID;\n\t\t\tlet AddressID = this.addressID;\n\t\t\tlet data = {\n\t\t\t\tOrderID: OrderID,\n\t\t\t\tAddressID: AddressID\n\t\t\t};\n\t\t\trequest(OrderAddressSubmit, data).then((res: any) => {\n\t\t\t\tshowToast(\"订单提交收货地址成功！\");\n\t\t\t\tredirectTo(\n\t\t\t\t\t\"../orderDetail/orderDetail?productID=\" +\n\t\t\t\t\t\tthis.productID +\n\t\t\t\t\t\t\"&OrderID=\" +\n\t\t\t\t\t\tthis.orderID\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t}\n});\n</script>\n\n<style scoped>\npage {\n\tbackground-color: #fff;\n}\n\n.i-address {\n\tpadding: 20upx 30upx;\n}\n\n.i-address-left {\n\tmin-width: 110upx;\n}\n\n.i-address-right {\n\tmargin-left: 40upx;\n}\n\n.i-line {\n\tborder-bottom: 2upx solid #f4f4f4;\n}\n\n.i-address-bottom {\n\tborder-top: 2upx solid #f4f4f4;\n\tborder-bottom: 2upx solid #f4f4f4;\n\tpadding: 10upx 30upx;\n}\n\n.i-add-button button {\n\tposition: fixed;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 98upx;\n\tline-height: 98upx;\n\tfont-size: 32upx;\n\tcolor: #fff;\n\tbackground-color: #fe7f00;\n\tborder: none;\n\tborder-radius: 0;\n}\n</style>\n"]}]}