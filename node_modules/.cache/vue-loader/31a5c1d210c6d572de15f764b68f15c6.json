{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/login/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/pages/ucenter/login/login.vue","mtime":1562508058510},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1561751947145},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1561751947145},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1554990705750},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1561751947145}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport {\n\t\tmapState,\n\t\tmapMutations\n\t} from 'vuex'\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: 'login',\n\t\t\t\tproviderList: []\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapState(['hasLogin'])\n\t\t},\n\t\tonLoad() {\n\t\t\tuni.getProvider({\n\t\t\t\tservice: 'oauth',\n\t\t\t\tsuccess: (result) => {\n\t\t\t\t\tthis.providerList = result.provider.map((value) => {\n\t\t\t\t\t\tlet providerName = '';\n\t\t\t\t\t\tswitch (value) {\n\t\t\t\t\t\t\tcase 'weixin':\n\t\t\t\t\t\t\t\tproviderName = '微信登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'qq':\n\t\t\t\t\t\t\t\tproviderName = 'QQ登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'sinaweibo':\n\t\t\t\t\t\t\t\tproviderName = '新浪微博登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'xiaomi':\n\t\t\t\t\t\t\t\tproviderName = '小米登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'alipay':\n\t\t\t\t\t\t\t\tproviderName = '支付宝登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'baidu':\n\t\t\t\t\t\t\t\tproviderName = '百度登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'toutiao':\n\t\t\t\t\t\t\t\tproviderName = '头条登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: providerName,\n\t\t\t\t\t\t\tid: value\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfail: (error) => {\n\t\t\t\t\tconsole.log('获取登录通道失败', error);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations(['login']),\n\t\t\ttologin(provider) {\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: provider.id,\n                    // #ifdef MP-ALIPAY\n                    scopes: 'auth_user',  //支付宝小程序需设置授权类型\n                    // #endif\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('login success:', res);\n\t\t\t\t\t\t// 更新保存在 store 中的登录状态\n\t\t\t\t\t\tthis.login(provider.id);\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log('login fail:', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/ucenter/login","sourcesContent":["<template>\n\t<view>\n\t\t<page-head :title=\"title\"></page-head>\n\t\t<view class=\"uni-padding-wrap\">\n\t\t\t<view style=\"background:#FFF; padding:40upx;\">\n\t\t\t\t<block v-if=\"hasLogin === true\">\n\t\t\t\t\t<view class=\"uni-h3 uni-center uni-common-mt\">已登录</view>\n\t\t\t\t\t<view class=\"uni-hello-text uni-center\">\n\t\t\t\t\t\t<text>每个账号仅需登录 1 次，\\n后续每次进入页面即可自动拉取用户信息。</text>\n\t\t\t\t\t</view>\n\t\t\t\t</block>\n\t\t\t\t<block v-if=\"hasLogin === false\">\n\t\t\t\t\t<view class=\"uni-h3 uni-center uni-common-mt\">未登录</view>\n\t\t\t\t\t<view class=\"uni-hello-text uni-center\">\n\t\t\t\t\t\t请点击按钮登录\n\t\t\t\t\t</view>\n\t\t\t\t</block>\n\t\t\t</view>\n\t\t\t<view class=\"uni-btn-v uni- uni-common-mt\">\n\t\t\t\t<button type=\"primary\" class=\"page-body-button\" v-for=\"(value,key) in providerList\" @click=\"tologin(value)\" :key=\"key\">{{value.name}}</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n<script>\n\timport {\n\t\tmapState,\n\t\tmapMutations\n\t} from 'vuex'\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: 'login',\n\t\t\t\tproviderList: []\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapState(['hasLogin'])\n\t\t},\n\t\tonLoad() {\n\t\t\tuni.getProvider({\n\t\t\t\tservice: 'oauth',\n\t\t\t\tsuccess: (result) => {\n\t\t\t\t\tthis.providerList = result.provider.map((value) => {\n\t\t\t\t\t\tlet providerName = '';\n\t\t\t\t\t\tswitch (value) {\n\t\t\t\t\t\t\tcase 'weixin':\n\t\t\t\t\t\t\t\tproviderName = '微信登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'qq':\n\t\t\t\t\t\t\t\tproviderName = 'QQ登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'sinaweibo':\n\t\t\t\t\t\t\t\tproviderName = '新浪微博登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'xiaomi':\n\t\t\t\t\t\t\t\tproviderName = '小米登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'alipay':\n\t\t\t\t\t\t\t\tproviderName = '支付宝登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'baidu':\n\t\t\t\t\t\t\t\tproviderName = '百度登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'toutiao':\n\t\t\t\t\t\t\t\tproviderName = '头条登录'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tname: providerName,\n\t\t\t\t\t\t\tid: value\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfail: (error) => {\n\t\t\t\t\tconsole.log('获取登录通道失败', error);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations(['login']),\n\t\t\ttologin(provider) {\n\t\t\t\tuni.login({\n\t\t\t\t\tprovider: provider.id,\n                    // #ifdef MP-ALIPAY\n                    scopes: 'auth_user',  //支付宝小程序需设置授权类型\n                    // #endif\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('login success:', res);\n\t\t\t\t\t\t// 更新保存在 store 中的登录状态\n\t\t\t\t\t\tthis.login(provider.id);\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log('login fail:', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\tbutton {\n\t\tbackground-color: #007aff;\n\t\tcolor: #ffffff;\n\t}\n</style>\n"]}]}