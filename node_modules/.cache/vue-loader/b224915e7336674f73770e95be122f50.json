{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/pages/index/automatic.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/pages/index/automatic.vue","mtime":1563915249670},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js","mtime":1560261210667},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport { request, navigateTo } from \"@/common/utils/util\";\r\nimport { HomeProductListGet, ProductCategoryListGet, ProductPaiListGet } from \"@/common/config/api\";\r\nexport default Vue.extend({\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcategoryList: [],\r\n\t\t\tsubCategoryList: [],\r\n\t\t\tcategoryActive: 0,\r\n\t\t\theight: 0,\r\n\t\t\tscrollTop: 0,\r\n\t\t\tscrollHeight: 0,\r\n\t\t\tcategoryID: \"\",\r\n\t\t\tpageNum: 0,\r\n\t\t\tpageSize: 10,\r\n\t\t\tpageCount: 1,\r\n\t\t\tstatusIconDone: \"/static/icon/icon_done.png\",\r\n\t\t\tstatusIconFlow: \"/static/icon/icon_flow.png\"\r\n\t\t};\r\n\t},\r\n\tonLoad() {\r\n\t\tlet windowHeight: any = uni.getSystemInfoSync().windowHeight;\r\n\t\tthis.height = windowHeight;\r\n\t},\r\n\tonShow() {\r\n\t\tthis.getCategory();\r\n\t},\r\n\tmethods: {\r\n\t\tscroll(e: any) {\r\n\t\t\tthis.scrollHeight = e.detail.scrollHeight;\r\n\t\t},\r\n\t\tgetCategory() {\r\n\t\t\tlet data = {};\r\n\t\t\trequest(ProductCategoryListGet, data).then((res: any) => {\r\n\t\t\t\tthis.categoryList = res.CategoryList;\r\n\t\t\t\tthis.categoryClickMain(0);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 商品列表\r\n\t\tcategoryClickMain(index: any) {\r\n\t\t\treturn new Promise((sesolve, reject) => {\r\n\t\t\t\tlet item: any = this.categoryList[index];\r\n\t\t\t\tthis.categoryActive = index;\r\n\t\t\t\tthis.categoryID = item.ID;\r\n\t\t\t\tthis.pageNum = 0;\r\n\t\t\t\tthis.lower();\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetProductPaiList() {\r\n\t\t\treturn new Promise((sesolve, reject) => {\r\n\t\t\t\tlet CategoryID = this.categoryID;\r\n\t\t\t\tlet pageNum = this.pageNum;\r\n\t\t\t\tlet pageSize = this.pageSize;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tPageID: pageNum,\r\n\t\t\t\t\tPageSize: pageSize,\r\n\t\t\t\t\tCategoryID: CategoryID,\r\n\t\t\t\t\tActiveType: 1\r\n\t\t\t\t};\r\n\t\t\t\trequest(ProductPaiListGet, data).then((res: any) => {\r\n\t\t\t\t\tlet subCategoryList = res.ProductList;\r\n\t\t\t\t\tsubCategoryList.map((item: any) => {\r\n\t\t\t\t\t\titem.activeButton =\r\n\t\t\t\t\t\t\titem.Active.ActiveStatus === (4 || 5) ? \"参加下一期\" : \"参加竞拍\";\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.pageCount = res.PageCount;\r\n\t\t\t\t\tsesolve(subCategoryList);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync lower() {\r\n\t\t\tif (this.pageNum < this.pageCount) {\r\n\t\t\t\tthis.pageNum++;\r\n\t\t\t\tlet subCategoryList: any = await this.getProductPaiList();\r\n\t\t\t\tif (this.pageNum === 1) {\r\n\t\t\t\t\tthis.subCategoryList = subCategoryList;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.subCategoryList = this.subCategoryList.concat(subCategoryList);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tproductDetailsTo(id: any, activeID: any) {\r\n\t\t\tnavigateTo(\"../mall/productDetailsPage/productDetailsPage?id=\" + id + '&activeID=' + activeID);\r\n\t\t}\r\n\t}\r\n});\r\n",{"version":3,"sources":["automatic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"automatic.vue","sourceRoot":"src/pages/index","sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"page-body\">\r\n\t\t\t<scroll-view class=\"nav-left\" scroll-y :style=\"'height:'+height+'px'\">\r\n\t\t\t\t<view\r\n\t\t\t\t\tclass=\"nav-left-item\"\r\n\t\t\t\t\t@click=\"categoryClickMain(index)\"\r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\tv-for=\"(item,index) in categoryList\"\r\n\t\t\t\t\t:class=\"categoryActive==index?'active':''\"\r\n\t\t\t\t>{{item.CategoryName}}</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<scroll-view\r\n\t\t\t\tclass=\"nav-right\"\r\n\t\t\t\tscroll-y\r\n\t\t\t\t:scroll-top=\"scrollTop\"\r\n\t\t\t\t@scroll=\"scroll\"\r\n\t\t\t\t@scrolltolower=\"lower\"\r\n\t\t\t\t:style=\"'height:'+height+'px'\"\r\n\t\t\t\tscroll-with-animation\r\n\t\t\t>\r\n\t\t\t\t<view class=\"nav-right-item\" v-for=\"(item,index) in subCategoryList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"teng-item-images\">\r\n\t\t\t\t\t\t<image class=\"nav-right-item-image\" :src=\"item.ProductPicList[0]\" />\r\n\t\t\t\t\t\t<block v-if=\"item.Active.ActiveStatus === 4\">\r\n\t\t\t\t\t\t\t<image class=\"teng-order-show-status\" :src=\"statusIconDone\" />\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"item.Active.ActiveStatus === 5\">\r\n\t\t\t\t\t\t\t<image class=\"teng-order-show-status\" :src=\"statusIconFlow\" />\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"teng-content\">\r\n\t\t\t\t\t\t<view class=\"teng-title\">{{item.ProductTitle}}</view>\r\n\t\t\t\t\t\t<view class=\"teng-type\" v-for=\"(i, idx) in item.Active.ActiveTagList\" :key=\"idx\">\r\n\t\t\t\t\t\t\t<text class=\"teng-type-text\">{{i}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"teng-footer\">\r\n\t\t\t\t\t\t\t<view class=\"teng-pirce\">\r\n\t\t\t\t\t\t\t\t<block v-if=\"item.Active.PrevActiveMoney > 0\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"teng-pirce-text\">上期成交：</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"teng-price-number\">¥{{item.Active.PrevActiveMoney}}</text>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"teng-jion-btn\">\r\n\t\t\t\t\t\t\t\t<button class=\"btn teng-btn\" @click=\"productDetailsTo(item.ID, item.Active.ID)\">{{item.activeButton}}</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport Vue from \"vue\";\r\nimport { request, navigateTo } from \"@/common/utils/util\";\r\nimport { HomeProductListGet, ProductCategoryListGet, ProductPaiListGet } from \"@/common/config/api\";\r\nexport default Vue.extend({\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tcategoryList: [],\r\n\t\t\tsubCategoryList: [],\r\n\t\t\tcategoryActive: 0,\r\n\t\t\theight: 0,\r\n\t\t\tscrollTop: 0,\r\n\t\t\tscrollHeight: 0,\r\n\t\t\tcategoryID: \"\",\r\n\t\t\tpageNum: 0,\r\n\t\t\tpageSize: 10,\r\n\t\t\tpageCount: 1,\r\n\t\t\tstatusIconDone: \"/static/icon/icon_done.png\",\r\n\t\t\tstatusIconFlow: \"/static/icon/icon_flow.png\"\r\n\t\t};\r\n\t},\r\n\tonLoad() {\r\n\t\tlet windowHeight: any = uni.getSystemInfoSync().windowHeight;\r\n\t\tthis.height = windowHeight;\r\n\t},\r\n\tonShow() {\r\n\t\tthis.getCategory();\r\n\t},\r\n\tmethods: {\r\n\t\tscroll(e: any) {\r\n\t\t\tthis.scrollHeight = e.detail.scrollHeight;\r\n\t\t},\r\n\t\tgetCategory() {\r\n\t\t\tlet data = {};\r\n\t\t\trequest(ProductCategoryListGet, data).then((res: any) => {\r\n\t\t\t\tthis.categoryList = res.CategoryList;\r\n\t\t\t\tthis.categoryClickMain(0);\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 商品列表\r\n\t\tcategoryClickMain(index: any) {\r\n\t\t\treturn new Promise((sesolve, reject) => {\r\n\t\t\t\tlet item: any = this.categoryList[index];\r\n\t\t\t\tthis.categoryActive = index;\r\n\t\t\t\tthis.categoryID = item.ID;\r\n\t\t\t\tthis.pageNum = 0;\r\n\t\t\t\tthis.lower();\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetProductPaiList() {\r\n\t\t\treturn new Promise((sesolve, reject) => {\r\n\t\t\t\tlet CategoryID = this.categoryID;\r\n\t\t\t\tlet pageNum = this.pageNum;\r\n\t\t\t\tlet pageSize = this.pageSize;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tPageID: pageNum,\r\n\t\t\t\t\tPageSize: pageSize,\r\n\t\t\t\t\tCategoryID: CategoryID,\r\n\t\t\t\t\tActiveType: 1\r\n\t\t\t\t};\r\n\t\t\t\trequest(ProductPaiListGet, data).then((res: any) => {\r\n\t\t\t\t\tlet subCategoryList = res.ProductList;\r\n\t\t\t\t\tsubCategoryList.map((item: any) => {\r\n\t\t\t\t\t\titem.activeButton =\r\n\t\t\t\t\t\t\titem.Active.ActiveStatus === (4 || 5) ? \"参加下一期\" : \"参加竞拍\";\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.pageCount = res.PageCount;\r\n\t\t\t\t\tsesolve(subCategoryList);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync lower() {\r\n\t\t\tif (this.pageNum < this.pageCount) {\r\n\t\t\t\tthis.pageNum++;\r\n\t\t\t\tlet subCategoryList: any = await this.getProductPaiList();\r\n\t\t\t\tif (this.pageNum === 1) {\r\n\t\t\t\t\tthis.subCategoryList = subCategoryList;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.subCategoryList = this.subCategoryList.concat(subCategoryList);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tproductDetailsTo(id: any, activeID: any) {\r\n\t\t\tnavigateTo(\"../mall/productDetailsPage/productDetailsPage?id=\" + id + '&activeID=' + activeID);\r\n\t\t}\r\n\t}\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.page-body {\r\n\tdisplay: flex;\r\n}\r\n\r\n.nav {\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n}\r\n\r\n.nav-left {\r\n\twidth: 25%;\r\n\tborder-right: solid 1px #ededed;\r\n}\r\n\r\n.nav-left-item {\r\n\theight: 100upx;\r\n\tborder-bottom: solid 1px #ededed;\r\n\tfont-size: 30upx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tbackground-color: #f3f4f3;\r\n}\r\n\r\n.nav-right {\r\n\twidth: 75%;\r\n}\r\n\r\n.nav-right-item {\r\n\tdisplay: flex;\r\n\tjustify-content: flex-start;\r\n\talign-items: center;\r\n\theight: 220upx;\r\n\tfont-size: 28upx;\r\n\tborder-bottom: 2upx solid #f4f4f4;\r\n\tmargin-left: 20upx;\r\n\tpadding: 20upx 20upx 20upx 0;\r\n}\r\n\r\n.teng-item-images {\r\n\tposition: relative;\r\n}\r\n\r\n.nav-right-item-image {\r\n\twidth: 120upx;\r\n\theight: 120upx;\r\n\tborder-radius: 8upx;\r\n}\r\n\r\n.teng-order-show-status {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 80upx;\r\n\theight: 80upx;\r\n}\r\n\r\n.active {\r\n\tcolor: #fe7f00;\r\n\tbackground-color: #e4e4e4;\r\n}\r\n\r\n.teng-title {\r\n\tword-break: break-all;\r\n\tdisplay: -webkit-box;\r\n\toverflow: hidden;\r\n\tline-height: 1.5;\r\n\ttext-overflow: ellipsis;\r\n\t-webkit-box-orient: vertical;\r\n\t-webkit-line-clamp: 1;\r\n}\r\n\r\n.teng-content {\r\n\twidth: 100%;\r\n\tmargin-left: 20upx;\r\n}\r\n\r\n.teng-title {\r\n\tfont-size: 28upx;\r\n\tline-height: 1.6;\r\n\tcolor: #757575;\r\n}\r\n\r\n.teng-type {\r\n\tdisplay: flex;\r\n\tjustify-content: flex-start;\r\n\talign-items: center;\r\n\tmargin-top: 20upx;\r\n}\r\n\r\n.teng-type-text {\r\n\tfont-size: 24upx;\r\n\tline-height: 1.6;\r\n\ttext-align: center;\r\n\tmargin-right: 10upx;\r\n\tpadding: 0 10upx;\r\n\tcolor: #fe7f00;\r\n\tborder: 2upx solid #fe7f00;\r\n\tborder-radius: 100upx;\r\n}\r\n\r\n.teng-footer {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tmargin-top: 10upx;\r\n}\r\n\r\n.teng-pirce-text {\r\n\tfont-size: 24upx;\r\n\tcolor: #333;\r\n}\r\n\r\n.teng-price-number {\r\n\tfont-size: 32upx;\r\n\tcolor: #fe7f00;\r\n}\r\n\r\n.teng-btn {\r\n\tfont-size: 24upx;\r\n\tline-height: 2.4;\r\n\tcolor: #fff;\r\n\tbackground-color: #fe7f00;\r\n\tborder-radius: 100upx;\r\n\tmargin: 0;\r\n}\r\n</style>"]}]}