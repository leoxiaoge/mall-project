{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/components/i-search/i-search.vue?vue&type=style&index=0&id=5564ef4f&lang=scss&scoped=true&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/components/i-search/i-search.vue","mtime":1566412442367},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js","mtime":1554990705185},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/sass-loader/dist/cjs.js","mtime":1570451762458},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.search-input {\r\n\tdisplay: flex;\r\n\r\n\t&.btn-link-input {\r\n\t\t.input-wrap {\r\n\t\t\tborder-top-right-radius: 0 !important;\r\n\t\t\tborder-bottom-right-radius: 0 !important;\r\n\t\t\tborder-right: 0 !important;\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tborder-top-left-radius: 0 !important;\r\n\t\t\tborder-bottom-left-radius: 0 !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.icon {\r\n\t\tbox-sizing: border-box;\r\n\t\theight: inherit;\r\n\t\tpadding: 10upx;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tflex: 0 0 auto;\r\n\t\tmin-width: 60upx;\r\n\t\twidth: inherit;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-image: \"../../static/icon_search.png\";\r\n\t}\r\n\r\n\t.input-wrap {\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\r\n\t\t.placeholder-wrap {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: inherit;\r\n\t\t\tbackground: transparent;\r\n\r\n\t\t\t&.center {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tpadding-left: 0 !important;\r\n\t\t\t}\r\n\r\n\t\t\t&.left {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t.text {\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.basic {\r\n\t\t\tflex: 1;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tdisplay: flex;\r\n\t\t\theight: inherit;\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 2;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.icon-btn-wrap {\r\n\t\t\t\tflex: 0 0 auto;\r\n\t\t\t\theight: inherit;\r\n\t\t\t\tfont-size: $uni-font-size-base;\r\n\t\t\t\tcolor: $uni-text-color;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}\r\n\r\n\t\t\t.input {\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: calc(inherit-2upx);\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t\tborder: none;\r\n\t\t\t\toutline: none;\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.icon-search {\r\n\twidth: 20upx;\r\n\theight: 20upx;\r\n}\r\n\r\n.recond-btn {\r\n\tposition: fixed;\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\twidth: 80%;\r\n\tbottom: 60upx;\r\n\tcolor: #fff;\r\n\tfont-size: 32upx;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tborder-radius: 40upx;\r\n\ttext-align: center;\r\n\r\n\t&.disabled {\r\n\t\tbackground: rgba(67, 122, 249, 0.5);\r\n\t}\r\n}\r\n\r\n@keyframes animate {\r\n\t0% {\r\n\t\ttransform: scale(1, 0);\r\n\t}\r\n\r\n\t20% {\r\n\t\ttransform: scale(1, 0.5);\r\n\t}\r\n\r\n\t50% {\r\n\t\ttransform: scale(1, 1);\r\n\t}\r\n\r\n\t80% {\r\n\t\ttransform: scale(1, 0.5);\r\n\t}\r\n\r\n\t100% {\r\n\t\ttransform: scale(1, 0);\r\n\t}\r\n}\r\n\r\n.listen-wrap {\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\twidth: 300upx;\r\n\theight: 100upx;\r\n\ttransform: translate3d(-50%, -50%, 0);\r\n\t// background: rgba(67, 122, 249, 0.5);\r\n\tborder-radius: 50upx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tz-index: 99999;\r\n\r\n\t.text {\r\n\t\tfont-size: 28upx;\r\n\t\tmargin-right: 10upx;\r\n\t}\r\n\r\n\t.animate {\r\n\t\theight: 28upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\r\n\t\t.one {\r\n\t\t\tanimation: animate 0.6s infinite 0.1s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.1s;\r\n\t\t}\r\n\r\n\t\t.two {\r\n\t\t\tanimation: animate 0.6s infinite 0.2s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.2s;\r\n\t\t}\r\n\r\n\t\t.three {\r\n\t\t\tanimation: animate 0.6s infinite 0.3s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.3s;\r\n\t\t}\r\n\r\n\t\t.four {\r\n\t\t\tanimation: animate 0.6s infinite 0.4s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.4s;\r\n\t\t}\r\n\r\n\t\t.five {\r\n\t\t\tanimation: animate 0.6s infinite 0.5s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.5s;\r\n\t\t}\r\n\r\n\t\t.one,\r\n\t\t.two,\r\n\t\t.three,\r\n\t\t.four,\r\n\t\t.five {\r\n\t\t\twidth: 4upx;\r\n\t\t\theight: 100%;\r\n\t\t\tmargin-left: 6upx;\r\n\t\t\tborder-radius: 50upx;\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\t}\r\n}\r\n",{"version":3,"sources":["i-search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkhBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"i-search.vue","sourceRoot":"src/components/i-search","sourcesContent":["<template>\r\n\t<view :class=\"['search-input',btnLinkInput ? 'btn-link-input': '']\" :style=\"{height:getHeight}\">\r\n\t\t<view\r\n\t\t\tclass=\"input-wrap\"\r\n\t\t\t:style=\"{fontSize:getFontSize,backgroundColor:getBackgroundColor,border:getBorder,borderWidth:getBorderWidth,borderRadius:getBorderRadius}\"\r\n\t\t>\r\n\t\t\t<view\r\n\t\t\t\t:class=\"['placeholder-wrap',getPlaceholderPosition]\"\r\n\t\t\t\t:style=\"{paddingLeft:getPlaceholderPaddingLeft,color:getPlaceholderColor}\"\r\n\t\t\t\tv-if=\"!keyWord && getPlaceholderText && !entering\"\r\n\t\t\t>\r\n\t\t\t\t<image\r\n\t\t\t\t\tv-if=\"showPlaceholderIcon\"\r\n\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t:style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t\t:src=\"iconSrc.placeholder\"\r\n\t\t\t\t/>\r\n\t\t\t\t<text class=\"text\">{{getPlaceholderText}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"basic\" :style=\"{height:getHeight,borderRadius:getBorderRadius,color:getColor}\">\r\n\t\t\t\t<image\r\n\t\t\t\t\tv-if=\"showLogoIcon\"\r\n\t\t\t\t\tclass=\"icon icon-logo icon-search\"\r\n\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t:src=\"iconSrc.logo\"\r\n\t\t\t\t\t:style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t\t@click=\"search\"\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclass=\"input\"\r\n\t\t\t\t\tplaceholder=\"请输入需要搜索的商品名称！\"\r\n\t\t\t\t\t:style=\"{paddingLeft:getPaddingLeft}\"\r\n\t\t\t\t\t:type=\"type\"\r\n\t\t\t\t\t:password=\"password\"\r\n\t\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t\t:maxlength=\"maxLength\"\r\n\t\t\t\t\t:cursor-spacing=\"cursorSpacing\"\r\n\t\t\t\t\t:focus=\"focus\"\r\n\t\t\t\t\t:confirm-type=\"confirmType\"\r\n\t\t\t\t\t:confirm-hold=\"confirmHold\"\r\n\t\t\t\t\t:cursor=\"cursor\"\r\n\t\t\t\t\t:selection-start=\"selectionStart\"\r\n\t\t\t\t\t:selection-end=\"selectionEnd\"\r\n\t\t\t\t\t:adjust-position=\"adjustPosition\"\r\n\t\t\t\t\tv-model=\"keyWord\"\r\n\t\t\t\t\t@focus=\"inputFocus\"\r\n\t\t\t\t\t@blur=\"blur\"\r\n\t\t\t\t\t@input=\"input\"\r\n\t\t\t\t\t@confirm=\"confirm\"\r\n\t\t\t\t/>\r\n\t\t\t\t<view class=\"icon-btn-wrap\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t\t\tv-if=\"showVoiceIcon\"\r\n\t\t\t\t\t\t@click=\"voice\"\r\n\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t:src=\"iconSrc.voice\"\r\n\t\t\t\t\t\t:style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t\t\tv-if=\"showScanIcon\"\r\n\t\t\t\t\t\t@click=\"scan\"\r\n\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t:src=\"iconSrc.scan\"\r\n\t\t\t\t\t\t:style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t\t\tv-if=\"showClearIcon\"\r\n\t\t\t\t\t\t@click=\"clear\"\r\n\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t:src=\"iconSrc.clear\"\r\n\t\t\t\t\t\t:style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t\t\tv-if=\"showSearchIcon\"\r\n\t\t\t\t\t\t@click=\"search\"\r\n\t\t\t\t\t\tmode=\"aspectFit\"\r\n\t\t\t\t\t\t:src=\"iconSrc.search\"\r\n\t\t\t\t\t\t:style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<slot name=\"icon\"></slot>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view\r\n\t\t\tclass=\"btn\"\r\n\t\t\tv-if=\"getBtnEnable\"\r\n\t\t\t:style=\"{color:getBtnColor,backgroundColor:getBtnBackgroundColor,borderRadius:getBtnBorderRadius,fontSize:getBtnFontSize,border:getBtnBorder,borderWidth:getBtnBorderWidth,lineHeight:getHeight,paddingLeft:getBtnPaddingLeft,paddingRight:getBtnPaddingRight, backgroundImage:getBtnBackgroundImage, bacbackgroundPosition:getBtnBackgroundPosition,backgroundSize:getBtnbackgroundSize}\"\r\n\t\t\t@click=\"btnClick\"\r\n\t\t>{{getBtnText}}</view>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<view class=\"voice-module\" v-if=\"openVoice\">\r\n\t\t\t<cover-view\r\n\t\t\t\t:class=\"['recond-btn',recording ? 'disabled': '']\"\r\n\t\t\t\t:style=\"{backgroundColor: recording ? getVoiceAttrBtnBackgroundActiveColor : getVoiceAttrBtnBackgroundColor,color:recording ? getVoiceAttrBtnActiveColor : getVoiceAttrBtnColor}\"\r\n\t\t\t\t@touchstart=\"startHandel\"\r\n\t\t\t\t@touchend=\"endHandle()\"\r\n\t\t\t\t@touchcancel=\"endHandle()\"\r\n\t\t\t>{{recording ? getVoiceAttrActiveText : getVoiceAttrText}}</cover-view>\r\n\t\t\t<view\r\n\t\t\t\tclass=\"listen-wrap\"\r\n\t\t\t\tv-if=\"recording\"\r\n\t\t\t\t:style=\"{backgroundColor: getVoiceAttrListenBackgroundColor}\"\r\n\t\t\t>\r\n\t\t\t\t<text class=\"text\" :style=\"{color:getVoiceAttrListenColor}\">正在聆听</text>\r\n\t\t\t\t<view class=\"animate\">\r\n\t\t\t\t\t<text class=\"one\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"two\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"three\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"four\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"five\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tkeyWord: \"\",\r\n\t\t\tentering: false, // 判断是处于输入状态\r\n\t\t\topenVoice: false, // 打开语音功能\r\n\t\t\tmanager: null,\r\n\t\t\trecording: false, // 正在录音\r\n\t\t\trecordStatus: 0 // 状态： 0 - 录音中 1- 翻译中 2 - 翻译完成/二次翻译\r\n\t\t};\r\n\t},\r\n\tprops: {\r\n\t\tbtnLinkInput: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false //控制有btn时，按钮与input框是否相连\r\n\t\t},\r\n\t\tinputAttr: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: function() {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\tbtnAttr: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: function() {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\tvoiceAttr: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: function() {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\ticonAttr: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: function() {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\ticonSrc: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: function() {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t},\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"text\"\r\n\t\t},\r\n\t\tpassword: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tmaxLength: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: -1\r\n\t\t},\r\n\t\tcursorSpacing: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tfocus: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tconfirmType: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"搜索\"\r\n\t\t},\r\n\t\tconfirmHold: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tcursor: {\r\n\t\t\ttype: Number\r\n\t\t},\r\n\t\tselectionStart: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: -1\r\n\t\t},\r\n\t\tselectionEnd: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: -1\r\n\t\t},\r\n\t\tadjustPosition: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tshowVoiceIcon(val) {\r\n\t\t\tif (!val) {\r\n\t\t\t\tthis.openVoice = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tkeyWord(val) {\r\n\t\t\tif (val.length === 0) {\r\n\t\t\t\tthis.entering = false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tshowPlaceholderIcon() {\r\n\t\t\treturn this.getPlaceholderText && this.watchToolIcon(\"placeholder\");\r\n\t\t},\r\n\t\tshowLogoIcon() {\r\n\t\t\treturn this.watchToolIcon(\"logo\");\r\n\t\t},\r\n\t\tshowVoiceIcon() {\r\n\t\t\treturn this.watchToolIcon(\"voice\") && !this.keyWord;\r\n\t\t},\r\n\t\tshowScanIcon() {\r\n\t\t\treturn this.watchToolIcon(\"scan\") && !this.entering && !this.keyWord;\r\n\t\t},\r\n\t\tshowClearIcon() {\r\n\t\t\treturn this.watchToolIcon(\"clear\") && this.keyWord;\r\n\t\t},\r\n\t\tshowSearchIcon() {\r\n\t\t\treturn this.watchToolIcon(\"search\") && this.keyWord;\r\n\t\t},\r\n\t\tgetFontSize() {\r\n\t\t\treturn uni.upx2px(this.inputAttr.fontSize || 28) + \"px\";\r\n\t\t},\r\n\t\tgetHeight() {\r\n\t\t\treturn (\r\n\t\t\t\tuni.upx2px(\r\n\t\t\t\t\tthis.inputAttr.height && this.inputAttr.height > 70\r\n\t\t\t\t\t\t? this.inputAttr.height\r\n\t\t\t\t\t\t: 70\r\n\t\t\t\t) + \"px\"\r\n\t\t\t);\r\n\t\t},\r\n\t\tgetBorder() {\r\n\t\t\treturn this.inputAttr.border || \"1px solid #c8c7cc\";\r\n\t\t},\r\n\t\tgetBorderWidth() {\r\n\t\t\treturn uni.upx2px(this.inputAttr.borderWidth || 1) + \"px\";\r\n\t\t},\r\n\t\tgetBorderRadius() {\r\n\t\t\treturn uni.upx2px(this.inputAttr.borderRadius || 100) + \"px\";\r\n\t\t},\r\n\t\tgetColor() {\r\n\t\t\treturn this.inputAttr.color || \"#333\";\r\n\t\t},\r\n\t\tgetBackgroundColor() {\r\n\t\t\treturn this.inputAttr.backgroundColor || \"#ffffff\";\r\n\t\t},\r\n\t\tgetPlaceholderPosition() {\r\n\t\t\treturn this.inputAttr.placeholderPosition || \"left\";\r\n\t\t},\r\n\t\tgetPlaceholderColor() {\r\n\t\t\treturn this.inputAttr.placeholderColor || \"#808080\";\r\n\t\t},\r\n\t\tgetPlaceholderText() {\r\n\t\t\treturn this.inputAttr.placeholderText || \" \";\r\n\t\t},\r\n\t\tgetPlaceholderPaddingLeft() {\r\n\t\t\tif (this.showLogoIcon && this.getPlaceholderPosition === \"left\") {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tuni.upx2px(\r\n\t\t\t\t\t\t(this.iconAttr.width\r\n\t\t\t\t\t\t\t? this.iconAttr.width\r\n\t\t\t\t\t\t\t: this.inputAttr.height || 70) + (this.inputAttr.paddingLeft || 0)\r\n\t\t\t\t\t) + \"px\"\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.paddingLeft || 20) + \"px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetPaddingLeft() {\r\n\t\t\tif (this.showLogoIcon) {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.paddingLeft || 0) + \"px\";\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\tuni.upx2px(\r\n\t\t\t\t\t\tthis.inputAttr.paddingLeft && this.inputAttr.paddingLeft > 20\r\n\t\t\t\t\t\t\t? this.inputAttr.paddingLeft\r\n\t\t\t\t\t\t\t: 20\r\n\t\t\t\t\t) + \"px\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetIconWidth() {\r\n\t\t\treturn this.iconAttr.width\r\n\t\t\t\t? uni.upx2px(this.iconAttr.width) + \"px\"\r\n\t\t\t\t: this.getHeight;\r\n\t\t},\r\n\t\tgetIconHeight() {\r\n\t\t\treturn this.iconAttr.height\r\n\t\t\t\t? uni.upx2px(this.iconAttr.height) + \"px\"\r\n\t\t\t\t: this.getHeight;\r\n\t\t},\r\n\t\tgetIconPadding() {\r\n\t\t\treturn uni.upx2px(this.iconAttr.padding) + \"px\";\r\n\t\t},\r\n\r\n\t\tgetBtnEnable() {\r\n\t\t\treturn this.btnAttr.enable || false;\r\n\t\t},\r\n\t\tgetBtnText() {\r\n\t\t\treturn this.btnAttr.text || \"\";\r\n\t\t},\r\n\t\tgetBtnBackgroundColor() {\r\n\t\t\treturn this.btnAttr.backgroundColor || \"#ffffff\";\r\n\t\t},\r\n\t\tgetBtnColor() {\r\n\t\t\treturn this.btnAttr.color || \"#333\";\r\n\t\t},\r\n\t\tgetBtnBorder() {\r\n\t\t\treturn this.btnAttr.border || \"none\";\r\n\t\t},\r\n\t\tgetBtnBackgroundImage() {\r\n\t\t\treturn \"url(\" + this.btnAttr.backgroundImage + \")\";\r\n\t\t},\r\n\t\tgetBtnBackgroundPosition() {\r\n\t\t\treturn this.btnAttr.backgroundPosition || \"center center\";\r\n\t\t},\r\n\t\tgetBtnbackgroundSize() {\r\n\t\t\treturn this.btnAttr.backgroundSize || \"contain\";\r\n\t\t},\r\n\t\tgetBtnBorderRadius() {\r\n\t\t\treturn uni.upx2px(this.btnAttr.borderRadius || 30) + \"px\";\r\n\t\t},\r\n\t\tgetBtnFontSize() {\r\n\t\t\treturn uni.upx2px(this.btnAttr.fontSize || 28) + \"px\";\r\n\t\t},\r\n\t\tgetBtnPaddingLeft() {\r\n\t\t\treturn uni.upx2px(this.btnAttr.paddingLeft || 10) + \"px\";\r\n\t\t},\r\n\t\tgetBtnPaddingRight() {\r\n\t\t\treturn uni.upx2px(this.btnAttr.paddingRight || 0) + \"px\";\r\n\t\t},\r\n\t\tgetBtnBorderWidth() {\r\n\t\t\treturn uni.upx2px(this.btnAttr.borderWidth || 1) + \"px\";\r\n\t\t},\r\n\r\n\t\tgetVoiceAttrBtnColor() {\r\n\t\t\treturn this.voiceAttr.btnColor || \"#fff\";\r\n\t\t},\r\n\t\tgetVoiceAttrBtnActiveColor() {\r\n\t\t\treturn this.voiceAttr.btnActiveColor || \"#fff\";\r\n\t\t},\r\n\t\tgetVoiceAttrListenColor() {\r\n\t\t\treturn this.voiceAttr.listenColor || \"#fff\";\r\n\t\t},\r\n\t\tgetVoiceAttrBtnBackgroundColor() {\r\n\t\t\treturn this.voiceAttr.BtnBackgroundColor || \"#c8c7cc\";\r\n\t\t},\r\n\t\tgetVoiceAttrBtnBackgroundActiveColor() {\r\n\t\t\treturn this.voiceAttr.BtnBackgroundActiveColor || \"#fe7f00\";\r\n\t\t},\r\n\t\tgetVoiceAttrListenBackgroundColor() {\r\n\t\t\treturn this.voiceAttr.listenBackgroundColor || \"#fe7f00\";\r\n\t\t},\r\n\t\tgetVoiceAttrText() {\r\n\t\t\treturn this.voiceAttr.text || \"按住 说活\";\r\n\t\t},\r\n\t\tgetVoiceAttrActiveText() {\r\n\t\t\treturn this.voiceAttr.activeText || \"松开 结束\";\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\twatchToolIcon(icon) {\r\n\t\t\tlet flag = false;\r\n\t\t\tfor (let key of Object.keys(this.iconSrc)) {\r\n\t\t\t\tif (icon === key && this.iconSrc[key]) {\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn flag;\r\n\t\t},\r\n\t\tinputFocus() {\r\n\t\t\tthis.$emit(\"focus\");\r\n\t\t},\r\n\t\tblur() {\r\n\t\t\tif (!this.keyWord && this.watchToolIcon(\"scan\")) {\r\n\t\t\t\tthis.entering = false;\r\n\t\t\t}\r\n\t\t\tthis.$emit(\"blur\", this.keyWord);\r\n\t\t},\r\n\t\tinput() {\r\n\t\t\tthis.entering = true;\r\n\t\t\tthis.$emit(\"input\", this.keyWord);\r\n\t\t},\r\n\t\tconfirm() {\r\n\t\t\tthis.$emit(\"confirm\");\r\n\t\t},\r\n\t\tclear() {\r\n\t\t\tthis.keyWord = \"\";\r\n\t\t\tthis.$emit(\"clear\");\r\n\t\t},\r\n\r\n\t\tscan() {\r\n\t\t\t// 扫码\r\n\t\t\tuni.scanCode({\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthis.$emit(\"scan\", res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tsearch() {\r\n\t\t\t// 搜索\r\n\t\t\tthis.$emit(\"search\", this.keyWord);\r\n\t\t},\r\n\r\n\t\tbtnClick() {\r\n\t\t\t// 按钮点击事件\r\n\t\t\tthis.$emit(\"btnClick\", this.btnAttr.text);\r\n\t\t},\r\n\t\tvoice() {\r\n\t\t\tthis.openVoice = true;\r\n\t\t},\r\n\t\tstartHandel() {\r\n\t\t\tconsole.log(\"按下录音按钮\");\r\n\t\t\tthis.manager.start({\r\n\t\t\t\tlang: \"zh_CN\"\r\n\t\t\t});\r\n\t\t\tuni.vibrateShort({\r\n\t\t\t\tsuccess: () => {\r\n\t\t\t\t\tthis.recordStatus = 0;\r\n\t\t\t\t\tthis.recording = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tendHandle() {\r\n\t\t\t// 防止重复触发stop函数\r\n\t\t\tif (!this.recording || this.recordStatus !== 0) {\r\n\t\t\t\tconsole.warn(\"has finished!\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconsole.log(\"松开了按钮\");\r\n\t\t\tthis.manager.stop();\r\n\t\t\t// this.listenManagerStop()\r\n\t\t},\r\n\t\tlistenRecordLnit() {\r\n\t\t\tthis.listenManagerStart();\r\n\t\t\tthis.listenManagerStop();\r\n\t\t\tthis.listenManagerRecognize();\r\n\t\t\tthis.listenManagerError();\r\n\t\t},\r\n\t\tlistenManagerStart() {\r\n\t\t\tthis.manager.onStart = res => {\r\n\t\t\t\tconsole.log(\"开始录音\", res);\r\n\t\t\t};\r\n\t\t},\r\n\t\tlistenManagerRecognize() {\r\n\t\t\tthis.manager.onRecognize = res => {\r\n\t\t\t\tconsole.log(\"识别了新内容\", res);\r\n\t\t\t};\r\n\t\t},\r\n\t\tlistenManagerError() {\r\n\t\t\tthis.manager.onError = res => {\r\n\t\t\t\tconsole.log(\"识别错误事件\", res);\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t};\r\n\t\t},\r\n\t\tlistenManagerStop() {\r\n\t\t\t// 识别结束事件\r\n\t\t\tthis.manager.onStop = res => {\r\n\t\t\t\tconsole.log(\"识别结束事件\", res);\r\n\t\t\t\tlet text = res.result;\r\n\t\t\t\tif (text === \"\") {\r\n\t\t\t\t\tthis.showRecordEmptyTip();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.recordStatus = 0;\r\n\t\t\t\tthis.keyWord = res.result.substr(0, res.result.length - 1);\r\n\t\t\t\tthis.recording = false;\r\n\t\t\t\tif (this.keyWord) {\r\n\t\t\t\t\tthis.$emit(\"manager\", this.keyWord);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tshowRecordEmptyTip() {\r\n\t\t\tthis.recording = false;\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: \"什么也没听到\",\r\n\t\t\t\ticon: \"none\",\r\n\t\t\t\tduration: 1000\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t// #ifdef  MP-WEIXIN\r\n\tonReady() {\r\n\t\tif (this.iconSrc.voice) {\r\n\t\t\tconst plugin = requirePlugin(\"WechatSI\");\r\n\t\t\tuni.authorize({\r\n\t\t\t\tscope: \"scope.record\",\r\n\t\t\t\tsuccess: () => {\r\n\t\t\t\t\tthis.manager = plugin.getRecordRecognitionManager();\r\n\t\t\t\t\tthis.listenRecordLnit();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t// #endif\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped scoped>\r\n.search-input {\r\n\tdisplay: flex;\r\n\r\n\t&.btn-link-input {\r\n\t\t.input-wrap {\r\n\t\t\tborder-top-right-radius: 0 !important;\r\n\t\t\tborder-bottom-right-radius: 0 !important;\r\n\t\t\tborder-right: 0 !important;\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tborder-top-left-radius: 0 !important;\r\n\t\t\tborder-bottom-left-radius: 0 !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.icon {\r\n\t\tbox-sizing: border-box;\r\n\t\theight: inherit;\r\n\t\tpadding: 10upx;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tflex: 0 0 auto;\r\n\t\tmin-width: 60upx;\r\n\t\twidth: inherit;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-image: \"../../static/icon_search.png\";\r\n\t}\r\n\r\n\t.input-wrap {\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\r\n\t\t.placeholder-wrap {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: inherit;\r\n\t\t\tbackground: transparent;\r\n\r\n\t\t\t&.center {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tpadding-left: 0 !important;\r\n\t\t\t}\r\n\r\n\t\t\t&.left {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t.text {\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.basic {\r\n\t\t\tflex: 1;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tdisplay: flex;\r\n\t\t\theight: inherit;\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: relative;\r\n\t\t\tz-index: 2;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.icon-btn-wrap {\r\n\t\t\t\tflex: 0 0 auto;\r\n\t\t\t\theight: inherit;\r\n\t\t\t\tfont-size: $uni-font-size-base;\r\n\t\t\t\tcolor: $uni-text-color;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t}\r\n\r\n\t\t\t.input {\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: calc(inherit-2upx);\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t\tborder: none;\r\n\t\t\t\toutline: none;\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.icon-search {\r\n\twidth: 20upx;\r\n\theight: 20upx;\r\n}\r\n\r\n.recond-btn {\r\n\tposition: fixed;\r\n\theight: 80upx;\r\n\tline-height: 80upx;\r\n\twidth: 80%;\r\n\tbottom: 60upx;\r\n\tcolor: #fff;\r\n\tfont-size: 32upx;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tborder-radius: 40upx;\r\n\ttext-align: center;\r\n\r\n\t&.disabled {\r\n\t\tbackground: rgba(67, 122, 249, 0.5);\r\n\t}\r\n}\r\n\r\n@keyframes animate {\r\n\t0% {\r\n\t\ttransform: scale(1, 0);\r\n\t}\r\n\r\n\t20% {\r\n\t\ttransform: scale(1, 0.5);\r\n\t}\r\n\r\n\t50% {\r\n\t\ttransform: scale(1, 1);\r\n\t}\r\n\r\n\t80% {\r\n\t\ttransform: scale(1, 0.5);\r\n\t}\r\n\r\n\t100% {\r\n\t\ttransform: scale(1, 0);\r\n\t}\r\n}\r\n\r\n.listen-wrap {\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\twidth: 300upx;\r\n\theight: 100upx;\r\n\ttransform: translate3d(-50%, -50%, 0);\r\n\t// background: rgba(67, 122, 249, 0.5);\r\n\tborder-radius: 50upx;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tz-index: 99999;\r\n\r\n\t.text {\r\n\t\tfont-size: 28upx;\r\n\t\tmargin-right: 10upx;\r\n\t}\r\n\r\n\t.animate {\r\n\t\theight: 28upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\r\n\t\t.one {\r\n\t\t\tanimation: animate 0.6s infinite 0.1s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.1s;\r\n\t\t}\r\n\r\n\t\t.two {\r\n\t\t\tanimation: animate 0.6s infinite 0.2s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.2s;\r\n\t\t}\r\n\r\n\t\t.three {\r\n\t\t\tanimation: animate 0.6s infinite 0.3s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.3s;\r\n\t\t}\r\n\r\n\t\t.four {\r\n\t\t\tanimation: animate 0.6s infinite 0.4s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.4s;\r\n\t\t}\r\n\r\n\t\t.five {\r\n\t\t\tanimation: animate 0.6s infinite 0.5s;\r\n\t\t\t-webkit-animation: animate 0.6s infinite 0.5s;\r\n\t\t}\r\n\r\n\t\t.one,\r\n\t\t.two,\r\n\t\t.three,\r\n\t\t.four,\r\n\t\t.five {\r\n\t\t\twidth: 4upx;\r\n\t\t\theight: 100%;\r\n\t\t\tmargin-left: 6upx;\r\n\t\t\tborder-radius: 50upx;\r\n\t\t\tdisplay: inline-block;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n"]}]}