{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/components/search/search.vue?vue&type=style&index=0&id=9e72dbae&lang=scss&scoped=true&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/components/search/search.vue","mtime":1564865063264},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js","mtime":1554990705185},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/sass-loader/lib/loader.js","mtime":1555144450194},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search-input {\n\tdisplay: flex;\n\n\t&.btn-link-input {\n\t\t.input-wrap {\n\t\t\tborder-top-right-radius: 0 !important;\n\t\t\tborder-bottom-right-radius: 0 !important;\n\t\t\tborder-right: 0 !important;\n\t\t}\n\n\t\t.btn {\n\t\t\tborder-top-left-radius: 0 !important;\n\t\t\tborder-bottom-left-radius: 0 !important;\n\t\t}\n\t}\n\n\t.icon {\n\t\tbox-sizing: border-box;\n\t\theight: inherit;\n\t\tpadding: 10upx;\n\t}\n\n\t.btn {\n\t\tflex: 0 0 auto;\n\t\tmin-width: 60upx;\n\t\twidth: inherit;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-image: '../../static/icon_search.png';\n\t}\n\n\n\t.input-wrap {\n\t\tflex: 1;\n\t\tposition: relative;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\n\t\t.placeholder-wrap {\n\t\t\tbox-sizing: border-box;\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tbottom: 0;\n\t\t\twidth: 100%;\n\t\t\theight: inherit;\n\t\t\tbackground: transparent;\n\n\t\t\t&.center {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpadding-left: 0 !important;\n\t\t\t}\n\n\t\t\t&.left {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.text {\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\n\t\t.basic {\n\t\t\tflex: 1;\n\t\t\tbox-sizing: border-box;\n\t\t\tdisplay: flex;\n\t\t\theight: inherit;\n\t\t\twidth: 100%;\n\t\t\tposition: relative;\n\t\t\tz-index: 2;\n\t\t\talign-items: center;\n\n\t\t\t.icon-btn-wrap {\n\t\t\t\tflex: 0 0 auto;\n\t\t\t\theight: inherit;\n\t\t\t\tfont-size: $uni-font-size-base;\n\t\t\t\tcolor: $uni-text-color;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t}\n\n\t\t\t.input {\n\t\t\t\tfont-size: 28upx;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tflex: 1;\n\t\t\t\theight: calc(inherit-2upx);\n\t\t\t\ttext-align: left;\n\t\t\t\tcolor: inherit;\n\t\t\t\tborder: none;\n\t\t\t\toutline: none;\n\t\t\t\tbackground:transparent;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.recond-btn {\n\tposition: fixed;\n\theight: 80upx;\n\tline-height: 80upx;\n\twidth: 80%;\n\tbottom: 60upx;\n\tcolor: #fff;\n\tfont-size: 32upx;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tborder-radius: 40upx;\n\ttext-align: center;\n\n\t&.disabled {\n\t\tbackground: rgba(67, 122, 249, 0.5);\n\t}\n}\n\n\n@keyframes animate {\n\t0% {\n\t\ttransform: scale(1, 0)\n\t}\n\n\t20% {\n\t\ttransform: scale(1, 0.5)\n\t}\n\n\t50% {\n\t\ttransform: scale(1, 1)\n\t}\n\n\t80% {\n\t\ttransform: scale(1, 0.5)\n\t}\n\n\t100% {\n\t\ttransform: scale(1, 0)\n\t}\n}\n\n.listen-wrap {\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 300upx;\n\theight: 100upx;\n\ttransform: translate3d(-50%, -50%, 0);\n\t// background: rgba(67, 122, 249, 0.5);\n\tborder-radius: 50upx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 99999;\n\n\t.text {\n\t\tfont-size: 28upx;\n\t\tmargin-right: 10upx;\n\t}\n\n\t.animate {\n\t\theight: 28upx;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\n\t\t.one {\n\t\t\tanimation: animate 0.6s infinite 0.1s;\n\t\t\t-webkit-animation: animate 0.6s infinite 0.1s;\n\t\t}\n\n\t\t.two {\n\t\t\tanimation: animate 0.6s infinite 0.2s;\n\t\t\t-webkit-animation: animate 0.6s infinite 0.2s;\n\t\t}\n\n\t\t.three {\n\t\t\tanimation: animate 0.6s infinite 0.3s;\n\t\t\t-webkit-animation: animate 0.6s infinite 0.3s;\n\t\t}\n\n\t\t.four {\n\t\t\tanimation: animate 0.6s infinite 0.4s;\n\t\t\t-webkit-animation: animate 0.6s infinite 0.4s;\n\t\t}\n\n\t\t.five {\n\t\t\tanimation: animate 0.6s infinite 0.5s;\n\t\t\t-webkit-animation: animate 0.6s infinite 0.5s;\n\t\t}\n\n\t\t.one,\n\t\t.two,\n\t\t.three,\n\t\t.four,\n\t\t.five {\n\t\t\twidth: 4upx;\n\t\t\theight: 100%;\n\t\t\tmargin-left: 6upx;\n\t\t\tborder-radius: 50upx;\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n}\n",{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsbA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/components/search","sourcesContent":["<template>\r\n\t<view :class=\"['search-input',btnLinkInput ? 'btn-link-input': '']\" :style=\"{height:getHeight}\">\r\n\t\t<view class=\"input-wrap\" :style=\"{fontSize:getFontSize,backgroundColor:getBackgroundColor,border:getBorder,borderWidth:getBorderWidth,borderRadius:getBorderRadius}\">\r\n\t\t\t<view :class=\"['placeholder-wrap',getPlaceholderPosition]\" :style=\"{paddingLeft:getPlaceholderPaddingLeft,color:getPlaceholderColor}\"\r\n\t\t\t v-if=\"!keyWord && getPlaceholderText && !entering\">\r\n\t\t\t\t<image v-if=\"showPlaceholderIcon\" class=\"icon\" mode=\"aspectFit\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t :src=\"iconSrc.placeholder\"></image>\r\n\t\t\t\t<text class=\"text\">{{getPlaceholderText}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"basic\" :style=\"{height:getHeight,borderRadius:getBorderRadius,color:getColor}\">\r\n\t\t\t\t<image v-if=\"showLogoIcon\" class=\"icon icon-logo\" mode=\"aspectFit\" :src=\"iconSrc.logo\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t<input class=\"input\" placeholder=\"请输入需要搜索的商品名称！\" :style={paddingLeft:getPaddingLeft} :type=\"type\" :password=\"password\" :disabled=\"disabled\"\r\n\t\t\t\t :maxlength=\"maxLength\" :cursor-spacing=\"cursorSpacing\" :focus=\"focus\" :confirm-type=\"confirmType\" :confirm-hold=\"confirmHold\"\r\n\t\t\t\t :cursor=\"cursor\" :selection-start=\"selectionStart\" :selection-end=\"selectionEnd\" :adjust-position=\"adjustPosition\"\r\n\t\t\t\t v-model=\"keyWord\" @focus=\"inputFocus\" @blur=\"blur\" @input=\"input\" @confirm=\"confirm\" />\r\n\t\t\t\t<view class=\"icon-btn-wrap\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showVoiceIcon\" @click=\"voice\" mode=\"aspectFit\" :src=\"iconSrc.voice\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showScanIcon\" @click=\"scan\" mode=\"aspectFit\" :src=\"iconSrc.scan\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showClearIcon\" @click=\"clear\" mode=\"aspectFit\" :src=\"iconSrc.clear\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showSearchIcon\" @click=\"search\" mode=\"aspectFit\" :src=\"iconSrc.search\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<slot name=\"icon\"></slot>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn\" v-if=\"getBtnEnable\" :style=\"{color:getBtnColor,backgroundColor:getBtnBackgroundColor,borderRadius:getBtnBorderRadius,fontSize:getBtnFontSize,border:getBtnBorder,borderWidth:getBtnBorderWidth,lineHeight:getHeight,paddingLeft:getBtnPaddingLeft,paddingRight:getBtnPaddingRight, backgroundImage:getBtnBackgroundImage, bacbackgroundPosition:getBtnBackgroundPosition,backgroundSize:getBtnbackgroundSize}\"\r\n\t\t @click=\"btnClick\">\r\n\t\t\t{{getBtnText}}\r\n\t\t</view>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<view class=\"voice-module\" v-if=\"openVoice\">\r\n\t\t\t<cover-view :class=\"['recond-btn',recording ? 'disabled': '']\" :style=\"{backgroundColor: recording ? getVoiceAttrBtnBackgroundActiveColor : getVoiceAttrBtnBackgroundColor,color:recording ? getVoiceAttrBtnActiveColor : getVoiceAttrBtnColor}\"\r\n\t\t\t @touchstart=\"startHandel\" @touchend=\"endHandle()\" @touchcancel=\"endHandle()\">{{recording ? getVoiceAttrActiveText : getVoiceAttrText}}</cover-view>\r\n\t\t\t<view class=\"listen-wrap\" v-if=\"recording\" :style=\"{backgroundColor: getVoiceAttrListenBackgroundColor}\">\r\n\t\t\t\t<text class=\"text\" :style=\"{color:getVoiceAttrListenColor}\">正在聆听</text>\r\n\t\t\t\t<view class=\"animate\">\r\n\t\t\t\t\t<text class=\"one\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"two\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"three\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"four\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"five\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tkeyWord: '',\r\n\t\t\t\tentering: false, // 判断是处于输入状态\r\n\t\t\t\topenVoice: false, // 打开语音功能\r\n\t\t\t\tmanager: null,\r\n\t\t\t\trecording: false, // 正在录音\r\n\t\t\t\trecordStatus: 0, // 状态： 0 - 录音中 1- 翻译中 2 - 翻译完成/二次翻译\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tbtnLinkInput: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false //控制有btn时，按钮与input框是否相连\r\n\t\t\t},\r\n\t\t\tinputAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbtnAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault:function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvoiceAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ticonAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ticonSrc: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'text'\r\n\t\t\t},\r\n\t\t\tpassword: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmaxLength: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tcursorSpacing: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tfocus: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tconfirmType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '搜索'\r\n\t\t\t},\r\n\t\t\tconfirmHold: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcursor: {\r\n\t\t\t\ttype: Number\r\n\t\t\t},\r\n\t\t\tselectionStart: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tselectionEnd: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tadjustPosition: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tshowVoiceIcon(val) {\r\n\t\t\t\tif (!val) {\r\n\t\t\t\t\tthis.openVoice = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tkeyWord(val) {\r\n\t\t\t\tif (val.length===0) {\r\n\t\t\t\t\tthis.entering = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tshowPlaceholderIcon() {\r\n\t\t\t\treturn this.getPlaceholderText && this.watchToolIcon('placeholder')\r\n\t\t\t},\r\n\t\t\tshowLogoIcon() {\r\n\t\t\t\treturn this.watchToolIcon('logo')\r\n\t\t\t},\r\n\t\t\tshowVoiceIcon() {\r\n\t\t\t\treturn this.watchToolIcon('voice') && !this.keyWord\r\n\t\t\t},\r\n\t\t\tshowScanIcon() {\r\n\t\t\t\treturn this.watchToolIcon('scan') && !this.entering && !this.keyWord\r\n\t\t\t},\r\n\t\t\tshowClearIcon() {\r\n\t\t\t\treturn this.watchToolIcon('clear') && this.keyWord\r\n\t\t\t},\r\n\t\t\tshowSearchIcon() {\r\n\t\t\t\treturn this.watchToolIcon('search') && this.keyWord\r\n\t\t\t},\r\n\t\t\tgetFontSize() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.fontSize || 28) + 'px'\r\n\t\t\t},\r\n\t\t\tgetHeight() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.height && this.inputAttr.height > 70 ? this.inputAttr.height : 70) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBorder() {\r\n\t\t\t\treturn this.inputAttr.border || '1px solid #c8c7cc'\r\n\t\t\t},\r\n\t\t\tgetBorderWidth() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.borderWidth || 1) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBorderRadius() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.borderRadius || 100) + 'px'\r\n\t\t\t},\r\n\t\t\tgetColor() {\r\n\t\t\t\treturn this.inputAttr.color || '#333'\r\n\t\t\t},\r\n\t\t\tgetBackgroundColor() {\r\n\t\t\t\treturn this.inputAttr.backgroundColor || '#ffffff'\r\n\t\t\t},\r\n\t\t\tgetPlaceholderPosition() {\r\n\t\t\t\treturn this.inputAttr.placeholderPosition || 'left'\r\n\t\t\t},\r\n\t\t\tgetPlaceholderColor() {\r\n\t\t\t\treturn this.inputAttr.placeholderColor || '#808080'\r\n\t\t\t},\r\n\t\t\tgetPlaceholderText() {\r\n\t\t\t\treturn this.inputAttr.placeholderText || ' '\r\n\t\t\t},\r\n\t\t\tgetPlaceholderPaddingLeft() {\r\n\t\t\t\tif (this.showLogoIcon && this.getPlaceholderPosition === 'left') {\r\n\t\t\t\t\treturn uni.upx2px((this.iconAttr.width ? this.iconAttr.width : (this.inputAttr.height || 70)) + (this.inputAttr.paddingLeft ||\r\n\t\t\t\t\t\t\t0)) +\r\n\t\t\t\t\t\t'px'\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn uni.upx2px(this.inputAttr.paddingLeft || 20) + 'px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetPaddingLeft() {\r\n\t\t\t\tif (this.showLogoIcon) {\r\n\t\t\t\t\treturn uni.upx2px(this.inputAttr.paddingLeft || 0) + 'px'\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn uni.upx2px((this.inputAttr.paddingLeft && this.inputAttr.paddingLeft > 20) ? this.inputAttr.paddingLeft :\r\n\t\t\t\t\t\t20) + 'px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetIconWidth() {\r\n\t\t\t\treturn this.iconAttr.width ? uni.upx2px(this.iconAttr.width) + 'px' : this.getHeight\r\n\t\t\t},\r\n\t\t\tgetIconHeight() {\r\n\t\t\t\treturn this.iconAttr.height ? uni.upx2px(this.iconAttr.height) + 'px' : this.getHeight\r\n\t\t\t},\r\n\t\t\tgetIconPadding() {\r\n\t\t\t\treturn uni.upx2px(this.iconAttr.padding) + 'px'\r\n\t\t\t},\r\n\r\n\t\t\tgetBtnEnable() {\r\n\t\t\t\treturn this.btnAttr.enable || false\r\n\t\t\t},\r\n\t\t\tgetBtnText() {\r\n\t\t\t\treturn this.btnAttr.text || ''\r\n\t\t\t},\r\n\t\t\tgetBtnBackgroundColor() {\r\n\t\t\t\treturn this.btnAttr.backgroundColor || '#ffffff'\r\n\t\t\t},\r\n\t\t\tgetBtnColor() {\r\n\t\t\t\treturn this.btnAttr.color || '#333'\r\n\t\t\t},\r\n\t\t\tgetBtnBorder() {\r\n\t\t\t\treturn this.btnAttr.border || 'none'\r\n\t\t\t},\r\n\t\t\tgetBtnBackgroundImage() {\r\n\t\t\t\treturn 'url(' + this.btnAttr.backgroundImage + ')'\r\n\t\t\t},\r\n\t\t\tgetBtnBackgroundPosition() {\r\n\t\t\t\treturn this.btnAttr.backgroundPosition || 'center center'\r\n\t\t\t},\r\n\t\t\tgetBtnbackgroundSize() {\r\n\t\t\t\treturn this.btnAttr.backgroundSize || 'contain'\r\n\t\t\t},\r\n\t\t\tgetBtnBorderRadius() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.borderRadius || 30) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnFontSize() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.fontSize || 28) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnPaddingLeft() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.paddingLeft || 10) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnPaddingRight() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.paddingRight || 0) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnBorderWidth() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.borderWidth || 1) + 'px'\r\n\t\t\t},\r\n\r\n\t\t\tgetVoiceAttrBtnColor() {\r\n\t\t\t\treturn this.voiceAttr.btnColor || '#fff'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrBtnActiveColor() {\r\n\t\t\t\treturn this.voiceAttr.btnActiveColor || '#fff'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrListenColor() {\r\n\t\t\t\treturn this.voiceAttr.listenColor || '#fff'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrBtnBackgroundColor() {\r\n\t\t\t\treturn this.voiceAttr.BtnBackgroundColor || '#c8c7cc'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrBtnBackgroundActiveColor() {\r\n\t\t\t\treturn this.voiceAttr.BtnBackgroundActiveColor || '#fe7f00'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrListenBackgroundColor() {\r\n\t\t\t\treturn this.voiceAttr.listenBackgroundColor || '#fe7f00'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrText() {\r\n\t\t\t\treturn this.voiceAttr.text || '按住 说活'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrActiveText() {\r\n\t\t\t\treturn this.voiceAttr.activeText || '松开 结束'\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\twatchToolIcon(icon) {\r\n\t\t\t\tlet flag = false\r\n\t\t\t\tfor (let key of Object.keys(this.iconSrc)) {\r\n\t\t\t\t\tif (icon === key && this.iconSrc[key]) {\r\n\t\t\t\t\t\tflag = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn flag\r\n\t\t\t},\r\n\t\t\tinputFocus() {\r\n\t\t\t\tthis.$emit('focus')\r\n\t\t\t},\r\n\t\t\tblur() {\r\n\t\t\t\tif (!this.keyWord && this.watchToolIcon('scan')) {\r\n\t\t\t\t\tthis.entering = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('blur', this.keyWord)\r\n\t\t\t},\r\n\t\t\tinput() {\r\n\t\t\t\tthis.entering = true\r\n\t\t\t\tthis.$emit('input', this.keyWord)\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tthis.$emit('confirm')\r\n\t\t\t},\r\n\t\t\tclear() {\r\n\t\t\t\tthis.keyWord = ''\r\n\t\t\t\tthis.$emit('clear')\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tscan() {\r\n\t\t\t\t// 扫码\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthis.$emit('scan', res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\t// 搜索\r\n\t\t\t\tthis.$emit('search', this.keyWord)\r\n\t\t\t},\r\n\r\n\t\t\tbtnClick() {\r\n\t\t\t\t// 按钮点击事件\r\n\t\t\t\tthis.$emit('btnClick', this.btnAttr.text)\r\n\r\n\t\t\t},\r\n\t\t\tvoice() {\r\n\t\t\t\tthis.openVoice = true\r\n\t\t\t},\r\n\t\t\tstartHandel() {\r\n\t\t\t\tconsole.log('按下录音按钮')\r\n\t\t\t\tthis.manager.start({\r\n\t\t\t\t\tlang: \"zh_CN\"\r\n\t\t\t\t})\r\n\t\t\t\tuni.vibrateShort({\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tthis.recordStatus = 0\r\n\t\t\t\t\t\tthis.recording = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tendHandle() {\r\n\t\t\t\t// 防止重复触发stop函数\r\n\t\t\t\tif (!this.recording || this.recordStatus !== 0) {\r\n\t\t\t\t\tconsole.warn(\"has finished!\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('松开了按钮')\r\n\t\t\t\tthis.manager.stop()\r\n\t\t\t\t// this.listenManagerStop()\r\n\t\t\t},\r\n\t\t\tlistenRecordLnit() {\r\n\t\t\t\tthis.listenManagerStart()\r\n\t\t\t\tthis.listenManagerStop()\r\n\t\t\t\tthis.listenManagerRecognize()\r\n\t\t\t\tthis.listenManagerError()\r\n\t\t\t},\r\n\t\t\tlistenManagerStart() {\r\n\t\t\t\tthis.manager.onStart = (res) => {\r\n\t\t\t\t\tconsole.log('开始录音', res)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlistenManagerRecognize() {\r\n\t\t\t\tthis.manager.onRecognize = (res) => {\r\n\t\t\t\t\tconsole.log('识别了新内容', res)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlistenManagerError() {\r\n\t\t\t\tthis.manager.onError = (res) => {\r\n\t\t\t\t\tconsole.log('识别错误事件', res)\r\n\t\t\t\t\tthis.recording = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlistenManagerStop() {\r\n\t\t\t\t// 识别结束事件\r\n\t\t\t\tthis.manager.onStop = (res) => {\r\n\t\t\t\t\tconsole.log('识别结束事件', res)\r\n\t\t\t\t\tlet text = res.result\r\n\t\t\t\t\tif (text === '') {\r\n\t\t\t\t\t\tthis.showRecordEmptyTip()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.recordStatus = 0\r\n\t\t\t\t\tthis.keyWord = res.result.substr(0, res.result.length - 1)\r\n\t\t\t\t\tthis.recording = false\r\n\t\t\t\t\tif (this.keyWord) {\r\n\t\t\t\t\t\tthis.$emit('manager', this.keyWord)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowRecordEmptyTip() {\r\n\t\t\t\tthis.recording = false\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '什么也没听到',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #ifdef  MP-WEIXIN\r\n\t\tonReady() {\r\n\t\t\tif (this.iconSrc.voice) {\r\n\t\t\t\tconst plugin = requirePlugin(\"WechatSI\")\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tthis.manager = plugin.getRecordRecognitionManager()\r\n\t\t\t\t\t\tthis.listenRecordLnit()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\t// #endif\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped scoped>\r\n\t.search-input {\r\n\t\tdisplay: flex;\r\n\r\n\t\t&.btn-link-input {\r\n\t\t\t.input-wrap {\r\n\t\t\t\tborder-top-right-radius: 0 !important;\r\n\t\t\t\tborder-bottom-right-radius: 0 !important;\r\n\t\t\t\tborder-right: 0 !important;\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\tborder-top-left-radius: 0 !important;\r\n\t\t\t\tborder-bottom-left-radius: 0 !important;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.icon {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\theight: inherit;\r\n\t\t\tpadding: 10upx;\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tflex: 0 0 auto;\r\n\t\t\tmin-width: 60upx;\r\n\t\t\twidth: inherit;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbackground-image: '../../static/icon_search.png';\r\n\t\t}\r\n\r\n\r\n\t\t.input-wrap {\r\n\t\t\tflex: 1;\r\n\t\t\tposition: relative;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.placeholder-wrap {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: inherit;\r\n\t\t\t\tbackground: transparent;\r\n\r\n\t\t\t\t&.center {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tpadding-left: 0 !important;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.left {\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.text {\r\n\t\t\t\t\tcolor: inherit;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.basic {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\theight: inherit;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tz-index: 2;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.icon-btn-wrap {\r\n\t\t\t\t\tflex: 0 0 auto;\r\n\t\t\t\t\theight: inherit;\r\n\t\t\t\t\tfont-size: $uni-font-size-base;\r\n\t\t\t\t\tcolor: $uni-text-color;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.input {\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\theight: calc(inherit-2upx);\r\n\t\t\t\t\ttext-align: left;\r\n\t\t\t\t\tcolor: inherit;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\toutline: none;\r\n\t\t\t\t\tbackground:transparent;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.recond-btn {\r\n\t\tposition: fixed;\r\n\t\theight: 80upx;\r\n\t\tline-height: 80upx;\r\n\t\twidth: 80%;\r\n\t\tbottom: 60upx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 32upx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tborder-radius: 40upx;\r\n\t\ttext-align: center;\r\n\r\n\t\t&.disabled {\r\n\t\t\tbackground: rgba(67, 122, 249, 0.5);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@keyframes animate {\r\n\t\t0% {\r\n\t\t\ttransform: scale(1, 0)\r\n\t\t}\r\n\r\n\t\t20% {\r\n\t\t\ttransform: scale(1, 0.5)\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\ttransform: scale(1, 1)\r\n\t\t}\r\n\r\n\t\t80% {\r\n\t\t\ttransform: scale(1, 0.5)\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: scale(1, 0)\r\n\t\t}\r\n\t}\r\n\r\n\t.listen-wrap {\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\twidth: 300upx;\r\n\t\theight: 100upx;\r\n\t\ttransform: translate3d(-50%, -50%, 0);\r\n\t\t// background: rgba(67, 122, 249, 0.5);\r\n\t\tborder-radius: 50upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 99999;\r\n\r\n\t\t.text {\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tmargin-right: 10upx;\r\n\t\t}\r\n\r\n\t\t.animate {\r\n\t\t\theight: 28upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\r\n\t\t\t.one {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.1s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.1s;\r\n\t\t\t}\r\n\r\n\t\t\t.two {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.2s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.2s;\r\n\t\t\t}\r\n\r\n\t\t\t.three {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.3s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.3s;\r\n\t\t\t}\r\n\r\n\t\t\t.four {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.4s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.4s;\r\n\t\t\t}\r\n\r\n\t\t\t.five {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.5s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.5s;\r\n\t\t\t}\r\n\r\n\t\t\t.one,\r\n\t\t\t.two,\r\n\t\t\t.three,\r\n\t\t\t.four,\r\n\t\t\t.five {\r\n\t\t\t\twidth: 4upx;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmargin-left: 6upx;\r\n\t\t\t\tborder-radius: 50upx;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"]}]}