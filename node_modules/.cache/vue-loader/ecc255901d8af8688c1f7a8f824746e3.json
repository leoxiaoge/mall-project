{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/login/login.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/pages/ucenter/login/login.vue","mtime":1561656632935},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js","mtime":1560261210667},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1560261190995},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1560261190995},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1554990705750},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1560261190995}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  import Vue from 'vue'\n  import { request, navigateTo, showToast } from '@/common/utils/util'\n  import { UserLogin, GetLoginCode } from '@/common/config/api'\n  import uniIcon from '@/components/uni-icon/uni-icon.vue'\n\texport default Vue.extend({\n    components: {\n\t\t\tuniIcon\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n        logo: '/static/icon/icon_login.png',\n        checked: true,\n        Mobile: '',\n        LoginCode: '',\n\n        time: '获取验证码',\n        currentTime: 60,\n        disabled: false,\n        interval: ''\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n      console.log(options)\n    },\n    onUnload() {\n      let interval: any = this.interval\n      clearInterval(interval)\n    },\n\t\tmethods: {\n      mobileInput(e: any) {\n        console.log(e)\n        this.Mobile = e.detail.value\n      },\n      codeInput(e: any) {\n        console.log(e)\n        this.LoginCode = e.detail.value\n      },\n      getCode(e: any) {\n        console.log(e)\n        let Mobile = this.Mobile\n        if (!Mobile) {\n          showToast('手机号码不能为空！')\n          return\n        }\n        this.getLoginCode()\n        let currentTime: any = this.currentTime\n        this.time = currentTime + 's后可重发'\n        this.disabled = true\n        let interval: any = setInterval(() => {\n          this.time = (currentTime - 1) + 's后可重发'\n          currentTime--\n          if (currentTime <= 0) {\n            clearInterval(interval)\n            this.time = '重新获取'\n            this.currentTime = 60\n            this.disabled = false\n          }\n        }, 1000)\n        this.interval = interval\n      },\n      getLoginCode() {\n        let Mobile = this.Mobile\n\t\t\t\tlet data = {\n\t\t\t\t\tMobile: Mobile\n        }\n\t\t  \trequest(GetLoginCode, data).then((res: any) => {\n          console.log(res)\n          showToast('发送成功！')\n        })\n      },\n      radioClick() {\n        this.checked = !this.checked\n      },\n      userLogin() {\n        let Mobile = this.Mobile\n        let LoginCode  = this.LoginCode\n        if (!Mobile) {\n          showToast('手机号码不能为空！')\n          return\n        }\n        if (!LoginCode) {\n          showToast('验证码不能为空！')\n          return\n        }\n\t\t\t\tlet data = {\n          Mobile: Mobile,\n          LoginCode: LoginCode\n        }\n\t\t  \trequest(UserLogin, data).then((res: any) => {\n          console.log(res)\n          let SessionKey = res.SessionKey\n          let UserInfo = res.UserInfo\n          uni.setStorageSync('SessionKey', SessionKey)\n          uni.setStorageSync('UserInfo', UserInfo)\n          showToast('登录成功！')\n        })\n      },\n      getuserinfo(e: any) {\n        console.log(e)\n      }\n\t\t}\n\t})\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/pages/ucenter/login","sourcesContent":["\n<template>\n\t<view class=\"container\">\n    <view class=\"i-header-logo\">\n\t\t\t<image :src=\"logo\"></image>\n\t\t</view>\n    <view class=\"i-login-mobile i-border-bottom i-flex-between\">\n      <view class=\"i-login-content i-flex\">\n        <image class=\"i-login-mobile-image\" />\n        <input class=\"i-login-mobile-input\" :value=\"Mobile\" placeholder=\"请输入手机号码\" @input=\"mobileInput\" />\n      </view>\n      <view class=\"i-login-set-code\">\n        <button class=\"i-button-get\" :disabled=\"disabled\" @click=\"getCode\" >\n          {{time}}\n        </button>\n      </view>\n    </view>\n    <view class=\"i-login-code i-border-bottom\">\n      <view class=\"i-login-content i-flex\">\n        <image class=\"i-login-code-image\" />\n        <input class=\"i-login-code-input\" :value=\"LoginCode\" placeholder=\"验证码\" @input=\"codeInput\" />\n      </view>\n    </view>\n    <view class=\"i-login-radio\">\n      <label class=\"radio\">\n        <radio @click=\"radioClick\" :checked=\"checked\" color=\"#fe7f00\" />我已阅读并同意《腾拍商场购物协议》\n      </label>\n    </view>\n    <view class=\"i-login-button-view\">\n      <button class=\"btn i-login-button\" @click=\"userLogin\">登录</button>\n    </view>\n    <!-- #ifdef MP-WEIXIN -->\t\t\n    <view class=\"mp-weixin\">\n      <button class=\"i-login-weixin\" open-type=\"getUserInfo\" @getuserinfo=\"getuserinfo\"></button>\n    </view>\n    <!-- #endif -->\n  </view>\n</template>\n\n<script lang=\"ts\">\n  import Vue from 'vue'\n  import { request, navigateTo, showToast } from '@/common/utils/util'\n  import { UserLogin, GetLoginCode } from '@/common/config/api'\n  import uniIcon from '@/components/uni-icon/uni-icon.vue'\n\texport default Vue.extend({\n    components: {\n\t\t\tuniIcon\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n        logo: '/static/icon/icon_login.png',\n        checked: true,\n        Mobile: '',\n        LoginCode: '',\n\n        time: '获取验证码',\n        currentTime: 60,\n        disabled: false,\n        interval: ''\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n      console.log(options)\n    },\n    onUnload() {\n      let interval: any = this.interval\n      clearInterval(interval)\n    },\n\t\tmethods: {\n      mobileInput(e: any) {\n        console.log(e)\n        this.Mobile = e.detail.value\n      },\n      codeInput(e: any) {\n        console.log(e)\n        this.LoginCode = e.detail.value\n      },\n      getCode(e: any) {\n        console.log(e)\n        let Mobile = this.Mobile\n        if (!Mobile) {\n          showToast('手机号码不能为空！')\n          return\n        }\n        this.getLoginCode()\n        let currentTime: any = this.currentTime\n        this.time = currentTime + 's后可重发'\n        this.disabled = true\n        let interval: any = setInterval(() => {\n          this.time = (currentTime - 1) + 's后可重发'\n          currentTime--\n          if (currentTime <= 0) {\n            clearInterval(interval)\n            this.time = '重新获取'\n            this.currentTime = 60\n            this.disabled = false\n          }\n        }, 1000)\n        this.interval = interval\n      },\n      getLoginCode() {\n        let Mobile = this.Mobile\n\t\t\t\tlet data = {\n\t\t\t\t\tMobile: Mobile\n        }\n\t\t  \trequest(GetLoginCode, data).then((res: any) => {\n          console.log(res)\n          showToast('发送成功！')\n        })\n      },\n      radioClick() {\n        this.checked = !this.checked\n      },\n      userLogin() {\n        let Mobile = this.Mobile\n        let LoginCode  = this.LoginCode\n        if (!Mobile) {\n          showToast('手机号码不能为空！')\n          return\n        }\n        if (!LoginCode) {\n          showToast('验证码不能为空！')\n          return\n        }\n\t\t\t\tlet data = {\n          Mobile: Mobile,\n          LoginCode: LoginCode\n        }\n\t\t  \trequest(UserLogin, data).then((res: any) => {\n          console.log(res)\n          let SessionKey = res.SessionKey\n          let UserInfo = res.UserInfo\n          uni.setStorageSync('SessionKey', SessionKey)\n          uni.setStorageSync('UserInfo', UserInfo)\n          showToast('登录成功！')\n        })\n      },\n      getuserinfo(e: any) {\n        console.log(e)\n      }\n\t\t}\n\t})\n</script>\n\n<style scoped>\n\n  page {\n    background-color: #fff;\n  }\n\n\t.i-header-logo {\n    padding:  80upx 0 80upx 0;\n    text-align: center;\n  }\n\n  .i-header-logo image {\n    width: 180upx;\n    height: 180upx;\n  }\n\n  .i-border-bottom {\n    border-bottom: 2upx solid #f4f4f4;\n  }\n\n  .i-login-mobile {\n    margin: 0 60upx;\n    padding: 20upx 0;\n  }\n  \n  .i-login-code {\n    margin: 0 60upx;\n    padding: 20upx 0;\n  }\n\n  .i-login-mobile-image {\n    background: url(/static/icon/icon_login_mobile.png) center no-repeat;\n    background-size: 100%;\n    width: 36upx;\n    height: 52upx;\n  }\n\n  .i-login-code-image {\n    background: url(/static/icon/icon_login_code.png) center no-repeat;\n    background-size: 100%;\n    width: 36upx;\n    height: 52upx;\n  }\n\n  .i-login-mobile-input {\n    margin-left: 20upx;\n  }\n\n  .i-login-code-input {\n    margin-left: 20upx;\n  }\n\n  .i-login-radio {\n    margin: 0 60upx;\n    padding: 20upx 0;\n  }\n\n  .i-button-get {\n    background-color: #fff;\n    font-size: 32upx;\n    color: #fe7f00;\n  }\n\n  uni-button:after {\n    content: \" \";\n    width: 200%;\n    height: 200%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    border: none;\n    -webkit-transform: scale(.5);\n    transform: scale(.5);\n    -webkit-transform-origin: 0 0;\n    transform-origin: 0 0;\n    box-sizing: border-box;\n    border-radius: 10px;\n  }\n\n  uni-button[disabled]:not([type]), uni-button[disabled][type=default] {\n    color: rgba(0,0,0,.3);\n    background-color: #fff;\n  }\n\n  .i-login-button {\n    font-size: 32upx;\n    line-height: 80upx;\n    width: 80%;\n    color: #fff;\n    background-color: #fe7f00;\n    border-radius: 100upx;\n    margin-top: 40upx;\n  }\n\n  .i-login-weixin {\n    background: url(/static/icon/icon_wechat.png) center no-repeat;\n    background-size: 100%;\n    width: 88upx;\n    height: 88upx;\n    margin-top: 160upx;\n  }\n</style>\n"]}]}