{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/settingUserNick/settingUserNick.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/pages/ucenter/settingUserNick/settingUserNick.vue","mtime":1566628435126},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js","mtime":1560261210667},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { request, navigateTo, showToast } from \"@/common/utils/util\";\nimport { GetLoginUser, UpdateUserInfo } from \"@/common/config/api\";\nexport default Vue.extend({\n\tdata() {\n\t\treturn {\n\t\t\tuserNick: \"\"\n\t\t};\n\t},\n\tonLoad(options: any) {\n\t\tthis.useInfo();\n\t},\n\tmethods: {\n\t\tasync useInfo() {\n\t\t\tlet userInfo: any = await this.getLoginUser();\n\t\t\tthis.userNick = decodeURIComponent(userInfo.userNick);\n\t\t},\n\t\t// 获取当前登录用户的信息\n\t\tgetLoginUser() {\n\t\t\treturn new Promise((sesolve, reject) => {\n\t\t\t\tlet data = {};\n\t\t\t\trequest(GetLoginUser, data).then((res: any) => {\n\t\t\t\t\tsesolve(res.UserInfo);\n\t\t\t\t});\n\t\t\t});\n    },\n    blur(e: any) {\n      this.userNick = e.target.value;\n    },\n\t\tsave() {\n\t\t\tlet UserNick = encodeURIComponent(this.userNick);\n\t\t\tif (!UserNick) {\n\t\t\t\tshowToast(\"请输入昵称！\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tUserNick: UserNick\n\t\t\t};\n\t\t\trequest(UpdateUserInfo, data).then((res: any) => {\n\t\t\t\tshowToast(\"保存成功！\");\n\t\t\t});\n\t\t}\n\t}\n});\n",{"version":3,"sources":["settingUserNick.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"settingUserNick.vue","sourceRoot":"src/pages/ucenter/settingUserNick","sourcesContent":["<template>\n\t<view class=\"content\">\n\t\t<view class=\"userInfo\">\n\t\t\t<input class=\"input\" :value=\"userNick\" @blur=\"blur\" />\n\t\t</view>\n\t\t<view class=\"save-in\">\n\t\t\t<button class=\"saveBtn\" @click=\"save\">保存</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport { request, navigateTo, showToast } from \"@/common/utils/util\";\nimport { GetLoginUser, UpdateUserInfo } from \"@/common/config/api\";\nexport default Vue.extend({\n\tdata() {\n\t\treturn {\n\t\t\tuserNick: \"\"\n\t\t};\n\t},\n\tonLoad(options: any) {\n\t\tthis.useInfo();\n\t},\n\tmethods: {\n\t\tasync useInfo() {\n\t\t\tlet userInfo: any = await this.getLoginUser();\n\t\t\tthis.userNick = decodeURIComponent(userInfo.userNick);\n\t\t},\n\t\t// 获取当前登录用户的信息\n\t\tgetLoginUser() {\n\t\t\treturn new Promise((sesolve, reject) => {\n\t\t\t\tlet data = {};\n\t\t\t\trequest(GetLoginUser, data).then((res: any) => {\n\t\t\t\t\tsesolve(res.UserInfo);\n\t\t\t\t});\n\t\t\t});\n    },\n    blur(e: any) {\n      this.userNick = e.target.value;\n    },\n\t\tsave() {\n\t\t\tlet UserNick = encodeURIComponent(this.userNick);\n\t\t\tif (!UserNick) {\n\t\t\t\tshowToast(\"请输入昵称！\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet data = {\n\t\t\t\tUserNick: UserNick\n\t\t\t};\n\t\t\trequest(UpdateUserInfo, data).then((res: any) => {\n\t\t\t\tshowToast(\"保存成功！\");\n\t\t\t});\n\t\t}\n\t}\n});\n</script>\n\n<style scoped>\n.userInfo {\n\tbackground-color: #fff;\n}\n\n.input {\n\theight: 88upx;\n\tbackground-color: #fff;\n\tpadding: 0 30upx;\n}\n\n.save-in {\n\tposition: fixed;\n\tbottom: 0;\n\twidth: 100%;\n}\n\n.saveBtn {\n\tcolor: #fff;\n\tbackground-color: #fd7f00;\n}\n</style>\n"]}]}