{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/components/uni-popup/uni-popup.vue?vue&type=style&index=0&id=09fec1d4&scoped=true&lang=css&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/components/uni-popup/uni-popup.vue","mtime":1564603039189},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js","mtime":1554990705185},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n  background: rgba(0, 0, 0, 0.3);\n  display: none;\n}\n\n.mask-content {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background-color: #fff;\n  transform: translateY(100%);\n  transition: all 0.4s ease;\n  z-index: 999;\n}\n\n.show .mask-content {\n  transform: translateY(0);\n}\n\n.show .mask {\n  display: block;\n}\n.uni-mask {\n  position: fixed;\n  z-index: 998;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n\n.uni-popup {\n  position: fixed;\n  z-index: 999;\n  background-color: #ffffff;\n}\n\n.uni-popup-middle {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.uni-popup-middle.uni-popup-insert {\n  min-width: 380upx;\n  min-height: 380upx;\n  max-width: 100%;\n  max-height: 80%;\n  transform: translate(-50%, -65%);\n  background: none;\n  box-shadow: none;\n}\n\n.uni-popup-middle.uni-popup-fixed {\n  border-radius: 10upx;\n  padding: 30upx;\n}\n\n.uni-close-bottom,\n.uni-close-right {\n  position: absolute;\n  bottom: -180upx;\n  text-align: center;\n  border-radius: 50%;\n  color: #f5f5f5;\n  font-size: 60upx;\n  font-weight: bold;\n  opacity: 0.8;\n  z-index: -1;\n}\n\n.uni-close-bottom {\n  margin: auto;\n  left: 0;\n  right: 0;\n}\n\n.uni-close-right {\n  right: -60upx;\n  top: -80upx;\n}\n\n.uni-close-bottom:after {\n  content: \"\";\n  position: absolute;\n  width: 0px;\n  border: 1px #f5f5f5 solid;\n  top: -200upx;\n  bottom: 56upx;\n  left: 50%;\n  transform: translate(-50%, -0%);\n  opacity: 0.8;\n}\n\n.uni-popup-top,\n.uni-popup-bottom {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.uni-popup-top {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100upx;\n  line-height: 100upx;\n  text-align: center;\n}\n\n.uni-popup-bottom {\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 100upx;\n  line-height: 100upx;\n}\n\n.i-content {\n  width: 100%;\n  padding: 0 30upx;\n}\n\n.i-msg {\n  font-size: 32upx;\n  line-height: 80upx;\n}\n\n.i-textarea textarea {\n  width: 94%;\n  height: 260upx;\n  border: 2upx solid #f4f4f4;\n  border-radius: 4upx;\n  padding: 20upx;\n}\n\n.i-feedback {\n  display: flex;\n  justify-content: center;\n}\n\n.i-feedback-button {\n  width: 180upx;\n  height: 60upx;\n  line-height: 60upx;\n  font-size: 36upx;\n  text-align: center;\n  border-radius: 4upx;\n  border: none;\n  color: #fff;\n  background-color: #fe7f00;\n  margin: 20upx 0 40upx 0;\n}\n",{"version":3,"sources":["uni-popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"uni-popup.vue","sourceRoot":"src/components/uni-popup","sourcesContent":["<template>\n  <view class=\"mask-show\" :class=\"(show?'show':'hide')\">\n    <view\n      :style=\"{ top: offsetTop + 'px' }\"\n      class=\"uni-mask mask\"\n      @click=\"hide\"\n      @touchmove.stop.prevent=\"moveHandle\"\n    />\n    <view\n      :class=\"'uni-popup-' + position + ' ' + 'uni-popup-' + mode\"\n      class=\"uni-popup mask-content\"\n    >\n      <view class=\"i-content\">\n        <text class=\"i-msg\">{{ msg }}</text>\n        <cover-view class=\"i-textarea\" v-show=\"show\">\n          <textarea @blur=\"bindTextAreaBlur\" placeholder=\"请写下您的宝贵意见\" />\n        </cover-view>\n        <view class=\"i-feedback\">\n          <button class=\"btn i-feedback-button\" @click=\"submit\">提交</button>\n        </view>\n      </view>\n      <slot />\n      <view\n        v-if=\"position === 'middle' && mode === 'insert'\"\n        :class=\"{\n          'uni-close-bottom': buttonMode === 'bottom',\n          'uni-close-right': buttonMode === 'right'\n        }\"\n        class=\"uni-icon uni-icon-close\"\n        @click=\"closeMask\"\n      />\n    </view>\n  </view>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport { request, showToast } from \"@/common/utils/util\";\nimport { UserFeedbackSubmit } from \"@/common/config/api\";\nexport default Vue.extend({\n  name: \"UniPopup\",\n  props: {\n    /**\n     * 页面显示\n     */\n    show: {\n      type: Boolean,\n      default: false\n    },\n    /**\n     * 对齐方式\n     */\n    position: {\n      type: String,\n      // top - 顶部， middle - 居中, bottom - 底部\n      default: \"middle\"\n    },\n    /**\n     * 显示模式\n     */\n    mode: {\n      type: String,\n      default: \"insert\"\n    },\n    /**\n     * 额外信息\n     */\n    msg: {\n      type: String,\n      default: \"\"\n    },\n    /**\n     * h5遮罩是否到顶\n     */\n    h5Top: {\n      type: Boolean,\n      default: false\n    },\n    buttonMode: {\n      type: String,\n      default: \"bottom\"\n    }\n  },\n  data() {\n    return {\n      offsetTop: 0,\n      FeedbackContent: \"\"\n    };\n  },\n  watch: {\n    h5Top(newVal: any) {\n      if (newVal) {\n        this.offsetTop = 44;\n      } else {\n        this.offsetTop = 0;\n      }\n    }\n  },\n  created() {\n    let offsetTop = 0;\n    // #ifdef H5\n    if (!this.h5Top) {\n      offsetTop = 44;\n    } else {\n      offsetTop = 0;\n    }\n    // #endif\n    this.offsetTop = offsetTop;\n  },\n  methods: {\n    hide() {\n      if (this.mode === \"insert\" && this.position === \"middle\") return;\n      this.$emit(\"hidePopup\");\n    },\n    closeMask() {\n      if (this.mode === \"insert\") {\n        this.$emit(\"hidePopup\");\n      }\n    },\n    moveHandle() {},\n    bindTextAreaBlur(e: any) {\n      console.log(e);\n      this.FeedbackContent = e.detail.value;\n    },\n    submit(e: any) {\n      let FeedbackContent = this.FeedbackContent;\n      if (!FeedbackContent) {\n        showToast(\"内容不能为空！\");\n        return;\n      }\n      let data = {\n        FeedbackContent: FeedbackContent\n      };\n      request(UserFeedbackSubmit, data).then((res: any) => {\n        console.log(res);\n        showToast(\"提交成功！\");\n      });\n    }\n  }\n});\n</script>\n<style scoped>\n.mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n  background: rgba(0, 0, 0, 0.3);\n  display: none;\n}\n\n.mask-content {\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  background-color: #fff;\n  transform: translateY(100%);\n  transition: all 0.4s ease;\n  z-index: 999;\n}\n\n.show .mask-content {\n  transform: translateY(0);\n}\n\n.show .mask {\n  display: block;\n}\n.uni-mask {\n  position: fixed;\n  z-index: 998;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n\n.uni-popup {\n  position: fixed;\n  z-index: 999;\n  background-color: #ffffff;\n}\n\n.uni-popup-middle {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.uni-popup-middle.uni-popup-insert {\n  min-width: 380upx;\n  min-height: 380upx;\n  max-width: 100%;\n  max-height: 80%;\n  transform: translate(-50%, -65%);\n  background: none;\n  box-shadow: none;\n}\n\n.uni-popup-middle.uni-popup-fixed {\n  border-radius: 10upx;\n  padding: 30upx;\n}\n\n.uni-close-bottom,\n.uni-close-right {\n  position: absolute;\n  bottom: -180upx;\n  text-align: center;\n  border-radius: 50%;\n  color: #f5f5f5;\n  font-size: 60upx;\n  font-weight: bold;\n  opacity: 0.8;\n  z-index: -1;\n}\n\n.uni-close-bottom {\n  margin: auto;\n  left: 0;\n  right: 0;\n}\n\n.uni-close-right {\n  right: -60upx;\n  top: -80upx;\n}\n\n.uni-close-bottom:after {\n  content: \"\";\n  position: absolute;\n  width: 0px;\n  border: 1px #f5f5f5 solid;\n  top: -200upx;\n  bottom: 56upx;\n  left: 50%;\n  transform: translate(-50%, -0%);\n  opacity: 0.8;\n}\n\n.uni-popup-top,\n.uni-popup-bottom {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.uni-popup-top {\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100upx;\n  line-height: 100upx;\n  text-align: center;\n}\n\n.uni-popup-bottom {\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 100upx;\n  line-height: 100upx;\n}\n\n.i-content {\n  width: 100%;\n  padding: 0 30upx;\n}\n\n.i-msg {\n  font-size: 32upx;\n  line-height: 80upx;\n}\n\n.i-textarea textarea {\n  width: 94%;\n  height: 260upx;\n  border: 2upx solid #f4f4f4;\n  border-radius: 4upx;\n  padding: 20upx;\n}\n\n.i-feedback {\n  display: flex;\n  justify-content: center;\n}\n\n.i-feedback-button {\n  width: 180upx;\n  height: 60upx;\n  line-height: 60upx;\n  font-size: 36upx;\n  text-align: center;\n  border-radius: 4upx;\n  border: none;\n  color: #fff;\n  background-color: #fe7f00;\n  margin: 20upx 0 40upx 0;\n}\n</style>"]}]}