{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/components/mescroll-diy/mescroll-beibei.vue?vue&type=style&index=0&id=c2f68e76&scoped=true&lang=css&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/components/mescroll-diy/mescroll-beibei.vue","mtime":1566911532149},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/css-loader/index.js","mtime":1554990705185},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/postcss-loader/src/index.js","mtime":1554990705524},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"../mescroll-uni/mescroll-uni.css\";\n.mescroll-uni-bg {\n\tbackground-color: #fff;\n}\n/*下拉刷新--标语*/\n.mescroll-downwarp .downwarp-slogan{\n\tdisplay: block;\n\twidth: 420upx;\n\theight: 168upx;\n\tmargin: auto;\n}\n/*下拉刷新--向下进度动画*/\n.mescroll-downwarp .downwarp-progress{\n\tdisplay: inline-block;\n\twidth: 40upx;\n\theight: 40upx;\n\tborder: none;\n\tmargin: auto;\n\tbackground-size: contain;\n\tbackground-repeat: no-repeat;\n\tbackground-position: center;\n\tbackground-image: url(https://api.tengpaisc.com/upload/guidang/icon_downwarp.png);\n\t-webkit-transition: all 300ms;\n\ttransition: all 300ms;\n}\n/*下拉刷新--进度条*/\n.mescroll-downwarp .downwarp-loading{\n\tdisplay: inline-block;\n\twidth: 32upx;\n\theight: 32upx;\n\tborder-radius: 50%;\n    border: 2upx solid #fe7f00;\n    border-bottom-color: transparent;\n}\n/*下拉刷新--吉祥物*/\n.mescroll-downwarp .downwarp-mascot{\n\tposition: absolute;\n\tright: 16upx;\n\tbottom: 0;\n\twidth: 100upx;\n\theight: 100upx;\n\tbackground-size: contain;\n\tbackground-repeat: no-repeat;\n\t-webkit-animation: animMascot .6s steps(1,end) infinite;\n\tanimation: animMascot .6s steps(1,end) infinite;\n}\n/* @-webkit-keyframes animMascot {\n\t0% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n\t25% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb2.png)}\n\t50% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb3.png)}\n\t75% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb4.png)}\n\t100% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n}\n@keyframes animMascot {\n\t0% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n\t25% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb2.png)}\n\t50% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb3.png)}\n\t75% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb4.png)}\n\t100% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n} */\n",{"version":3,"sources":["mescroll-beibei.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mescroll-beibei.vue","sourceRoot":"src/components/mescroll-diy","sourcesContent":["<template>\n\t<view class=\"mescroll-uni-warp\">\n\t\t<scroll-view :id=\"viewId\" class=\"mescroll-uni\" :class=\"{'mescroll-uni-fixed':fixed}\" :style=\"{'padding-top':padTop,'padding-bottom':padBottom,'top':fixedTop,'bottom':fixedBottom}\" :scroll-top=\"scrollTop\" :scroll-with-animation=\"scrollAnim\" @scroll=\"scroll\" @touchstart=\"touchstartEvent\" @touchmove=\"touchmoveEvent\" @touchend=\"touchendEvent\" @touchcancel=\"touchendEvent\" :scroll-y='scrollAble' :throttle=\"mescroll.optUp.onScroll==null\" :enable-back-to-top=\"true\">\n\t\t\t<!-- 下拉加载区域 -->\n\t\t\t<view v-if=\"mescroll.optDown.use\" class=\"mescroll-downwarp mescroll-uni-bg\" :style=\"{'height': downHight, 'transition': supplyHeight}\">\n\t\t\t\t<view class=\"downwarp-content\">\n\t\t\t\t\t<image class=\"downwarp-slogan\" src=\"https://api.tengpaisc.com/upload/guidang/icon_slogan.png\" mode=\"widthFix\"/>\n\t\t\t\t\t<view v-if=\"!isDownLoading\" class=\"downwarp-progress\" :style=\"{'transform':downRotate, 'transition': supplyAll}\"></view>\n\t\t\t\t\t<view v-if=\"isDownLoading\" class=\"downwarp-loading mescroll-rotate\"></view>\n\t\t\t\t\t<view class=\"downwarp-mascot\"></view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 列表内容 -->\n\t\t\t<slot></slot>\n\t\t\t<!-- 空布局 -->\n\t\t\t<view v-if=\"isShowEmpty\" class=\"mescroll-empty\" :class=\"{'empty-fixed':optEmpty.fixed}\" :style=\"{'z-index':optEmpty.zIndex,'top':optEmpty.top}\">\n\t\t\t\t<image v-if=\"optEmpty.icon\" class=\"empty-icon\" :src=\"optEmpty.icon\" mode=\"widthFix\" />\n\t\t\t\t<view v-if=\"optEmpty.tip\" class=\"empty-tip\">{{optEmpty.tip}}</view>\n\t\t\t\t<view v-if=\"optEmpty.btnText\" class=\"empty-btn\" @click=\"emptyClick\">{{optEmpty.btnText}}</view>\n\t\t\t</view>\n\t\t\t<!-- 上拉加载区域 -->\n\t\t\t<view v-if=\"mescroll.optUp.use\" class=\"mescroll-upwarp\">\n\t\t\t\t<!-- 加载中.. -->\n\t\t\t\t<template v-if=\"isUpLoading\">\n\t\t\t\t\t<view class=\"upwarp-progress mescroll-rotate\"></view>\n\t\t\t\t\t<view class=\"upwarp-tip\">{{mescroll.optUp.textLoading}}</view>\n\t\t\t\t</template>\n\t\t\t\t<!-- 无数据 -->\n\t\t\t\t<view v-if=\"!isDownLoading && isUpNoMore\" class=\"upwarp-nodata\">{{mescroll.optUp.textNoMore}}</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t<!-- 回到顶部按钮 (fixed元素,需写在scroll-view外面,防止滚动的时候抖动)-->\n\t\t<image v-if=\"mescroll.optUp.toTop.src\" class=\"mescroll-totop\" :class=\"{'mescroll-fade-in':isShowToTop}\" :src=\"mescroll.optUp.toTop.src\" mode=\"widthFix\" @click=\"toTopClick\" />\n\t</view>\n</template>\n\n<script>\n\t// 引入mescroll-uni.js,处理核心逻辑\n\timport MeScroll from '../mescroll-uni/mescroll-uni.js';\n\t// 引入全局配置\n\timport GlobalOption from './mescroll-beibei-option.js';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmescroll: null,\n\t\t\t\tviewId: 'id_'+Math.random().toString(36).substr(2), // 随机生成mescroll的id(不能数字开头,否则找不到元素)\n\t\t\t\tdownHight: 0, //下拉刷新: 容器高度\n\t\t\t\tdownRotate: 0, //下拉刷新: 圆形进度条旋转的角度\n\t\t\t\tisAnimSupply: false, //下拉刷新: 是否启用补帧动画\n\t\t\t\tisDownReset: false, //下拉刷新: 是否显示重置的过渡动画\n\t\t\t\tisDownLoading: false, //下拉刷新: 是否显示加载中\n\t\t\t\tisUpLoading: false, // 上拉加载: 是否显示 \"加载中...\"\n\t\t\t\tisUpNoMore: false, // 上拉加载: 是否显示 \"-- END --\"\n\t\t\t\tisShowEmpty: false, // 是否显示空布局\n\t\t\t\tisShowToTop: false, // 是否显示回到顶部按钮\n\t\t\t\tscrollAble: true, // 是否禁止下滑 (下拉时禁止,避免抖动)\n\t\t\t\tscrollTop: 0, // 滚动条的位置\n\t\t\t\tscrollAnim: false, // 是否开启滚动动画\n\t\t\t\twindowTop: 0, // 可使用窗口的顶部位置\n\t\t\t\twindowBottom: 0 // 可使用窗口的底部位置\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tdown: Object,\n\t\t\tup: Object,\n\t\t\ttop: [String,Number],  // 下拉布局往下偏移的数值, 已默认单位为upx.\n\t\t\tbottom: [String,Number],  // 上拉布局往上偏移的数值, 已默认单位为upx.\n\t\t\tfixed: { // 是否通过fixed固定mescroll的高度, 默认true\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault(){\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t// top数值,单位upx,需转成px. 目的是使下拉布局往下偏移\n\t\t\tnumTop(){\n\t\t\t\treturn uni.upx2px(Number(this.top||0))\n\t\t\t},\n\t\t\tfixedTop(){\n\t\t\t\treturn this.fixed ? (this.numTop + this.windowTop) + 'px' : 0\n\t\t\t},\n\t\t\tpadTop(){\n\t\t\t\treturn !this.fixed ? this.numTop + 'px' : 0\n\t\t\t},\n\t\t\t// bottom数值,单位upx,需转成px 目的是使上拉布局往上偏移\n\t\t\tnumBottom(){\n\t\t\t\treturn uni.upx2px(Number(this.bottom||0))\n\t\t\t},\n\t\t\tfixedBottom(){\n\t\t\t\treturn this.fixed ? (this.numBottom + this.windowBottom) + 'px' : 0\n\t\t\t},\n\t\t\tpadBottom(){\n\t\t\t\treturn !this.fixed ? this.numBottom + 'px' : 0\n\t\t\t},\n\t\t\t// 空布局的配置\n\t\t\toptEmpty() {\n\t\t\t\treturn this.mescroll.optUp.empty\n\t\t\t},\n\t\t\t// 补帧动画\n\t\t\tsupplyHeight(){\n\t\t\t\treturn this.isDownReset ? 'height 300ms' : this.isAnimSupply ? 'height '+this.mescroll.optDown.supply+'ms' : ''\n\t\t\t},\n\t\t\tsupplyAll(){\n\t\t\t\treturn this.isAnimSupply ? 'all '+this.mescroll.optDown.supply+'ms' : ''\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t//注册列表滚动事件,用于下拉刷新\n\t\t\tscroll(e) {\n\t\t\t\tthis.mescroll.scroll(e.detail, ()=>{\n\t\t\t\t\tthis.$emit('scroll', this.mescroll) // 此时可直接通过 this.mescroll.scrollTop获取滚动条位置; this.mescroll.isScrollUp获取是否向上滑动\n\t\t\t\t})\n\t\t\t},\n\t\t\t//注册列表touchstart事件,用于下拉刷新\n\t\t\ttouchstartEvent(e) {\n\t\t\t\tthis.mescroll.touchstartEvent(e);\n\t\t\t},\n\t\t\t//注册列表touchmove事件,用于下拉刷新\n\t\t\ttouchmoveEvent(e) {\n\t\t\t\tthis.mescroll.touchmoveEvent(e);\n\t\t\t},\n\t\t\t//注册列表touchend事件,用于下拉刷新\n\t\t\ttouchendEvent(e) {\n\t\t\t\tthis.mescroll.touchendEvent(e);\n\t\t\t},\n\t\t\t// 点击空布局的按钮回调\n\t\t\temptyClick(){\n\t\t\t\tthis.$emit('emptyclick',this.mescroll)\n\t\t\t},\n\t\t\t// 点击回到顶部的按钮回调\n\t\t\ttoTopClick(){\n\t\t\t\tthis.isShowToTop = false; // 回到顶部按钮需要先隐藏,再执行回到顶部,避免闪动\n\t\t\t\tthis.mescroll.scrollTo(0, this.mescroll.optUp.toTop.duration); // 执行回到顶部\n\t\t\t\tthis.$emit('topclick', this.mescroll); // 派发点击回到顶部按钮的回调\n\t\t\t},\n\t\t\t// 更新滚动区域的高度\n\t\t\tsetClientHeight(){\n\t\t\t\tif(this.mescroll.getClientHeight(true) === 0 && !this.isExec){\n\t\t\t\t\tthis.isExec = true; // 避免多次获取\n\t\t\t\t\tthis.$nextTick(()=>{ // 确保dom已渲染\n\t\t\t\t\t\tlet view = uni.createSelectorQuery().in(this).select('#'+this.viewId);\n\t\t\t\t\t\tview.boundingClientRect(data => {\n\t\t\t\t\t\t\tthis.isExec = false;\n\t\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\t\tthis.mescroll.setClientHeight(data.height);\n\t\t\t\t\t\t\t}else if(this.clientNum!=3){ // 极少部分情况,可能dom还未渲染完毕,递归获取,最多重试3次\n\t\t\t\t\t\t\t\tthis.clientNum = this.clientNum == null ? 1 : this.clientNum+1;\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthis.setClientHeight()\n\t\t\t\t\t\t\t\t},this.clientNum*100)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).exec();\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 使用created初始化mescroll对象; 如果用mounted部分css样式编译到H5会失效\n\t\tcreated() {\n\t\t\tlet vm = this;\n\n\t\t\tlet diyOption = {\n\t\t\t\t// 下拉刷新的配置\n\t\t\t\tdown: {\n\t\t\t\t\toffset: uni.upx2px(130), //触发刷新的距离,单位为px\n\t\t\t\t\tinOffset(mescroll) {\n\t\t\t\t\t\t// 下拉的距离进入offset范围内那一刻的回调\n\t\t\t\t\t\tvm.scrollAble = false; // 禁止下拉,避免抖动 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownReset = false; // 不重置高度 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownLoading = false; // 不显示加载中\n\t\t\t\t\t\tvm.downRotate = 'rotate(0deg)'; // 旋转到0\n\t\t\t\t\t},\n\t\t\t\t\toutOffset(mescroll) {\n\t\t\t\t\t\t// 下拉的距离大于offset那一刻的回调\n\t\t\t\t\t\tvm.scrollAble = false; // 禁止下拉,避免抖动 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownReset = false; // 不重置高度 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownLoading = false; // 不显示加载中\n\t\t\t\t\t\tvm.downRotate = 'rotate(180deg)'; // 旋转到180\n\t\t\t\t\t},\n\t\t\t\t\tonMoving(mescroll, rate, downHight) {\n\t\t\t\t\t\t// 下拉过程中的回调,滑动过程一直在执行; rate下拉区域当前高度与指定距离的比值(inOffset: rate<1; outOffset: rate>=1); downHight当前下拉区域的高度\n\t\t\t\t\t\tvm.downHight = downHight+'px'; // 设置下拉区域的高度 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t},\n\t\t\t\t\tshowLoading(mescroll, downHight) {\n\t\t\t\t\t\t// 显示下拉刷新进度的回调\n\t\t\t\t\t\tvm.scrollAble = true; // 开启下拉 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownReset = true; // 重置高度 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownLoading = true;// 显示加载中\n\t\t\t\t\t\tvm.downHight = downHight+'px'; // 设置下拉区域的高度 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t},\n\t\t\t\t\tendDownScroll(mescroll) {\n\t\t\t\t\t\tvm.scrollAble = true; // 开启下拉 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownReset = true;// 重置高度 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t\tvm.isDownLoading = false; // 不显示加载中\n\t\t\t\t\t\tvm.downHight = 0; // 设置下拉区域的高度 (自定义mescroll组件时,此行不可删)\n\t\t\t\t\t},\n\t\t\t\t\t// 派发下拉刷新的回调\n\t\t\t\t\tcallback: function(mescroll){\n\t\t\t\t\t\tvm.$emit('down', mescroll)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t// 上拉加载的配置\n\t\t\t\tup: {\n\t\t\t\t\t// 显示加载中的回调\n\t\t\t\t\tshowLoading() {\n\t\t\t\t\t\tvm.isUpLoading = true;\n\t\t\t\t\t\tvm.isUpNoMore = false;\n\t\t\t\t\t},\n\t\t\t\t\t// 显示无更多数据的回调\n\t\t\t\t\tshowNoMore() {\n\t\t\t\t\t\tvm.isUpLoading = false;\n\t\t\t\t\t\tvm.isUpNoMore = true;\n\t\t\t\t\t},\n\t\t\t\t\t// 隐藏上拉加载的回调\n\t\t\t\t\thideUpScroll() {\n\t\t\t\t\t\tvm.isUpLoading = false;\n\t\t\t\t\t\tvm.isUpNoMore = false;\n\t\t\t\t\t},\n\t\t\t\t\t// 空布局\n\t\t\t\t\tempty: {\n\t\t\t\t\t\tonShow(isShow) { // 显示隐藏的回调\n\t\t\t\t\t\t\tvm.isShowEmpty = isShow;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t// 回到顶部\n\t\t\t\t\ttoTop: {\n\t\t\t\t\t\tonShow(isShow) { // 显示隐藏的回调\n\t\t\t\t\t\t\tvm.isShowToTop = isShow;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t// 派发上拉加载的回调\n\t\t\t\t\tcallback: function(mescroll){\n\t\t\t\t\t\tvm.$emit('up', mescroll)\n\t\t\t\t\t\t// 更新容器的高度 (多mescroll的情况)\n\t\t\t\t\t\tvm.setClientHeight()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tMeScroll.extend(diyOption, GlobalOption); // 混入全局的配置\n\t\t\tlet myOption = JSON.parse(JSON.stringify({'down': vm.down,'up': vm.up})) // 深拷贝,避免对props的影响\n\t\t\tMeScroll.extend(myOption, diyOption); // 混入具体界面的配置\n\t\t\t\n\t\t\t// 初始化MeScroll对象\n\t\t\tvm.mescroll = new MeScroll(myOption);\n\t\t\tvm.mescroll.viewId = vm.viewId; // 附带id\n\t\t\t// init回调mescroll对象\n\t\t\tvm.$emit('init', vm.mescroll);\n\n\t\t\t// 设置高度\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif(res.windowTop) vm.windowTop = res.windowTop; // 修正app和H5的top值\n\t\t\t\t\tif(res.windowBottom) vm.windowBottom = res.windowBottom; // 修正app和H5的bottom值\n\t\t\t\t\tvm.mescroll.setBodyHeight(res.windowHeight); // 使down的bottomOffset生效\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// 因为使用的是scrollview,这里需自定义scrollTo\n\t\t\tvm.mescroll.resetScrollTo((y, t)=>{\n\t\t\t\tlet curY = vm.mescroll.getScrollTop()\n\t\t\t\tif (t === 0) {\n\t\t\t\t\tvm.scrollAnim = false;\n\t\t\t\t\tvm.scrollTop = curY;\n\t\t\t\t\tvm.$nextTick(function(){\n\t\t\t\t\t\tvm.scrollTop = y\n\t\t\t\t\t})\n\t\t\t\t} else{\n\t\t\t\t\tvm.scrollAnim = true;\n\t\t\t\t\tvm.mescroll.getStep(curY, y, step=>{\n\t\t\t\t\t\tvm.scrollTop = step\n\t\t\t\t\t}, t)\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\t// android小程序touchmove触发频率低,需开启补帧动画\n\t\t\t// #ifdef MP\n\t\t\tif(uni.getSystemInfoSync().platform === 'android') vm.isAnimSupply = true;\n\t\t\t// #endif\n\t\t},\n\t\tmounted() {\n\t\t\t// 设置容器的高度\n\t\t\tthis.setClientHeight()\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t@import \"../mescroll-uni/mescroll-uni.css\";\n\t.mescroll-uni-bg {\n\t\tbackground-color: #fff;\n\t}\n\t/*下拉刷新--标语*/\n\t.mescroll-downwarp .downwarp-slogan{\n\t\tdisplay: block;\n\t\twidth: 420upx;\n\t\theight: 168upx;\n\t\tmargin: auto;\n\t}\n\t/*下拉刷新--向下进度动画*/\n\t.mescroll-downwarp .downwarp-progress{\n\t\tdisplay: inline-block;\n\t\twidth: 40upx;\n\t\theight: 40upx;\n\t\tborder: none;\n\t\tmargin: auto;\n\t\tbackground-size: contain;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center;\n\t\tbackground-image: url(https://api.tengpaisc.com/upload/guidang/icon_downwarp.png);\n\t\t-webkit-transition: all 300ms;\n\t\ttransition: all 300ms;\n\t}\n\t/*下拉刷新--进度条*/\n\t.mescroll-downwarp .downwarp-loading{\n\t\tdisplay: inline-block;\n\t\twidth: 32upx;\n\t\theight: 32upx;\n\t\tborder-radius: 50%;\n\t    border: 2upx solid #fe7f00;\n\t    border-bottom-color: transparent;\n\t}\n\t/*下拉刷新--吉祥物*/\n\t.mescroll-downwarp .downwarp-mascot{\n\t\tposition: absolute;\n\t\tright: 16upx;\n\t\tbottom: 0;\n\t\twidth: 100upx;\n\t\theight: 100upx;\n\t\tbackground-size: contain;\n\t\tbackground-repeat: no-repeat;\n\t\t-webkit-animation: animMascot .6s steps(1,end) infinite;\n\t\tanimation: animMascot .6s steps(1,end) infinite;\n\t}\n\t/* @-webkit-keyframes animMascot {\n\t\t0% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n\t\t25% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb2.png)}\n\t\t50% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb3.png)}\n\t\t75% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb4.png)}\n\t\t100% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n\t}\n\t@keyframes animMascot {\n\t\t0% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n\t\t25% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb2.png)}\n\t\t50% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb3.png)}\n\t\t75% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb4.png)}\n\t\t100% {background-image: url(http://www.mescroll.com/img/beibei/mescroll-bb1.png)}\n\t} */\n</style>\n"]}]}