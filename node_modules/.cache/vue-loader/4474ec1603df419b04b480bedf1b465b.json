{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/myOrder/myOrder.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/pages/ucenter/myOrder/myOrder.vue","mtime":1568043440669},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js","mtime":1560261210667},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport {\n\trequest,\n\tnavigateTo,\n\tformatTime,\n\tpreviewImage,\n\tonShareAppMessage\n} from \"@/common/utils/util\";\nimport { OrderDryingListGet } from \"@/common/config/api\";\nimport MescrollUni from \"@/components/mescroll-diy/mescroll-beibei.vue\";\nexport default Vue.extend({\n\tcomponents: {\n\t\tMescrollUni\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmescroll: [],\n\t\t\torderList: []\n\t\t};\n\t},\n\tonShareAppMessage(e: any) {\n\t\treturn onShareAppMessage(e);\n\t},\n\tmethods: {\n\t\t// 下拉刷新的回调\n\t\tdownCallback(mescroll: any) {\n\t\t\tthis.mescroll = mescroll;\n\t\t\tmescroll.resetUpScroll();\n\t\t},\n\t\t// 上拉加载的回调: mescroll携带page的参数, 其中num:当前页 从1开始, size:每页数据条数,默认10\n\t\tupCallback(mescroll: any) {\n\t\t\tthis.getListDataFromNet(\n\t\t\t\tmescroll.num,\n\t\t\t\tmescroll.size,\n\t\t\t\t(curPageData: any) => {\n\t\t\t\t\tmescroll.endSuccess(curPageData.length);\n\t\t\t\t\tif (mescroll.num == 1) this.orderList = [];\n\t\t\t\t\tthis.orderList = this.orderList.concat(curPageData);\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tmescroll.endErr();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t// 联网加载列表数据\n\t\tasync getListDataFromNet(\n\t\t\tpageNum: any,\n\t\t\tpageSize: any,\n\t\t\tsuccessCallback: any,\n\t\t\terrorCallback: any\n\t\t) {\n\t\t\tconsole.log(pageNum, pageSize);\n\t\t\ttry {\n\t\t\t\tlet orderList: any = await this.getOrderDryingList(pageNum, pageSize);\n\t\t\t\tsuccessCallback && successCallback(orderList);\n\t\t\t} catch (e) {\n\t\t\t\terrorCallback && errorCallback();\n\t\t\t}\n\t\t},\n\t\tgetOrderDryingList(pageNum: any, pageSize: any) {\n\t\t\tlet UserInfo: any = uni.getStorageSync(\"UserInfo\");\n\t\t\tlet UserID = UserInfo.ID;\n\t\t\tif (!UserID) {\n\t\t\t\tnavigateTo(\"../../ucenter/login/login\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn new Promise((sesolve, reject) => {\n\t\t\t\tlet data = {\n\t\t\t\t\tPageID: pageNum,\n\t\t\t\t\tPageSize: pageSize,\n\t\t\t\t\tUserID: UserID\n\t\t\t\t};\n\t\t\t\trequest(OrderDryingListGet, data)\n\t\t\t\t\t.then((res: any) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tlet orderList = res.OrderList;\n\t\t\t\t\t\torderList.map((item: any) => {\n\t\t\t\t\t\t\titem.OrderComment.CreatedDateTime = formatTime(\n\t\t\t\t\t\t\t\tnew Date(item.OrderComment.CreatedDate)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsesolve(res.OrderList);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err: any) => {\n\t\t\t\t\t\tlet mescroll: any = this.mescroll;\n\t\t\t\t\t\tmescroll.endErr();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tpreview(current: any, urls: any) {\n\t\t\tpreviewImage(current, urls);\n\t\t}\n\t}\n});\n",{"version":3,"sources":["myOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myOrder.vue","sourceRoot":"src/pages/ucenter/myOrder","sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<mescroll-uni @down=\"downCallback\" @up=\"upCallback\">\n\t\t\t<view class=\"i-comment-item\" v-for=\"(item, indexes) in orderList\" :key=\"indexes\">\n\t\t\t\t<view class=\"i-comment-date\">{{item.OrderComment.CreatedDateTime}}</view>\n\t\t\t\t<view class=\"i-comment-title\">{{item.ProductName}}</view>\n\t\t\t\t<view class=\"i-comment-comment\">{{item.OrderComment.Comment}}</view>\n\t\t\t\t<view class=\"i-comment-pic\">\n\t\t\t\t\t<view class=\"i-comment-pic-item\" v-for=\"(i, index) in item.ProductPicList\" :key=\"index\">\n\t\t\t\t\t\t<img :src=\"i\" @click=\"preview(i, item.ProductPicList)\" />\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</mescroll-uni>\n\t</view>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport {\n\trequest,\n\tnavigateTo,\n\tformatTime,\n\tpreviewImage,\n\tonShareAppMessage\n} from \"@/common/utils/util\";\nimport { OrderDryingListGet } from \"@/common/config/api\";\nimport MescrollUni from \"@/components/mescroll-diy/mescroll-beibei.vue\";\nexport default Vue.extend({\n\tcomponents: {\n\t\tMescrollUni\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmescroll: [],\n\t\t\torderList: []\n\t\t};\n\t},\n\tonShareAppMessage(e: any) {\n\t\treturn onShareAppMessage(e);\n\t},\n\tmethods: {\n\t\t// 下拉刷新的回调\n\t\tdownCallback(mescroll: any) {\n\t\t\tthis.mescroll = mescroll;\n\t\t\tmescroll.resetUpScroll();\n\t\t},\n\t\t// 上拉加载的回调: mescroll携带page的参数, 其中num:当前页 从1开始, size:每页数据条数,默认10\n\t\tupCallback(mescroll: any) {\n\t\t\tthis.getListDataFromNet(\n\t\t\t\tmescroll.num,\n\t\t\t\tmescroll.size,\n\t\t\t\t(curPageData: any) => {\n\t\t\t\t\tmescroll.endSuccess(curPageData.length);\n\t\t\t\t\tif (mescroll.num == 1) this.orderList = [];\n\t\t\t\t\tthis.orderList = this.orderList.concat(curPageData);\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tmescroll.endErr();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t// 联网加载列表数据\n\t\tasync getListDataFromNet(\n\t\t\tpageNum: any,\n\t\t\tpageSize: any,\n\t\t\tsuccessCallback: any,\n\t\t\terrorCallback: any\n\t\t) {\n\t\t\tconsole.log(pageNum, pageSize);\n\t\t\ttry {\n\t\t\t\tlet orderList: any = await this.getOrderDryingList(pageNum, pageSize);\n\t\t\t\tsuccessCallback && successCallback(orderList);\n\t\t\t} catch (e) {\n\t\t\t\terrorCallback && errorCallback();\n\t\t\t}\n\t\t},\n\t\tgetOrderDryingList(pageNum: any, pageSize: any) {\n\t\t\tlet UserInfo: any = uni.getStorageSync(\"UserInfo\");\n\t\t\tlet UserID = UserInfo.ID;\n\t\t\tif (!UserID) {\n\t\t\t\tnavigateTo(\"../../ucenter/login/login\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\treturn new Promise((sesolve, reject) => {\n\t\t\t\tlet data = {\n\t\t\t\t\tPageID: pageNum,\n\t\t\t\t\tPageSize: pageSize,\n\t\t\t\t\tUserID: UserID\n\t\t\t\t};\n\t\t\t\trequest(OrderDryingListGet, data)\n\t\t\t\t\t.then((res: any) => {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tlet orderList = res.OrderList;\n\t\t\t\t\t\torderList.map((item: any) => {\n\t\t\t\t\t\t\titem.OrderComment.CreatedDateTime = formatTime(\n\t\t\t\t\t\t\t\tnew Date(item.OrderComment.CreatedDate)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsesolve(res.OrderList);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err: any) => {\n\t\t\t\t\t\tlet mescroll: any = this.mescroll;\n\t\t\t\t\t\tmescroll.endErr();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tpreview(current: any, urls: any) {\n\t\t\tpreviewImage(current, urls);\n\t\t}\n\t}\n});\n</script>\n\n<style scoped>\n.i-comment-item {\n\tbackground-color: #fff;\n\tpadding: 10upx 30upx;\n\tborder-bottom: 2upx solid #f4f4f4;\n}\n\n.i-comment-date {\n\tfont-size: 28upx;\n\tcolor: #616161;\n}\n\n.i-comment-title {\n\tfont-size: 32upx;\n\tcolor: #333232;\n}\n\n.i-comment-comment {\n\tfont-size: 28upx;\n\tcolor: #333232;\n}\n\n.i-comment-pic {\n\tdisplay: flex;\n\talign-items: center;\n\tflex-wrap: wrap;\n}\n\n.i-comment-pic-item {\n\twidth: calc(33.33% - 2px);\n\tmargin: 20upx;\n\tpadding: 20upx;\n}\n\n.i-comment-pic-item img {\n\twidth: 162upx;\n\theight: 162upx;\n}\n</style>\n"]}]}