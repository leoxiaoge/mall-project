{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/pages/ucenter/addressShipping/addressShipping.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/pages/ucenter/addressShipping/addressShipping.vue","mtime":1564008179744},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js","mtime":1560261210667},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { request, navigateTo, navigateBack, showToast } from \"@/common/utils/util\";\nimport {\n\tUserAddressListGet,\n\tUserAddressDelete,\n\tUserAddressSetDefault\n} from \"@/common/config/api\";\nimport uNo from \"@/components/u-no/u-no.vue\";\nimport uniIcon from \"@/components/uni-icon/uni-icon.vue\";\nexport default Vue.extend({\n\tcomponents: {\n\t\tuNo,\n\t\tuniIcon\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taddressList: [], // 用户收货地址列表\n\t\t\ttype: \"checkbox-filled\", // 默认icon\n\t\t\tisDefault: false,\n\t\t\tdisabled: false,\n\t\t\tnoTitle: \"您还没有可以用收货地址喔~\",\n\t\t\tnoIcon: \"/static/icon/icon_no_address.png\",\n\t\t\tisData: false, // 是否有数据\n\t\t\tisMaxData: false // 最多5个\n\t\t};\n\t},\n\tonLoad(options: any) {\n\t\tconsole.log(\"onLoad\", options);\n\t\tthis.disabled = options.disabled;\n\t},\n\tonShow() {\n\t\tthis.getUserAddressList();\n\t},\n\tmethods: {\n\t\tgetUserAddressList() {\n\t\t\tlet data = {};\n\t\t\trequest(UserAddressListGet, data).then((res: any) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.addressList = res.AddressList;\n\t\t\t\tif (res.AddressList.length <= 0) {\n\t\t\t\t\tthis.isData = true;\n\t\t\t\t}\n\t\t\t\tif (res.AddressList.length <= 4) {\n\t\t\t\t\tthis.isMaxData = true;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 设置当前收货地址为默认的\n\t\tsetDefaultAddress(id: any) {\n\t\t\tlet AddressID = id;\n\t\t\tlet data = {\n\t\t\t\tAddressID: AddressID\n\t\t\t};\n\t\t\trequest(UserAddressSetDefault, data).then((res: any) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tshowToast(\"设置成功！\");\n\t\t\t\tthis.getUserAddressList();\n\t\t\t\tuni.setStorageSync(\"addressID\", id);\n\t\t\t});\n\t\t},\n\t\t// 编辑收货地址\n\t\teditAddress(id: any) {\n\t\t\tnavigateTo(\"../addressUpdate/addressUpdate?id=\" + id);\n\t\t},\n\t\t// 删除收货地址\n\t\tdeleteAddress(isDefault: any, id: any) {\n\t\t\tlet AddressID = id;\n\t\t\tuni.showModal({\n\t\t\t\ttitle: \"温馨提示\",\n\t\t\t\tcontent: \"是否删除收货地址！\",\n\t\t\t\tconfirmColor: \"#fe7f00\",\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tconsole.log(\"用户点击确定\");\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\tAddressID: AddressID\n\t\t\t\t\t\t};\n\t\t\t\t\t\trequest(UserAddressDelete, data).then((res: any) => {\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\tshowToast(\"删除成功！\");\n\t\t\t\t\t\t\tthis.getUserAddressList();\n\t\t\t\t\t\t\tif (isDefault === 1) {\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"addressID\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tconsole.log(\"用户点击取消\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 添加地址\n\t\taddAddress() {\n\t\t\tlet id = 0;\n\t\t\tnavigateTo(\"../addressUpdate/addressUpdate?id=\" + id);\n\t\t},\n\t\t// 设置存储地址\n\t\tsetAddress(id: string) {\n\t\t\tuni.setStorageSync(\"addressID\", id);\n\t\t\tnavigateBack(1)\n\t\t}\n\t}\n});\n",{"version":3,"sources":["addressShipping.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addressShipping.vue","sourceRoot":"src/pages/ucenter/addressShipping","sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"i-address\">\n\t\t\t<view class=\"i-address-item\" v-for=\"(item, index) in addressList\" :key=\"index\">\n\t\t\t\t<button class=\"address-button\" :disabled=\"!disabled\" @click=\"setAddress(item.ID)\">\n\t\t\t\t\t<view class=\"i-address-user i-flex\">\n\t\t\t\t\t\t<text class=\"i-address-name\">{{item.realName}}</text>\n\t\t\t\t\t\t<text class=\"i-address-mobile\">{{item.Mobile}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"i-address-text\">\n\t\t\t\t\t\t<text>{{item.Province}}{{item.City}}{{item.Area}}{{item.Address}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</button>\n\t\t\t\t<view class=\"i-address-bottom i-flex-between\">\n\t\t\t\t\t<view class=\"i-address-default i-flex\">\n\t\t\t\t\t\t<view class=\"i-address-icon\">\n\t\t\t\t\t\t\t<uni-icon\n\t\t\t\t\t\t\t\t:type=\"type\"\n\t\t\t\t\t\t\t\t:color=\"item.IsDefault === 1?'#fe7f00':'#8f8f94'\"\n\t\t\t\t\t\t\t\tsize=\"28\"\n\t\t\t\t\t\t\t\t@click=\"setDefaultAddress(item.ID)\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"i-address-default-text\">设为默认</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"i-address-operating i-flex\">\n\t\t\t\t\t\t<view class=\"i-address-edit i-flex\" @click=\"editAddress(item.ID)\">\n\t\t\t\t\t\t\t<image class=\"i-edit-address-icon\" />\n\t\t\t\t\t\t\t<text>编辑</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"i-address-delete i-flex\" @click=\"deleteAddress(item.IsDefault, item.ID)\">\n\t\t\t\t\t\t\t<image class=\"i-delete-address-icon\" />\n\t\t\t\t\t\t\t<text>删除</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"i-address-toast\">\n\t\t\t\t<text>最多可添加5个地址</text>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"i-uno\" v-if=\"isData\">\n\t\t\t<u-no :title=\"noTitle\" :thumb=\"noIcon\"></u-no>\n\t\t</view>\n\t\t<view class=\"i-add-button i-button\" v-if=\"isMaxData\">\n\t\t\t<view class=\"i-height\"></view>\n\t\t\t<button class=\"btn\" @click=\"addAddress\">添加地址</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport { request, navigateTo, navigateBack, showToast } from \"@/common/utils/util\";\nimport {\n\tUserAddressListGet,\n\tUserAddressDelete,\n\tUserAddressSetDefault\n} from \"@/common/config/api\";\nimport uNo from \"@/components/u-no/u-no.vue\";\nimport uniIcon from \"@/components/uni-icon/uni-icon.vue\";\nexport default Vue.extend({\n\tcomponents: {\n\t\tuNo,\n\t\tuniIcon\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taddressList: [], // 用户收货地址列表\n\t\t\ttype: \"checkbox-filled\", // 默认icon\n\t\t\tisDefault: false,\n\t\t\tdisabled: false,\n\t\t\tnoTitle: \"您还没有可以用收货地址喔~\",\n\t\t\tnoIcon: \"/static/icon/icon_no_address.png\",\n\t\t\tisData: false, // 是否有数据\n\t\t\tisMaxData: false // 最多5个\n\t\t};\n\t},\n\tonLoad(options: any) {\n\t\tconsole.log(\"onLoad\", options);\n\t\tthis.disabled = options.disabled;\n\t},\n\tonShow() {\n\t\tthis.getUserAddressList();\n\t},\n\tmethods: {\n\t\tgetUserAddressList() {\n\t\t\tlet data = {};\n\t\t\trequest(UserAddressListGet, data).then((res: any) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.addressList = res.AddressList;\n\t\t\t\tif (res.AddressList.length <= 0) {\n\t\t\t\t\tthis.isData = true;\n\t\t\t\t}\n\t\t\t\tif (res.AddressList.length <= 4) {\n\t\t\t\t\tthis.isMaxData = true;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 设置当前收货地址为默认的\n\t\tsetDefaultAddress(id: any) {\n\t\t\tlet AddressID = id;\n\t\t\tlet data = {\n\t\t\t\tAddressID: AddressID\n\t\t\t};\n\t\t\trequest(UserAddressSetDefault, data).then((res: any) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tshowToast(\"设置成功！\");\n\t\t\t\tthis.getUserAddressList();\n\t\t\t\tuni.setStorageSync(\"addressID\", id);\n\t\t\t});\n\t\t},\n\t\t// 编辑收货地址\n\t\teditAddress(id: any) {\n\t\t\tnavigateTo(\"../addressUpdate/addressUpdate?id=\" + id);\n\t\t},\n\t\t// 删除收货地址\n\t\tdeleteAddress(isDefault: any, id: any) {\n\t\t\tlet AddressID = id;\n\t\t\tuni.showModal({\n\t\t\t\ttitle: \"温馨提示\",\n\t\t\t\tcontent: \"是否删除收货地址！\",\n\t\t\t\tconfirmColor: \"#fe7f00\",\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tconsole.log(\"用户点击确定\");\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\tAddressID: AddressID\n\t\t\t\t\t\t};\n\t\t\t\t\t\trequest(UserAddressDelete, data).then((res: any) => {\n\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\tshowToast(\"删除成功！\");\n\t\t\t\t\t\t\tthis.getUserAddressList();\n\t\t\t\t\t\t\tif (isDefault === 1) {\n\t\t\t\t\t\t\t\tuni.removeStorageSync(\"addressID\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tconsole.log(\"用户点击取消\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 添加地址\n\t\taddAddress() {\n\t\t\tlet id = 0;\n\t\t\tnavigateTo(\"../addressUpdate/addressUpdate?id=\" + id);\n\t\t},\n\t\t// 设置存储地址\n\t\tsetAddress(id: string) {\n\t\t\tuni.setStorageSync(\"addressID\", id);\n\t\t\tnavigateBack(1)\n\t\t}\n\t}\n});\n</script>\n\n<style scoped>\npage {\n\tbackground-color: #fff;\n}\n\n.i-address-item {\n\tpadding: 20upx 0;\n}\n\n.address-button {\n\tbackground-color: #fff;\n}\n\n.i-address-user {\n\tpadding: 0 30upx;\n}\n\n.i-address-user {\n\tline-height: 1.6;\n}\n\n.i-address-mobile {\n\tmargin-left: 80upx;\n}\n\n.i-address-text {\n\tline-height: 2.4;\n\tpadding: 0 30upx;\n}\n\n.i-address-default-text {\n\tmargin-left: 10upx;\n\tcolor: #727272;\n}\n\n.i-address-operating {\n\tcolor: #727272;\n}\n\n.i-address-toast {\n\ttext-align: center;\n\tpadding-bottom: 15upx;\n}\n\n.i-address-edit text {\n\tmargin: 0 10upx;\n}\n\n.i-address-delete {\n\tmargin-left: 10upx;\n}\n\n.i-address-delete text {\n\tmargin: 0 10upx;\n}\n\n.i-edit-address-icon {\n\tbackground: url(https://api.tengpaisc.com/Resources/images/icon_edit_address.png)\n\t\tcenter no-repeat;\n\tbackground-size: 100%;\n\twidth: 48upx;\n\theight: 48upx;\n}\n\n.i-delete-address-icon {\n\tbackground: url(https://api.tengpaisc.com/Resources/images/icon_delete_address.png)\n\t\tcenter no-repeat;\n\tbackground-size: 100%;\n\twidth: 48upx;\n\theight: 48upx;\n}\n\n.i-height {\n\theight: 98upx;\n}\n\n.i-address-bottom {\n\tborder-top: 2upx solid #f4f4f4;\n\tborder-bottom: 2upx solid #f4f4f4;\n\tpadding: 10upx 30upx;\n}\n\n.i-add-button button {\n\tposition: fixed;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 98upx;\n\tline-height: 98upx;\n\tfont-size: 32upx;\n\tcolor: #fff;\n\tbackground-color: #fe7f00;\n\tborder: none;\n\tborder-radius: 0;\n}\n\n  uni-button[disabled]:not([type]), uni-button[disabled][type=default] {\n    color: rgba(0,0,0,.3);\n    background-color: #fff;\n  }\n</style>\n"]}]}