{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js??ref--13-2!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-3!/Users/lee/Desktop/github/mall-project/src/store/index.ts","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/store/index.ts","mtime":1574780371558},{"path":"/Users/lee/Desktop/github/mall-project/src/sfc.d.ts","mtime":1571064527934},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/tslib/tslib.d.ts","mtime":1560261193267},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue/types/index.d.ts","mtime":1554990780697},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue/types/vue.d.ts","mtime":1554990780697},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue/types/options.d.ts","mtime":1554990780697},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue/types/vnode.d.ts","mtime":1554990780697},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue/types/plugin.d.ts","mtime":1554990780697},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vuex/types/index.d.ts","mtime":1560261210230},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vuex/types/vue.d.ts","mtime":1560261210230},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vuex/types/helpers.d.ts","mtime":1560261210230},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/ts-md5/dist/md5.d.ts","mtime":1570451758001},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/types/uni-app/index.d.ts","mtime":1563798347908},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/types/uni-app/app.d.ts","mtime":1563798347908},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/types/uni-app/common.d.ts","mtime":1563798347908},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/types/uni-app/page.d.ts","mtime":1563798347908},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/types/uni-app/uni.d.ts","mtime":1563798347908},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/types/uni-app/vue.d.ts","mtime":1563798347908},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/types/html5plus/plus.d.ts","mtime":1563798347908},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@types/webpack-env/index.d.ts","mtime":1563798348579},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.esnext.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2019.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2018.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2017.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2016.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es5.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.core.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.collection.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.generator.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.iterable.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.symbol.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.promise.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.proxy.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.reflect.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2016.array.include.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2017.object.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2017.string.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2017.intl.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2018.promise.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2018.regexp.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2018.intl.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2019.array.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2019.object.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2019.string.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.es2019.symbol.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.esnext.bigint.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.esnext.intl.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.dom.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.dom.iterable.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/typescript/lib/lib.scripthost.d.ts","mtime":1571070287305},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/tslib/tslib.d.ts","mtime":1560261193267},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue/types/index.d.ts","mtime":1554990780697},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vuex/types/index.d.ts","mtime":1560261210230},{"path":"/Users/lee/Desktop/github/mall-project/src/common/utils/util.ts","mtime":1574091949725},{"path":"/Users/lee/Desktop/github/mall-project/src/common/config/api.ts","mtime":1574595133548},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/ts-loader/index.js","mtime":1560261210667},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"/Users/lee/Desktop/github/mall-project/node_modules/@babel/runtime/regenerator\"));\n\nvar _vue = _interopRequireDefault(require(\"vue\"));\n\nvar _vuex = _interopRequireDefault(require(\"vuex\"));\n\nvar _util = require(\"@/common/utils/util\");\n\nvar _api = require(\"@/common/config/api\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n_vue.default.use(_vuex.default);\n\nvar store = new _vuex.default.Store({\n  state: {\n    hasLogin: false,\n    hasBack: false,\n    hasApi: \"\",\n    hasData: \"\",\n    loginProvider: \"\",\n    code: null,\n    openid: null\n  },\n  mutations: {\n    login: function login(state, provider) {\n      state.hasLogin = true;\n      state.loginProvider = provider;\n    },\n    handlBack: function handlBack(state, back) {\n      state.hasBack = back;\n    },\n    handleApi: function handleApi(state, api) {\n      state.hasApi = api;\n    },\n    handData: function handData(state, data) {\n      state.hasData = data;\n    },\n    logout: function logout(state) {\n      state.hasLogin = false;\n      state.openid = null;\n    },\n    setCode: function setCode(state, code) {\n      state.code = code;\n    },\n    setOpenid: function setOpenid(state, openid) {\n      state.openid = openid;\n    }\n  },\n  actions: {\n    asyncInrement: function asyncInrement(context) {\n      console.log(context);\n      return new Promise(function (resolve) {\n        setTimeout(function () {\n          context.commit('setOpenid', '');\n          resolve();\n        }, 100);\n      });\n    },\n    // 公众号登录https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html\n    getJDKWXOpenID: function () {\n      var _getJDKWXOpenID = _asyncToGenerator(\n      /*#__PURE__*/\n      _regenerator.default.mark(function _callee(_ref) {\n        var commit, state;\n        return _regenerator.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref.commit, state = _ref.state;\n                _context.next = 3;\n                return new Promise(function (resolve, reject) {\n                  var ua = window.navigator.userAgent.toLowerCase();\n\n                  if (ua.match(/MicroMessenger/i) == \"micromessenger\") {\n                    var appid = \"wxe6bee6124bdf2d63\";\n                    var redirect_uri = encodeURIComponent(location.href);\n                    var code = getUrlParam(\"code\");\n\n                    if (!code && !state.openid) {\n                      window.location.replace(\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" + appid + \"&redirect_uri=\" + redirect_uri + \"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect\");\n                    }\n\n                    if (code && !state.openid && code !== uni.getStorageSync(\"code\")) {\n                      var JSCode = code;\n                      commit('setCode', JSCode);\n                      uni.setStorageSync(\"code\", code);\n                      var data = {\n                        JSCode: JSCode\n                      };\n                      (0, _util.request)(_api.GetWXOpenID, data).then(function (res) {\n                        commit('setOpenid', res.OpenID);\n                        resolve(res.OpenID);\n                      });\n                    }\n                  }\n                });\n\n              case 3:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getJDKWXOpenID(_x) {\n        return _getJDKWXOpenID.apply(this, arguments);\n      }\n\n      return getJDKWXOpenID;\n    }()\n  }\n}); // 判断公众号截取code\n\nvar getUrlParam = function getUrlParam(name) {\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n  var r = window.location.search.substr(1).match(reg);\n\n  if (r != null) {\n    return unescape(r[2]);\n  }\n\n  return null;\n};\n\nvar _default = store;\nexports.default = _default;",{"version":3,"sources":["/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-3!/Users/lee/Desktop/github/mall-project/src/store/index.ts"],"names":[],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { request } from \"@/common/utils/util\";\nimport { GetWXOpenID } from \"@/common/config/api\";\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n\tstate: {\n\t\thasLogin: false,\n\t\thasBack: false,\n\t\thasApi: \"\",\n\t\thasData: \"\",\n\t\tloginProvider: \"\",\n\t\tcode: null,\n\t\topenid: null\n\t},\n\tmutations: {\n\t\tlogin(state, provider) {\n\t\t\tstate.hasLogin = true;\n\t\t\tstate.loginProvider = provider;\n\t\t},\n\t\thandlBack(state, back) {\n\t\t\tstate.hasBack = back;\n\t\t},\n\t\thandleApi(state, api) {\n\t\t\tstate.hasApi = api;\n\t\t},\n\t\thandData(state, data) {\n\t\t\tstate.hasData = data;\n\t\t},\n\t\tlogout(state) {\n\t\t\tstate.hasLogin = false;\n\t\t\tstate.openid = null;\n\t\t},\n\t\tsetCode(state, code) {\n\t\t\tstate.code = code;\n\t\t},\n\t\tsetOpenid(state, openid) {\n\t\t\tstate.openid = openid;\n\t\t}\n\t},\n\tactions: {\n\t\tasyncInrement(context) {\n\t\t\tconsole.log(context)\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tcontext.commit('setOpenid', '');\n\t\t\t\t\tresolve();\n\t\t\t\t}, 100)\n\t\t\t});\n\t\t},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t// 公众号登录https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html\n\t\tgetJDKWXOpenID: async function ({\n\t\t\tcommit,\n\t\t\tstate\n\t\t}) {\n\t\t\treturn await new Promise((resolve, reject) => {\n\t\t\t\tlet ua: any = window.navigator.userAgent.toLowerCase();\n\t\t\t\tif (ua.match(/MicroMessenger/i) == \"micromessenger\") {\n\t\t\t\t\tlet appid = \"wxe6bee6124bdf2d63\";\n\t\t\t\t\tlet redirect_uri = encodeURIComponent(location.href);\n\t\t\t\t\tlet code = getUrlParam(\"code\");\n\t\t\t\t\tif (!code && !state.openid) {\n\t\t\t\t\t\twindow.location.replace(\n\t\t\t\t\t\t\t\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" +\n\t\t\t\t\t\t\tappid +\n\t\t\t\t\t\t\t\"&redirect_uri=\" +\n\t\t\t\t\t\t\tredirect_uri +\n\t\t\t\t\t\t\t\"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect\"\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (code && !state.openid && code !== uni.getStorageSync(\"code\")) {\n\t\t\t\t\t\tlet JSCode = code;\n\t\t\t\t\t\tcommit('setCode', JSCode);\n\t\t\t\t\t\tuni.setStorageSync(\"code\", code);\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\tJSCode: JSCode\n\t\t\t\t\t\t};\n\t\t\t\t\t\trequest(GetWXOpenID, data).then((res: any) => {\n\t\t\t\t\t\t\tcommit('setOpenid', res.OpenID);\n\t\t\t\t\t\t\tresolve(res.OpenID);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t}\n})\n\n// 判断公众号截取code\nconst getUrlParam = (name: any) => {\n\tlet reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n\tlet r = window.location.search.substr(1).match(reg);\n\tif (r != null) {\n\t\treturn unescape(r[2]);\n\t}\n\treturn null;\n};\n\nexport default store"],"sourceRoot":""}]}