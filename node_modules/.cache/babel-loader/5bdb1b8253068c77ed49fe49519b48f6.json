{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-2!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/components/uParse/src/wxParse.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/components/uParse/src/wxParse.vue","mtime":1565094104820},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _html2json = _interopRequireDefault(require(\"./libs/html2json\"));\n\nvar _wxParseTemplate = _interopRequireDefault(require(\"./components/wxParseTemplate\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default2 = {\n  name: \"wxParse\",\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    className: {\n      type: String,\n      default: \"\"\n    },\n    content: {\n      type: String,\n      default: \"\"\n    },\n    noData: {\n      type: String,\n      default: \"\"\n    },\n    startHandler: {\n      type: Function,\n      default: function _default() {\n        return function (node) {\n          node.attr.class = null;\n          node.attr.style = null;\n        };\n      }\n    },\n    endHandler: {\n      type: Function,\n      default: null\n    },\n    charsHandler: {\n      type: Function,\n      default: null\n    },\n    imageProp: {\n      type: Object,\n      default: function _default() {\n        return {\n          mode: \"aspectFit\",\n          padding: 0,\n          lazyLoad: false,\n          domain: \"\"\n        };\n      }\n    }\n  },\n  provide: function provide() {\n    return {\n      uparse: this\n    };\n  },\n  components: {\n    wxParseTemplate: _wxParseTemplate.default\n  },\n  data: function data() {\n    return {\n      imageUrls: []\n    };\n  },\n  computed: {\n    nodes: function nodes() {\n      var content = this.content,\n          noData = this.noData,\n          imageProp = this.imageProp,\n          startHandler = this.startHandler,\n          endHandler = this.endHandler,\n          charsHandler = this.charsHandler;\n      var parseData = content || noData;\n      var customHandler = {\n        start: startHandler,\n        end: endHandler,\n        chars: charsHandler\n      };\n      var results = (0, _html2json.default)(parseData, customHandler, imageProp, this);\n      this.imageUrls = results.imageUrls;\n      return results.nodes;\n    }\n  },\n  methods: {\n    navigate: function navigate(href, $event) {\n      this.$emit(\"navigate\", href, $event);\n    },\n    preview: function preview(src, $event) {\n      if (!this.imageUrls.length) return;\n      wx.previewImage({\n        current: src,\n        urls: this.imageUrls\n      });\n      this.$emit(\"preview\", src, $event);\n    },\n    removeImageUrl: function removeImageUrl(src) {\n      var imageUrls = this.imageUrls;\n      imageUrls.splice(imageUrls.indexOf(src), 1);\n    }\n  }\n};\nexports.default = _default2;",{"version":3,"sources":["wxParse.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<!--基础元素-->\n\t<div class=\"wxParse\" :class=\"className\" v-if=\"!loading\">\n\t\t<block v-for=\"(node,index) of nodes\" :key=\"index\">\n\t\t\t<wxParseTemplate :node=\"node\" />\n\t\t</block>\n\t</div>\n</template>\n\n<script>\nimport HtmlToJson from \"./libs/html2json\";\nimport wxParseTemplate from \"./components/wxParseTemplate\";\n\nexport default {\n\tname: \"wxParse\",\n\tprops: {\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\tclassName: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\tcontent: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\tnoData: {\n\t\t\ttype: String,\n\t\t\tdefault: \"\"\n\t\t},\n\t\tstartHandler: {\n\t\t\ttype: Function,\n\t\t\tdefault() {\n\t\t\t\treturn node => {\n\t\t\t\t\tnode.attr.class = null;\n\t\t\t\t\tnode.attr.style = null;\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tendHandler: {\n\t\t\ttype: Function,\n\t\t\tdefault: null\n\t\t},\n\t\tcharsHandler: {\n\t\t\ttype: Function,\n\t\t\tdefault: null\n\t\t},\n\t\timageProp: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {\n\t\t\t\t\tmode: \"aspectFit\",\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tlazyLoad: false,\n\t\t\t\t\tdomain: \"\"\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\tuparse: this\n\t\t};\n\t},\n\tcomponents: {\n\t\twxParseTemplate\n\t},\n\tdata() {\n\t\treturn {\n\t\t\timageUrls: []\n\t\t};\n\t},\n\tcomputed: {\n\t\tnodes() {\n\t\t\tconst {\n\t\t\t\tcontent,\n\t\t\t\tnoData,\n\t\t\t\timageProp,\n\t\t\t\tstartHandler,\n\t\t\t\tendHandler,\n\t\t\t\tcharsHandler\n\t\t\t} = this;\n\t\t\tconst parseData = content || noData;\n\t\t\tconst customHandler = {\n\t\t\t\tstart: startHandler,\n\t\t\t\tend: endHandler,\n\t\t\t\tchars: charsHandler\n\t\t\t};\n\t\t\tconst results = HtmlToJson(parseData, customHandler, imageProp, this);\n\t\t\tthis.imageUrls = results.imageUrls;\n\t\t\treturn results.nodes;\n\t\t}\n\t},\n\tmethods: {\n\t\tnavigate(href, $event) {\n\t\t\tthis.$emit(\"navigate\", href, $event);\n\t\t},\n\t\tpreview(src, $event) {\n\t\t\tif (!this.imageUrls.length) return;\n\t\t\twx.previewImage({\n\t\t\t\tcurrent: src,\n\t\t\t\turls: this.imageUrls\n\t\t\t});\n\t\t\tthis.$emit(\"preview\", src, $event);\n\t\t},\n\t\tremoveImageUrl(src) {\n\t\t\tconst { imageUrls } = this;\n\t\t\timageUrls.splice(imageUrls.indexOf(src), 1);\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n</style>\n"],"sourceRoot":"src/components/uParse/src"}]}