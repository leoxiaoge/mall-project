{"remainingRequest":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-2!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js!/Users/lee/Desktop/github/mall-project/src/components/search/search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lee/Desktop/github/mall-project/src/components/search/search.vue","mtime":1564865063264},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/babel-loader/lib/index.js","mtime":1560261191357},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js","mtime":1563798331564},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/cache-loader/dist/cjs.js","mtime":1554990705312},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/vue-loader/lib/index.js","mtime":1563798333387},{"path":"/Users/lee/Desktop/github/mall-project/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-scoped-loader/index.js","mtime":1563798331564}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default2 = {\n  data: function data() {\n    return {\n      keyWord: '',\n      entering: false,\n      // 判断是处于输入状态\n      openVoice: false,\n      // 打开语音功能\n      manager: null,\n      recording: false,\n      // 正在录音\n      recordStatus: 0 // 状态： 0 - 录音中 1- 翻译中 2 - 翻译完成/二次翻译\n\n    };\n  },\n  props: {\n    btnLinkInput: {\n      type: Boolean,\n      default: false //控制有btn时，按钮与input框是否相连\n\n    },\n    inputAttr: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    btnAttr: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    voiceAttr: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    iconAttr: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    iconSrc: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    type: {\n      type: String,\n      default: 'text'\n    },\n    password: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    maxLength: {\n      type: Number,\n      default: -1\n    },\n    cursorSpacing: {\n      type: Number,\n      default: 0\n    },\n    focus: {\n      type: Boolean,\n      default: false\n    },\n    confirmType: {\n      type: String,\n      default: '搜索'\n    },\n    confirmHold: {\n      type: Boolean,\n      default: false\n    },\n    cursor: {\n      type: Number\n    },\n    selectionStart: {\n      type: Number,\n      default: -1\n    },\n    selectionEnd: {\n      type: Number,\n      default: -1\n    },\n    adjustPosition: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    showVoiceIcon: function showVoiceIcon(val) {\n      if (!val) {\n        this.openVoice = false;\n      }\n    },\n    keyWord: function keyWord(val) {\n      if (val.length === 0) {\n        this.entering = false;\n      }\n    }\n  },\n  computed: {\n    showPlaceholderIcon: function showPlaceholderIcon() {\n      return this.getPlaceholderText && this.watchToolIcon('placeholder');\n    },\n    showLogoIcon: function showLogoIcon() {\n      return this.watchToolIcon('logo');\n    },\n    showVoiceIcon: function showVoiceIcon() {\n      return this.watchToolIcon('voice') && !this.keyWord;\n    },\n    showScanIcon: function showScanIcon() {\n      return this.watchToolIcon('scan') && !this.entering && !this.keyWord;\n    },\n    showClearIcon: function showClearIcon() {\n      return this.watchToolIcon('clear') && this.keyWord;\n    },\n    showSearchIcon: function showSearchIcon() {\n      return this.watchToolIcon('search') && this.keyWord;\n    },\n    getFontSize: function getFontSize() {\n      return uni.upx2px(this.inputAttr.fontSize || 28) + 'px';\n    },\n    getHeight: function getHeight() {\n      return uni.upx2px(this.inputAttr.height && this.inputAttr.height > 70 ? this.inputAttr.height : 70) + 'px';\n    },\n    getBorder: function getBorder() {\n      return this.inputAttr.border || '1px solid #c8c7cc';\n    },\n    getBorderWidth: function getBorderWidth() {\n      return uni.upx2px(this.inputAttr.borderWidth || 1) + 'px';\n    },\n    getBorderRadius: function getBorderRadius() {\n      return uni.upx2px(this.inputAttr.borderRadius || 100) + 'px';\n    },\n    getColor: function getColor() {\n      return this.inputAttr.color || '#333';\n    },\n    getBackgroundColor: function getBackgroundColor() {\n      return this.inputAttr.backgroundColor || '#ffffff';\n    },\n    getPlaceholderPosition: function getPlaceholderPosition() {\n      return this.inputAttr.placeholderPosition || 'left';\n    },\n    getPlaceholderColor: function getPlaceholderColor() {\n      return this.inputAttr.placeholderColor || '#808080';\n    },\n    getPlaceholderText: function getPlaceholderText() {\n      return this.inputAttr.placeholderText || ' ';\n    },\n    getPlaceholderPaddingLeft: function getPlaceholderPaddingLeft() {\n      if (this.showLogoIcon && this.getPlaceholderPosition === 'left') {\n        return uni.upx2px((this.iconAttr.width ? this.iconAttr.width : this.inputAttr.height || 70) + (this.inputAttr.paddingLeft || 0)) + 'px';\n      } else {\n        return uni.upx2px(this.inputAttr.paddingLeft || 20) + 'px';\n      }\n    },\n    getPaddingLeft: function getPaddingLeft() {\n      if (this.showLogoIcon) {\n        return uni.upx2px(this.inputAttr.paddingLeft || 0) + 'px';\n      } else {\n        return uni.upx2px(this.inputAttr.paddingLeft && this.inputAttr.paddingLeft > 20 ? this.inputAttr.paddingLeft : 20) + 'px';\n      }\n    },\n    getIconWidth: function getIconWidth() {\n      return this.iconAttr.width ? uni.upx2px(this.iconAttr.width) + 'px' : this.getHeight;\n    },\n    getIconHeight: function getIconHeight() {\n      return this.iconAttr.height ? uni.upx2px(this.iconAttr.height) + 'px' : this.getHeight;\n    },\n    getIconPadding: function getIconPadding() {\n      return uni.upx2px(this.iconAttr.padding) + 'px';\n    },\n    getBtnEnable: function getBtnEnable() {\n      return this.btnAttr.enable || false;\n    },\n    getBtnText: function getBtnText() {\n      return this.btnAttr.text || '';\n    },\n    getBtnBackgroundColor: function getBtnBackgroundColor() {\n      return this.btnAttr.backgroundColor || '#ffffff';\n    },\n    getBtnColor: function getBtnColor() {\n      return this.btnAttr.color || '#333';\n    },\n    getBtnBorder: function getBtnBorder() {\n      return this.btnAttr.border || 'none';\n    },\n    getBtnBackgroundImage: function getBtnBackgroundImage() {\n      return 'url(' + this.btnAttr.backgroundImage + ')';\n    },\n    getBtnBackgroundPosition: function getBtnBackgroundPosition() {\n      return this.btnAttr.backgroundPosition || 'center center';\n    },\n    getBtnbackgroundSize: function getBtnbackgroundSize() {\n      return this.btnAttr.backgroundSize || 'contain';\n    },\n    getBtnBorderRadius: function getBtnBorderRadius() {\n      return uni.upx2px(this.btnAttr.borderRadius || 30) + 'px';\n    },\n    getBtnFontSize: function getBtnFontSize() {\n      return uni.upx2px(this.btnAttr.fontSize || 28) + 'px';\n    },\n    getBtnPaddingLeft: function getBtnPaddingLeft() {\n      return uni.upx2px(this.btnAttr.paddingLeft || 10) + 'px';\n    },\n    getBtnPaddingRight: function getBtnPaddingRight() {\n      return uni.upx2px(this.btnAttr.paddingRight || 0) + 'px';\n    },\n    getBtnBorderWidth: function getBtnBorderWidth() {\n      return uni.upx2px(this.btnAttr.borderWidth || 1) + 'px';\n    },\n    getVoiceAttrBtnColor: function getVoiceAttrBtnColor() {\n      return this.voiceAttr.btnColor || '#fff';\n    },\n    getVoiceAttrBtnActiveColor: function getVoiceAttrBtnActiveColor() {\n      return this.voiceAttr.btnActiveColor || '#fff';\n    },\n    getVoiceAttrListenColor: function getVoiceAttrListenColor() {\n      return this.voiceAttr.listenColor || '#fff';\n    },\n    getVoiceAttrBtnBackgroundColor: function getVoiceAttrBtnBackgroundColor() {\n      return this.voiceAttr.BtnBackgroundColor || '#c8c7cc';\n    },\n    getVoiceAttrBtnBackgroundActiveColor: function getVoiceAttrBtnBackgroundActiveColor() {\n      return this.voiceAttr.BtnBackgroundActiveColor || '#fe7f00';\n    },\n    getVoiceAttrListenBackgroundColor: function getVoiceAttrListenBackgroundColor() {\n      return this.voiceAttr.listenBackgroundColor || '#fe7f00';\n    },\n    getVoiceAttrText: function getVoiceAttrText() {\n      return this.voiceAttr.text || '按住 说活';\n    },\n    getVoiceAttrActiveText: function getVoiceAttrActiveText() {\n      return this.voiceAttr.activeText || '松开 结束';\n    }\n  },\n  methods: {\n    watchToolIcon: function watchToolIcon(icon) {\n      var flag = false;\n\n      for (var _i = 0, _Object$keys = Object.keys(this.iconSrc); _i < _Object$keys.length; _i++) {\n        var key = _Object$keys[_i];\n\n        if (icon === key && this.iconSrc[key]) {\n          flag = true;\n        }\n      }\n\n      return flag;\n    },\n    inputFocus: function inputFocus() {\n      this.$emit('focus');\n    },\n    blur: function blur() {\n      if (!this.keyWord && this.watchToolIcon('scan')) {\n        this.entering = false;\n      }\n\n      this.$emit('blur', this.keyWord);\n    },\n    input: function input() {\n      this.entering = true;\n      this.$emit('input', this.keyWord);\n    },\n    confirm: function confirm() {\n      this.$emit('confirm');\n    },\n    clear: function clear() {\n      this.keyWord = '';\n      this.$emit('clear');\n    },\n    scan: function scan() {\n      // 扫码\n      uni.scanCode({\n        success: function success(res) {\n          this.$emit('scan', res);\n        }\n      });\n    },\n    search: function search() {\n      // 搜索\n      this.$emit('search', this.keyWord);\n    },\n    btnClick: function btnClick() {\n      // 按钮点击事件\n      this.$emit('btnClick', this.btnAttr.text);\n    },\n    voice: function voice() {\n      this.openVoice = true;\n    },\n    startHandel: function startHandel() {\n      var _this = this;\n\n      console.log('按下录音按钮');\n      this.manager.start({\n        lang: \"zh_CN\"\n      });\n      uni.vibrateShort({\n        success: function success() {\n          _this.recordStatus = 0;\n          _this.recording = true;\n        }\n      });\n    },\n    endHandle: function endHandle() {\n      // 防止重复触发stop函数\n      if (!this.recording || this.recordStatus !== 0) {\n        console.warn(\"has finished!\");\n        return;\n      }\n\n      console.log('松开了按钮');\n      this.manager.stop(); // this.listenManagerStop()\n    },\n    listenRecordLnit: function listenRecordLnit() {\n      this.listenManagerStart();\n      this.listenManagerStop();\n      this.listenManagerRecognize();\n      this.listenManagerError();\n    },\n    listenManagerStart: function listenManagerStart() {\n      this.manager.onStart = function (res) {\n        console.log('开始录音', res);\n      };\n    },\n    listenManagerRecognize: function listenManagerRecognize() {\n      this.manager.onRecognize = function (res) {\n        console.log('识别了新内容', res);\n      };\n    },\n    listenManagerError: function listenManagerError() {\n      var _this2 = this;\n\n      this.manager.onError = function (res) {\n        console.log('识别错误事件', res);\n        _this2.recording = false;\n      };\n    },\n    listenManagerStop: function listenManagerStop() {\n      var _this3 = this;\n\n      // 识别结束事件\n      this.manager.onStop = function (res) {\n        console.log('识别结束事件', res);\n        var text = res.result;\n\n        if (text === '') {\n          _this3.showRecordEmptyTip();\n\n          return;\n        }\n\n        _this3.recordStatus = 0;\n        _this3.keyWord = res.result.substr(0, res.result.length - 1);\n        _this3.recording = false;\n\n        if (_this3.keyWord) {\n          _this3.$emit('manager', _this3.keyWord);\n        }\n      };\n    },\n    showRecordEmptyTip: function showRecordEmptyTip() {\n      this.recording = false;\n      uni.showToast({\n        title: '什么也没听到',\n        icon: 'none',\n        duration: 1000\n      });\n    }\n  }\n};\nexports.default = _default2;",{"version":3,"sources":["search.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<view :class=\"['search-input',btnLinkInput ? 'btn-link-input': '']\" :style=\"{height:getHeight}\">\r\n\t\t<view class=\"input-wrap\" :style=\"{fontSize:getFontSize,backgroundColor:getBackgroundColor,border:getBorder,borderWidth:getBorderWidth,borderRadius:getBorderRadius}\">\r\n\t\t\t<view :class=\"['placeholder-wrap',getPlaceholderPosition]\" :style=\"{paddingLeft:getPlaceholderPaddingLeft,color:getPlaceholderColor}\"\r\n\t\t\t v-if=\"!keyWord && getPlaceholderText && !entering\">\r\n\t\t\t\t<image v-if=\"showPlaceholderIcon\" class=\"icon\" mode=\"aspectFit\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"\r\n\t\t\t\t :src=\"iconSrc.placeholder\"></image>\r\n\t\t\t\t<text class=\"text\">{{getPlaceholderText}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"basic\" :style=\"{height:getHeight,borderRadius:getBorderRadius,color:getColor}\">\r\n\t\t\t\t<image v-if=\"showLogoIcon\" class=\"icon icon-logo\" mode=\"aspectFit\" :src=\"iconSrc.logo\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t<input class=\"input\" placeholder=\"请输入需要搜索的商品名称！\" :style={paddingLeft:getPaddingLeft} :type=\"type\" :password=\"password\" :disabled=\"disabled\"\r\n\t\t\t\t :maxlength=\"maxLength\" :cursor-spacing=\"cursorSpacing\" :focus=\"focus\" :confirm-type=\"confirmType\" :confirm-hold=\"confirmHold\"\r\n\t\t\t\t :cursor=\"cursor\" :selection-start=\"selectionStart\" :selection-end=\"selectionEnd\" :adjust-position=\"adjustPosition\"\r\n\t\t\t\t v-model=\"keyWord\" @focus=\"inputFocus\" @blur=\"blur\" @input=\"input\" @confirm=\"confirm\" />\r\n\t\t\t\t<view class=\"icon-btn-wrap\">\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showVoiceIcon\" @click=\"voice\" mode=\"aspectFit\" :src=\"iconSrc.voice\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showScanIcon\" @click=\"scan\" mode=\"aspectFit\" :src=\"iconSrc.scan\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showClearIcon\" @click=\"clear\" mode=\"aspectFit\" :src=\"iconSrc.clear\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<image class=\"icon\" v-if=\"showSearchIcon\" @click=\"search\" mode=\"aspectFit\" :src=\"iconSrc.search\" :style=\"{height:getIconHeight,width:getIconWidth,padding:getIconPadding,transform:'scale('+ iconAttr.scale + ')'}\"></image>\r\n\t\t\t\t\t<slot name=\"icon\"></slot>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn\" v-if=\"getBtnEnable\" :style=\"{color:getBtnColor,backgroundColor:getBtnBackgroundColor,borderRadius:getBtnBorderRadius,fontSize:getBtnFontSize,border:getBtnBorder,borderWidth:getBtnBorderWidth,lineHeight:getHeight,paddingLeft:getBtnPaddingLeft,paddingRight:getBtnPaddingRight, backgroundImage:getBtnBackgroundImage, bacbackgroundPosition:getBtnBackgroundPosition,backgroundSize:getBtnbackgroundSize}\"\r\n\t\t @click=\"btnClick\">\r\n\t\t\t{{getBtnText}}\r\n\t\t</view>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<view class=\"voice-module\" v-if=\"openVoice\">\r\n\t\t\t<cover-view :class=\"['recond-btn',recording ? 'disabled': '']\" :style=\"{backgroundColor: recording ? getVoiceAttrBtnBackgroundActiveColor : getVoiceAttrBtnBackgroundColor,color:recording ? getVoiceAttrBtnActiveColor : getVoiceAttrBtnColor}\"\r\n\t\t\t @touchstart=\"startHandel\" @touchend=\"endHandle()\" @touchcancel=\"endHandle()\">{{recording ? getVoiceAttrActiveText : getVoiceAttrText}}</cover-view>\r\n\t\t\t<view class=\"listen-wrap\" v-if=\"recording\" :style=\"{backgroundColor: getVoiceAttrListenBackgroundColor}\">\r\n\t\t\t\t<text class=\"text\" :style=\"{color:getVoiceAttrListenColor}\">正在聆听</text>\r\n\t\t\t\t<view class=\"animate\">\r\n\t\t\t\t\t<text class=\"one\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"two\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"three\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"four\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t\t<text class=\"five\" :style=\"{backgroundColor:getVoiceAttrListenColor}\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tkeyWord: '',\r\n\t\t\t\tentering: false, // 判断是处于输入状态\r\n\t\t\t\topenVoice: false, // 打开语音功能\r\n\t\t\t\tmanager: null,\r\n\t\t\t\trecording: false, // 正在录音\r\n\t\t\t\trecordStatus: 0, // 状态： 0 - 录音中 1- 翻译中 2 - 翻译完成/二次翻译\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tbtnLinkInput: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false //控制有btn时，按钮与input框是否相连\r\n\t\t\t},\r\n\t\t\tinputAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbtnAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault:function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvoiceAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ticonAttr: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ticonSrc: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttype: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'text'\r\n\t\t\t},\r\n\t\t\tpassword: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t},\r\n\t\t\tdisabled: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmaxLength: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tcursorSpacing: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tfocus: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tconfirmType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '搜索'\r\n\t\t\t},\r\n\t\t\tconfirmHold: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tcursor: {\r\n\t\t\t\ttype: Number\r\n\t\t\t},\r\n\t\t\tselectionStart: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tselectionEnd: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: -1\r\n\t\t\t},\r\n\t\t\tadjustPosition: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tshowVoiceIcon(val) {\r\n\t\t\t\tif (!val) {\r\n\t\t\t\t\tthis.openVoice = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tkeyWord(val) {\r\n\t\t\t\tif (val.length===0) {\r\n\t\t\t\t\tthis.entering = false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tshowPlaceholderIcon() {\r\n\t\t\t\treturn this.getPlaceholderText && this.watchToolIcon('placeholder')\r\n\t\t\t},\r\n\t\t\tshowLogoIcon() {\r\n\t\t\t\treturn this.watchToolIcon('logo')\r\n\t\t\t},\r\n\t\t\tshowVoiceIcon() {\r\n\t\t\t\treturn this.watchToolIcon('voice') && !this.keyWord\r\n\t\t\t},\r\n\t\t\tshowScanIcon() {\r\n\t\t\t\treturn this.watchToolIcon('scan') && !this.entering && !this.keyWord\r\n\t\t\t},\r\n\t\t\tshowClearIcon() {\r\n\t\t\t\treturn this.watchToolIcon('clear') && this.keyWord\r\n\t\t\t},\r\n\t\t\tshowSearchIcon() {\r\n\t\t\t\treturn this.watchToolIcon('search') && this.keyWord\r\n\t\t\t},\r\n\t\t\tgetFontSize() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.fontSize || 28) + 'px'\r\n\t\t\t},\r\n\t\t\tgetHeight() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.height && this.inputAttr.height > 70 ? this.inputAttr.height : 70) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBorder() {\r\n\t\t\t\treturn this.inputAttr.border || '1px solid #c8c7cc'\r\n\t\t\t},\r\n\t\t\tgetBorderWidth() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.borderWidth || 1) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBorderRadius() {\r\n\t\t\t\treturn uni.upx2px(this.inputAttr.borderRadius || 100) + 'px'\r\n\t\t\t},\r\n\t\t\tgetColor() {\r\n\t\t\t\treturn this.inputAttr.color || '#333'\r\n\t\t\t},\r\n\t\t\tgetBackgroundColor() {\r\n\t\t\t\treturn this.inputAttr.backgroundColor || '#ffffff'\r\n\t\t\t},\r\n\t\t\tgetPlaceholderPosition() {\r\n\t\t\t\treturn this.inputAttr.placeholderPosition || 'left'\r\n\t\t\t},\r\n\t\t\tgetPlaceholderColor() {\r\n\t\t\t\treturn this.inputAttr.placeholderColor || '#808080'\r\n\t\t\t},\r\n\t\t\tgetPlaceholderText() {\r\n\t\t\t\treturn this.inputAttr.placeholderText || ' '\r\n\t\t\t},\r\n\t\t\tgetPlaceholderPaddingLeft() {\r\n\t\t\t\tif (this.showLogoIcon && this.getPlaceholderPosition === 'left') {\r\n\t\t\t\t\treturn uni.upx2px((this.iconAttr.width ? this.iconAttr.width : (this.inputAttr.height || 70)) + (this.inputAttr.paddingLeft ||\r\n\t\t\t\t\t\t\t0)) +\r\n\t\t\t\t\t\t'px'\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn uni.upx2px(this.inputAttr.paddingLeft || 20) + 'px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetPaddingLeft() {\r\n\t\t\t\tif (this.showLogoIcon) {\r\n\t\t\t\t\treturn uni.upx2px(this.inputAttr.paddingLeft || 0) + 'px'\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn uni.upx2px((this.inputAttr.paddingLeft && this.inputAttr.paddingLeft > 20) ? this.inputAttr.paddingLeft :\r\n\t\t\t\t\t\t20) + 'px'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetIconWidth() {\r\n\t\t\t\treturn this.iconAttr.width ? uni.upx2px(this.iconAttr.width) + 'px' : this.getHeight\r\n\t\t\t},\r\n\t\t\tgetIconHeight() {\r\n\t\t\t\treturn this.iconAttr.height ? uni.upx2px(this.iconAttr.height) + 'px' : this.getHeight\r\n\t\t\t},\r\n\t\t\tgetIconPadding() {\r\n\t\t\t\treturn uni.upx2px(this.iconAttr.padding) + 'px'\r\n\t\t\t},\r\n\r\n\t\t\tgetBtnEnable() {\r\n\t\t\t\treturn this.btnAttr.enable || false\r\n\t\t\t},\r\n\t\t\tgetBtnText() {\r\n\t\t\t\treturn this.btnAttr.text || ''\r\n\t\t\t},\r\n\t\t\tgetBtnBackgroundColor() {\r\n\t\t\t\treturn this.btnAttr.backgroundColor || '#ffffff'\r\n\t\t\t},\r\n\t\t\tgetBtnColor() {\r\n\t\t\t\treturn this.btnAttr.color || '#333'\r\n\t\t\t},\r\n\t\t\tgetBtnBorder() {\r\n\t\t\t\treturn this.btnAttr.border || 'none'\r\n\t\t\t},\r\n\t\t\tgetBtnBackgroundImage() {\r\n\t\t\t\treturn 'url(' + this.btnAttr.backgroundImage + ')'\r\n\t\t\t},\r\n\t\t\tgetBtnBackgroundPosition() {\r\n\t\t\t\treturn this.btnAttr.backgroundPosition || 'center center'\r\n\t\t\t},\r\n\t\t\tgetBtnbackgroundSize() {\r\n\t\t\t\treturn this.btnAttr.backgroundSize || 'contain'\r\n\t\t\t},\r\n\t\t\tgetBtnBorderRadius() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.borderRadius || 30) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnFontSize() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.fontSize || 28) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnPaddingLeft() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.paddingLeft || 10) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnPaddingRight() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.paddingRight || 0) + 'px'\r\n\t\t\t},\r\n\t\t\tgetBtnBorderWidth() {\r\n\t\t\t\treturn uni.upx2px(this.btnAttr.borderWidth || 1) + 'px'\r\n\t\t\t},\r\n\r\n\t\t\tgetVoiceAttrBtnColor() {\r\n\t\t\t\treturn this.voiceAttr.btnColor || '#fff'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrBtnActiveColor() {\r\n\t\t\t\treturn this.voiceAttr.btnActiveColor || '#fff'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrListenColor() {\r\n\t\t\t\treturn this.voiceAttr.listenColor || '#fff'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrBtnBackgroundColor() {\r\n\t\t\t\treturn this.voiceAttr.BtnBackgroundColor || '#c8c7cc'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrBtnBackgroundActiveColor() {\r\n\t\t\t\treturn this.voiceAttr.BtnBackgroundActiveColor || '#fe7f00'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrListenBackgroundColor() {\r\n\t\t\t\treturn this.voiceAttr.listenBackgroundColor || '#fe7f00'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrText() {\r\n\t\t\t\treturn this.voiceAttr.text || '按住 说活'\r\n\t\t\t},\r\n\t\t\tgetVoiceAttrActiveText() {\r\n\t\t\t\treturn this.voiceAttr.activeText || '松开 结束'\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\twatchToolIcon(icon) {\r\n\t\t\t\tlet flag = false\r\n\t\t\t\tfor (let key of Object.keys(this.iconSrc)) {\r\n\t\t\t\t\tif (icon === key && this.iconSrc[key]) {\r\n\t\t\t\t\t\tflag = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn flag\r\n\t\t\t},\r\n\t\t\tinputFocus() {\r\n\t\t\t\tthis.$emit('focus')\r\n\t\t\t},\r\n\t\t\tblur() {\r\n\t\t\t\tif (!this.keyWord && this.watchToolIcon('scan')) {\r\n\t\t\t\t\tthis.entering = false\r\n\t\t\t\t}\r\n\t\t\t\tthis.$emit('blur', this.keyWord)\r\n\t\t\t},\r\n\t\t\tinput() {\r\n\t\t\t\tthis.entering = true\r\n\t\t\t\tthis.$emit('input', this.keyWord)\r\n\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t\tthis.$emit('confirm')\r\n\t\t\t},\r\n\t\t\tclear() {\r\n\t\t\t\tthis.keyWord = ''\r\n\t\t\t\tthis.$emit('clear')\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tscan() {\r\n\t\t\t\t// 扫码\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthis.$emit('scan', res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\t// 搜索\r\n\t\t\t\tthis.$emit('search', this.keyWord)\r\n\t\t\t},\r\n\r\n\t\t\tbtnClick() {\r\n\t\t\t\t// 按钮点击事件\r\n\t\t\t\tthis.$emit('btnClick', this.btnAttr.text)\r\n\r\n\t\t\t},\r\n\t\t\tvoice() {\r\n\t\t\t\tthis.openVoice = true\r\n\t\t\t},\r\n\t\t\tstartHandel() {\r\n\t\t\t\tconsole.log('按下录音按钮')\r\n\t\t\t\tthis.manager.start({\r\n\t\t\t\t\tlang: \"zh_CN\"\r\n\t\t\t\t})\r\n\t\t\t\tuni.vibrateShort({\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tthis.recordStatus = 0\r\n\t\t\t\t\t\tthis.recording = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tendHandle() {\r\n\t\t\t\t// 防止重复触发stop函数\r\n\t\t\t\tif (!this.recording || this.recordStatus !== 0) {\r\n\t\t\t\t\tconsole.warn(\"has finished!\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('松开了按钮')\r\n\t\t\t\tthis.manager.stop()\r\n\t\t\t\t// this.listenManagerStop()\r\n\t\t\t},\r\n\t\t\tlistenRecordLnit() {\r\n\t\t\t\tthis.listenManagerStart()\r\n\t\t\t\tthis.listenManagerStop()\r\n\t\t\t\tthis.listenManagerRecognize()\r\n\t\t\t\tthis.listenManagerError()\r\n\t\t\t},\r\n\t\t\tlistenManagerStart() {\r\n\t\t\t\tthis.manager.onStart = (res) => {\r\n\t\t\t\t\tconsole.log('开始录音', res)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlistenManagerRecognize() {\r\n\t\t\t\tthis.manager.onRecognize = (res) => {\r\n\t\t\t\t\tconsole.log('识别了新内容', res)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlistenManagerError() {\r\n\t\t\t\tthis.manager.onError = (res) => {\r\n\t\t\t\t\tconsole.log('识别错误事件', res)\r\n\t\t\t\t\tthis.recording = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlistenManagerStop() {\r\n\t\t\t\t// 识别结束事件\r\n\t\t\t\tthis.manager.onStop = (res) => {\r\n\t\t\t\t\tconsole.log('识别结束事件', res)\r\n\t\t\t\t\tlet text = res.result\r\n\t\t\t\t\tif (text === '') {\r\n\t\t\t\t\t\tthis.showRecordEmptyTip()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.recordStatus = 0\r\n\t\t\t\t\tthis.keyWord = res.result.substr(0, res.result.length - 1)\r\n\t\t\t\t\tthis.recording = false\r\n\t\t\t\t\tif (this.keyWord) {\r\n\t\t\t\t\t\tthis.$emit('manager', this.keyWord)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowRecordEmptyTip() {\r\n\t\t\t\tthis.recording = false\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '什么也没听到',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #ifdef  MP-WEIXIN\r\n\t\tonReady() {\r\n\t\t\tif (this.iconSrc.voice) {\r\n\t\t\t\tconst plugin = requirePlugin(\"WechatSI\")\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tthis.manager = plugin.getRecordRecognitionManager()\r\n\t\t\t\t\t\tthis.listenRecordLnit()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t\t// #endif\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped scoped>\r\n\t.search-input {\r\n\t\tdisplay: flex;\r\n\r\n\t\t&.btn-link-input {\r\n\t\t\t.input-wrap {\r\n\t\t\t\tborder-top-right-radius: 0 !important;\r\n\t\t\t\tborder-bottom-right-radius: 0 !important;\r\n\t\t\t\tborder-right: 0 !important;\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\tborder-top-left-radius: 0 !important;\r\n\t\t\t\tborder-bottom-left-radius: 0 !important;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.icon {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\theight: inherit;\r\n\t\t\tpadding: 10upx;\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tflex: 0 0 auto;\r\n\t\t\tmin-width: 60upx;\r\n\t\t\twidth: inherit;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbackground-image: '../../static/icon_search.png';\r\n\t\t}\r\n\r\n\r\n\t\t.input-wrap {\r\n\t\t\tflex: 1;\r\n\t\t\tposition: relative;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.placeholder-wrap {\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: inherit;\r\n\t\t\t\tbackground: transparent;\r\n\r\n\t\t\t\t&.center {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tpadding-left: 0 !important;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.left {\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.text {\r\n\t\t\t\t\tcolor: inherit;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.basic {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\theight: inherit;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tz-index: 2;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.icon-btn-wrap {\r\n\t\t\t\t\tflex: 0 0 auto;\r\n\t\t\t\t\theight: inherit;\r\n\t\t\t\t\tfont-size: $uni-font-size-base;\r\n\t\t\t\t\tcolor: $uni-text-color;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.input {\r\n\t\t\t\t\tfont-size: 28upx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\theight: calc(inherit-2upx);\r\n\t\t\t\t\ttext-align: left;\r\n\t\t\t\t\tcolor: inherit;\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\toutline: none;\r\n\t\t\t\t\tbackground:transparent;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.recond-btn {\r\n\t\tposition: fixed;\r\n\t\theight: 80upx;\r\n\t\tline-height: 80upx;\r\n\t\twidth: 80%;\r\n\t\tbottom: 60upx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 32upx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t\tborder-radius: 40upx;\r\n\t\ttext-align: center;\r\n\r\n\t\t&.disabled {\r\n\t\t\tbackground: rgba(67, 122, 249, 0.5);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@keyframes animate {\r\n\t\t0% {\r\n\t\t\ttransform: scale(1, 0)\r\n\t\t}\r\n\r\n\t\t20% {\r\n\t\t\ttransform: scale(1, 0.5)\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\ttransform: scale(1, 1)\r\n\t\t}\r\n\r\n\t\t80% {\r\n\t\t\ttransform: scale(1, 0.5)\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: scale(1, 0)\r\n\t\t}\r\n\t}\r\n\r\n\t.listen-wrap {\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\twidth: 300upx;\r\n\t\theight: 100upx;\r\n\t\ttransform: translate3d(-50%, -50%, 0);\r\n\t\t// background: rgba(67, 122, 249, 0.5);\r\n\t\tborder-radius: 50upx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 99999;\r\n\r\n\t\t.text {\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tmargin-right: 10upx;\r\n\t\t}\r\n\r\n\t\t.animate {\r\n\t\t\theight: 28upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: center;\r\n\r\n\t\t\t.one {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.1s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.1s;\r\n\t\t\t}\r\n\r\n\t\t\t.two {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.2s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.2s;\r\n\t\t\t}\r\n\r\n\t\t\t.three {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.3s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.3s;\r\n\t\t\t}\r\n\r\n\t\t\t.four {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.4s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.4s;\r\n\t\t\t}\r\n\r\n\t\t\t.five {\r\n\t\t\t\tanimation: animate 0.6s infinite 0.5s;\r\n\t\t\t\t-webkit-animation: animate 0.6s infinite 0.5s;\r\n\t\t\t}\r\n\r\n\t\t\t.one,\r\n\t\t\t.two,\r\n\t\t\t.three,\r\n\t\t\t.four,\r\n\t\t\t.five {\r\n\t\t\t\twidth: 4upx;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tmargin-left: 6upx;\r\n\t\t\t\tborder-radius: 50upx;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/components/search"}]}