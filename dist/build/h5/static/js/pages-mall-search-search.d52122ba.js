(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mall-search-search"],{"01b9":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".uni-countdown[data-v-ea7a1128]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#fe7f00;font-weight:600;padding:%?4?% %?20?%;border-radius:%?100?%;border:%?2?% solid #e8e8e8}.uni-countdown-else[data-v-ea7a1128]{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#393939;font-weight:600;border-radius:%?100?%;margin-left:%?8?%}.uni-countdown__splitor[data-v-ea7a1128]{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;line-height:%?44?%;padding:0 %?5?%;font-size:%?28?%}.uni-countdown__number[data-v-ea7a1128]{line-height:%?44?%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:%?44?%;font-size:%?30?%}.countdown-color[data-v-ea7a1128]{color:#fe7f00}",""])},"0852":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{class:t.original?"uni-countdown":"uni-countdown-else"},[t.showDay?n("v-uni-view",{staticClass:"uni-countdown__number",class:{"countdown-color":t.original}},[t._v(t._s(t.d))]):t._e(),t.showDay?n("v-uni-view",{staticClass:"uni-countdown__splitor",class:{"countdown-color":t.original}},[t._v("天")]):t._e(),n("v-uni-view",{staticClass:"uni-countdown__number",class:{"countdown-color":t.original}},[t._v(t._s(t.h))]),n("v-uni-view",{staticClass:"uni-countdown__splitor",class:{"countdown-color":t.original}},[t._v(t._s(t.showColon?":":"时"))]),n("v-uni-view",{staticClass:"uni-countdown__number",class:{"countdown-color":t.original}},[t._v(t._s(t.i))]),n("v-uni-view",{staticClass:"uni-countdown__splitor",class:{"countdown-color":t.original}},[t._v(t._s(t.showColon?":":"分"))]),n("v-uni-view",{staticClass:"uni-countdown__number",class:{"countdown-color":t.original}},[t._v(t._s(t.s))]),t.showColon?t._e():n("v-uni-view",{staticClass:"uni-countdown__splitor",class:{"countdown-color":t.original}},[t._v("秒")])],1)],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"18d7":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.search-input[data-v-0096c401]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.search-input.btn-link-input .input-wrap[data-v-0096c401]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.search-input.btn-link-input .btn[data-v-0096c401]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.search-input .icon[data-v-0096c401]{-webkit-box-sizing:border-box;box-sizing:border-box;height:inherit;padding:%?10?%}.search-input .btn[data-v-0096c401]{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;min-width:%?60?%;width:inherit;background-repeat:no-repeat;background-image:"../../static/icon_search.png"}.search-input .input-wrap[data-v-0096c401]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.search-input .input-wrap .placeholder-wrap[data-v-0096c401]{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;top:0;left:0;bottom:0;width:100%;height:inherit;background:rgba(0,0,0,0)}.search-input .input-wrap .placeholder-wrap.center[data-v-0096c401]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-left:0!important}.search-input .input-wrap .placeholder-wrap.left[data-v-0096c401]{-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search-input .input-wrap .placeholder-wrap .text[data-v-0096c401]{color:inherit}.search-input .input-wrap .basic[data-v-0096c401]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:inherit;width:100%;position:relative;z-index:2;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.search-input .input-wrap .basic .icon-btn-wrap[data-v-0096c401]{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;height:inherit;font-size:%?28?%;color:#333;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-sizing:border-box;box-sizing:border-box}.search-input .input-wrap .basic .input[data-v-0096c401]{font-size:%?28?%;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:calc(inherit-2upx);text-align:left;color:inherit;border:none;outline:none;background:rgba(0,0,0,0)}.icon-search[data-v-0096c401]{width:%?20?%;height:%?20?%}.recond-btn[data-v-0096c401]{position:fixed;height:%?80?%;line-height:%?80?%;width:80%;bottom:%?60?%;color:#fff;font-size:%?32?%;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border-radius:%?40?%;text-align:center}.recond-btn.disabled[data-v-0096c401]{background:rgba(67,122,249,.5)}@-webkit-keyframes animate-data-v-0096c401{0%{-webkit-transform:scaleY(0);transform:scaleY(0)}20%{-webkit-transform:scaleY(.5);transform:scaleY(.5)}50%{-webkit-transform:scale(1);transform:scale(1)}80%{-webkit-transform:scaleY(.5);transform:scaleY(.5)}to{-webkit-transform:scaleY(0);transform:scaleY(0)}}@keyframes animate-data-v-0096c401{0%{-webkit-transform:scaleY(0);transform:scaleY(0)}20%{-webkit-transform:scaleY(.5);transform:scaleY(.5)}50%{-webkit-transform:scale(1);transform:scale(1)}80%{-webkit-transform:scaleY(.5);transform:scaleY(.5)}to{-webkit-transform:scaleY(0);transform:scaleY(0)}}.listen-wrap[data-v-0096c401]{position:fixed;top:50%;left:50%;width:%?300?%;height:%?100?%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);border-radius:%?50?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;z-index:99999}.listen-wrap .text[data-v-0096c401]{font-size:%?28?%;margin-right:%?10?%}.listen-wrap .animate[data-v-0096c401]{height:%?28?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.listen-wrap .animate .one[data-v-0096c401]{animation:animate-data-v-0096c401 .6s infinite .1s;-webkit-animation:animate-data-v-0096c401 .6s infinite .1s}.listen-wrap .animate .two[data-v-0096c401]{animation:animate-data-v-0096c401 .6s infinite .2s;-webkit-animation:animate-data-v-0096c401 .6s infinite .2s}.listen-wrap .animate .three[data-v-0096c401]{animation:animate-data-v-0096c401 .6s infinite .3s;-webkit-animation:animate-data-v-0096c401 .6s infinite .3s}.listen-wrap .animate .four[data-v-0096c401]{animation:animate-data-v-0096c401 .6s infinite .4s;-webkit-animation:animate-data-v-0096c401 .6s infinite .4s}.listen-wrap .animate .five[data-v-0096c401]{animation:animate-data-v-0096c401 .6s infinite .5s;-webkit-animation:animate-data-v-0096c401 .6s infinite .5s}.listen-wrap .animate .five[data-v-0096c401],.listen-wrap .animate .four[data-v-0096c401],.listen-wrap .animate .one[data-v-0096c401],.listen-wrap .animate .three[data-v-0096c401],.listen-wrap .animate .two[data-v-0096c401]{width:%?4?%;height:100%;margin-left:%?6?%;border-radius:%?50?%;display:inline-block}',""])},"19e5":function(t,e,n){"use strict";n.r(e);var i=n("6cc8"),o=n("1bfd");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("c9d3");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"15995b76",null);e["default"]=c.exports},"1a1f":function(t,e,n){"use strict";n.r(e);var i=n("faec"),o=n("9fd2");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("c005");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"a172c916",null);e["default"]=c.exports},"1bfd":function(t,e,n){"use strict";n.r(e);var i=n("42a4"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"1e64":function(t,e,n){"use strict";var i=n("530e"),o=n.n(i);o.a},"1ebd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=l(n("a34a")),o=l(n("e143")),a=n("c440"),r=n("5177"),c=l(n("8a02")),s=l(n("19e5")),u=l(n("ef58"));function l(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n,i,o,a,r){try{var c=t[a](r),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(i,o)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var a=t.apply(e,n);function r(t){d(a,i,o,r,c,"next",t)}function c(t){d(a,i,o,r,c,"throw",t)}r(void 0)})}}var p=!1,h=[],g=o.default.extend({components:{iSearch:c.default,iNo:s.default,productList:u.default},data:function(){return{pageNum:1,pageSize:10,keyword:"",pageCount:1,productList:[],focus:!1,noShow:!1,isReseMode:!1,thumb:"http://www.mescroll.com/img/mescroll-empty.png?v=1",title:"暂无搜索数据",iconSrc:{logo:"/static/icon/icon_search.png",voice:"/static/img/icon_voice.png",scan:"/static/img/icon_scan.png",clear:"/static/img/icon_clear.png"}}},onLoad:function(t){console.log("onLoad",t)},onShow:function(){this.websocket()},onHide:function(){uni.closeSocket()},onUnload:function(){uni.closeSocket()},onReachBottom:function(){this.pageNum<this.pageCount&&(this.pageNum++,this.getListDataFromNet())},onShareAppMessage:function(t){return(0,a.onShareAppMessage)(t)},methods:{websocket:function(){var t=this;uni.connectSocket({url:"wss://websocket.tengpaisc.com"}),uni.onSocketOpen(function(e){console.log("WebSocket连接已打开！"),uni.hideLoading(),p=!0;for(var n=0;n<h.length;n++)t.sendSocketMessage(h[n]);h=[],t.onSocketMessage()}),uni.onSocketError(function(e){console.log("WebSocket连接打开失败，请检查！"),(0,a.showErrorToast)("断线重连中..."),t.websocket()})},sendSocketMessage:function(t){var e=JSON.stringify(t);console.log("发送数据",p,t),p?uni.sendSocketMessage({data:e}):h.push(t)},onSocketMessage:function(){var t=this;uni.onSocketMessage(function(e){var n=JSON.parse(e.data);console.log("收到服务器内容："+e.data);var i=n.msgType;if(null!=n)try{switch(i){case 21:t.productList.map(function(t){n.ActiveID===t.Active.ID&&(n.LastBill&&(t.Active.LastBillUserName=decodeURIComponent(n.LastBill.nick),t.Active.LastBillUserFace=n.LastBill.face),t.Price=n.Price,t.Active.SeqMiniSeconds=n.SeqMiniSeconds,t.Status=n.Status)});var o=JSON.parse(JSON.stringify(t.productList));t.productList=o,console.log(t.productList);break}}catch(a){console.error("处理消息出错："+a)}})},msgSubscribe:function(t){console.log("发送对该活动的消息订阅");var e=t,n=(0,a.formatTime)(new Date),i=this.isReseMode,o={msgType:20,msgTime:n,isReseMode:i,Activeids:e};this.sendSocketMessage(o)},blur:function(t){this.keyword=t,this.pageNum=1,this.getListDataFromNet()},search:function(t){this.keyword=t,this.pageNum=1,this.getListDataFromNet()},manager:function(t){this.keyword=t,this.pageNum=1,this.getListDataFromNet()},scan:function(t){this.keyword=t.result,this.pageNum=1,this.getListDataFromNet()},getListDataFromNet:function(){var t=f(i.default.mark(function t(){var e,n,o,a;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.pageNum,n=this.pageSize,t.next=4,this.getProductSearchList(e,n);case 4:o=t.sent,a=o.map(function(t){return t.Active.ID}),this.msgSubscribe(a),1==this.pageNum&&(this.productList=[]),this.productList=this.productList.concat(o),this.productList.length<=0?this.noShow=!0:this.noShow=!1;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getProductSearchList:function(t,e){var n=this;return new Promise(function(i,o){var c=n.keyword;if(c){var s={PageID:t,PageSize:e,Keyword:c};(0,a.request)(r.ProductSearchListGet,s).then(function(t){console.log(t),n.pageCount=t.PageCount,i(t.ProductList)}).catch(function(t){console.log(t)})}else(0,a.showToast)("请输入搜索词！")})}}});e.default=g},"23c8":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".i-image-view[data-v-665a69e0]{margin:%?8?% 0;padding:0 %?8?%}.i-product-image[data-v-665a69e0]{height:%?320?%;border-radius:%?8?%}.uni-product-price[data-v-665a69e0]{text-align:center}.uni-product-away[data-v-665a69e0]{margin-right:%?2?%}.uni-product-time[data-v-665a69e0]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding-right:%?2?%}.i-product-content[data-v-665a69e0]{border-bottom:%?2?% dashed #f4f4f4}.active-no[data-v-665a69e0]{color:#4d4d4d;font-weight:600;margin-right:%?10?%}.uni-product-button uni-button[data-v-665a69e0]{margin:0;padding:%?10?% %?14?%;font-size:%?28?%;line-height:1.4;color:#fff;background-color:#fe7f00;border-radius:%?40?%}",""])},3012:function(t,e,n){var i=n("23c8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("2c056f9a",i,!0,{sourceMap:!1,shadowMode:!1})},"332f":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"uni-page-body[data-v-a172c916]{background-color:#fff}.search[data-v-a172c916]{margin:%?20?% %?20?% 0 %?20?%}body.?%PAGE?%[data-v-a172c916]{background-color:#fff}",""])},"42a4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n("e143"));function o(t){return t&&t.__esModule?t:{default:t}}var a=i.default.extend({name:"Uno",props:{title:{type:String,default:""},thumb:{type:String,default:""}},data:function(){return{}},methods:{}});e.default=a},"530e":function(t,e,n){var i=n("18d7");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("2f2d121a",i,!0,{sourceMap:!1,shadowMode:!1})},"56c6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{class:["search-input",t.btnLinkInput?"btn-link-input":""],style:{height:t.getHeight}},[n("v-uni-view",{staticClass:"input-wrap",style:{fontSize:t.getFontSize,backgroundColor:t.getBackgroundColor,border:t.getBorder,borderWidth:t.getBorderWidth,borderRadius:t.getBorderRadius}},[t.keyWord||!t.getPlaceholderText||t.entering?t._e():n("v-uni-view",{class:["placeholder-wrap",t.getPlaceholderPosition],style:{paddingLeft:t.getPlaceholderPaddingLeft,color:t.getPlaceholderColor}},[t.showPlaceholderIcon?n("v-uni-image",{staticClass:"icon",style:{height:t.getIconHeight,width:t.getIconWidth,padding:t.getIconPadding,transform:"scale("+t.iconAttr.scale+")"},attrs:{mode:"aspectFit",src:t.iconSrc.placeholder}}):t._e(),n("v-uni-text",{staticClass:"text"},[t._v(t._s(t.getPlaceholderText))])],1),n("v-uni-view",{staticClass:"basic",style:{height:t.getHeight,borderRadius:t.getBorderRadius,color:t.getColor}},[t.showLogoIcon?n("v-uni-image",{staticClass:"icon icon-logo icon-search",style:{height:t.getIconHeight,width:t.getIconWidth,padding:t.getIconPadding,transform:"scale("+t.iconAttr.scale+")"},attrs:{mode:"aspectFit",src:t.iconSrc.logo},on:{click:function(e){e=t.$handleEvent(e),t.search(e)}}}):t._e(),"checkbox"===t.type?n("v-uni-input",{staticClass:"input",style:{paddingLeft:t.getPaddingLeft},attrs:{placeholder:"请输入需要搜索的商品名称！",password:t.password,disabled:t.disabled,maxlength:t.maxLength,"cursor-spacing":t.cursorSpacing,focus:t.focus,"confirm-type":t.confirmType,"confirm-hold":t.confirmHold,cursor:t.cursor,"selection-start":t.selectionStart,"selection-end":t.selectionEnd,"adjust-position":t.adjustPosition,type:"checkbox"},on:{focus:function(e){e=t.$handleEvent(e),t.inputFocus(e)},blur:function(e){e=t.$handleEvent(e),t.blur(e)},input:function(e){e=t.$handleEvent(e),t.input(e)},confirm:function(e){e=t.$handleEvent(e),t.confirm(e)}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"input",style:{paddingLeft:t.getPaddingLeft},attrs:{placeholder:"请输入需要搜索的商品名称！",password:t.password,disabled:t.disabled,maxlength:t.maxLength,"cursor-spacing":t.cursorSpacing,focus:t.focus,"confirm-type":t.confirmType,"confirm-hold":t.confirmHold,cursor:t.cursor,"selection-start":t.selectionStart,"selection-end":t.selectionEnd,"adjust-position":t.adjustPosition,type:"radio"},domProps:{checked:t._q(t.keyWord,null)},on:{focus:t.inputFocus,blur:t.blur,input:t.input,confirm:t.confirm,change:function(e){t.keyWord=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.keyWord,expression:"keyWord"}],staticClass:"input",style:{paddingLeft:t.getPaddingLeft},attrs:{placeholder:"请输入需要搜索的商品名称！",password:t.password,disabled:t.disabled,maxlength:t.maxLength,"cursor-spacing":t.cursorSpacing,focus:t.focus,"confirm-type":t.confirmType,"confirm-hold":t.confirmHold,cursor:t.cursor,"selection-start":t.selectionStart,"selection-end":t.selectionEnd,"adjust-position":t.adjustPosition,type:t.type},domProps:{value:t.keyWord},on:{focus:t.inputFocus,blur:t.blur,input:[function(e){e.target.composing||(t.keyWord=e.target.value)},t.input],confirm:t.confirm}}),n("v-uni-view",{staticClass:"icon-btn-wrap"},[t.showClearIcon?n("v-uni-image",{staticClass:"icon",style:{height:t.getIconHeight,width:t.getIconWidth,padding:t.getIconPadding,transform:"scale("+t.iconAttr.scale+")"},attrs:{mode:"aspectFit",src:t.iconSrc.clear},on:{click:function(e){e=t.$handleEvent(e),t.clear(e)}}}):t._e(),t.showSearchIcon?n("v-uni-image",{staticClass:"icon",style:{height:t.getIconHeight,width:t.getIconWidth,padding:t.getIconPadding,transform:"scale("+t.iconAttr.scale+")"},attrs:{mode:"aspectFit",src:t.iconSrc.search},on:{click:function(e){e=t.$handleEvent(e),t.search(e)}}}):t._e(),t._t("icon")],2)],1)],1),t.getBtnEnable?n("v-uni-view",{staticClass:"btn",style:{color:t.getBtnColor,backgroundColor:t.getBtnBackgroundColor,borderRadius:t.getBtnBorderRadius,fontSize:t.getBtnFontSize,border:t.getBtnBorder,borderWidth:t.getBtnBorderWidth,lineHeight:t.getHeight,paddingLeft:t.getBtnPaddingLeft,paddingRight:t.getBtnPaddingRight,backgroundImage:t.getBtnBackgroundImage,bacbackgroundPosition:t.getBtnBackgroundPosition,backgroundSize:t.getBtnbackgroundSize},on:{click:function(e){e=t.$handleEvent(e),t.btnClick(e)}}},[t._v(t._s(t.getBtnText))]):t._e()],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"64e9":function(t,e,n){"use strict";n.r(e);var i=n("6598"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},6598:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{keyWord:"",entering:!1,openVoice:!1,manager:null,recording:!1,recordStatus:0}},props:{btnLinkInput:{type:Boolean,default:!1},inputAttr:{type:Object,default:function(){return{}}},btnAttr:{type:Object,default:function(){return{}}},voiceAttr:{type:Object,default:function(){return{}}},iconAttr:{type:Object,default:function(){return{}}},iconSrc:{type:Object,default:function(){return{}}},type:{type:String,default:"text"},password:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxLength:{type:Number,default:-1},cursorSpacing:{type:Number,default:0},focus:{type:Boolean,default:!1},confirmType:{type:String,default:"搜索"},confirmHold:{type:Boolean,default:!1},cursor:{type:Number},selectionStart:{type:Number,default:-1},selectionEnd:{type:Number,default:-1},adjustPosition:{type:Boolean,default:!0}},watch:{showVoiceIcon:function(t){t||(this.openVoice=!1)},keyWord:function(t){0===t.length&&(this.entering=!1)}},computed:{showPlaceholderIcon:function(){return this.getPlaceholderText&&this.watchToolIcon("placeholder")},showLogoIcon:function(){return this.watchToolIcon("logo")},showVoiceIcon:function(){return this.watchToolIcon("voice")&&!this.keyWord},showScanIcon:function(){return this.watchToolIcon("scan")&&!this.entering&&!this.keyWord},showClearIcon:function(){return this.watchToolIcon("clear")&&this.keyWord},showSearchIcon:function(){return this.watchToolIcon("search")&&this.keyWord},getFontSize:function(){return uni.upx2px(this.inputAttr.fontSize||28)+"px"},getHeight:function(){return uni.upx2px(this.inputAttr.height&&this.inputAttr.height>70?this.inputAttr.height:70)+"px"},getBorder:function(){return this.inputAttr.border||"1px solid #c8c7cc"},getBorderWidth:function(){return uni.upx2px(this.inputAttr.borderWidth||1)+"px"},getBorderRadius:function(){return uni.upx2px(this.inputAttr.borderRadius||100)+"px"},getColor:function(){return this.inputAttr.color||"#333"},getBackgroundColor:function(){return this.inputAttr.backgroundColor||"#ffffff"},getPlaceholderPosition:function(){return this.inputAttr.placeholderPosition||"left"},getPlaceholderColor:function(){return this.inputAttr.placeholderColor||"#808080"},getPlaceholderText:function(){return this.inputAttr.placeholderText||" "},getPlaceholderPaddingLeft:function(){return this.showLogoIcon&&"left"===this.getPlaceholderPosition?uni.upx2px((this.iconAttr.width?this.iconAttr.width:this.inputAttr.height||70)+(this.inputAttr.paddingLeft||0))+"px":uni.upx2px(this.inputAttr.paddingLeft||20)+"px"},getPaddingLeft:function(){return this.showLogoIcon?uni.upx2px(this.inputAttr.paddingLeft||0)+"px":uni.upx2px(this.inputAttr.paddingLeft&&this.inputAttr.paddingLeft>20?this.inputAttr.paddingLeft:20)+"px"},getIconWidth:function(){return this.iconAttr.width?uni.upx2px(this.iconAttr.width)+"px":this.getHeight},getIconHeight:function(){return this.iconAttr.height?uni.upx2px(this.iconAttr.height)+"px":this.getHeight},getIconPadding:function(){return uni.upx2px(this.iconAttr.padding)+"px"},getBtnEnable:function(){return this.btnAttr.enable||!1},getBtnText:function(){return this.btnAttr.text||""},getBtnBackgroundColor:function(){return this.btnAttr.backgroundColor||"#ffffff"},getBtnColor:function(){return this.btnAttr.color||"#333"},getBtnBorder:function(){return this.btnAttr.border||"none"},getBtnBackgroundImage:function(){return"url("+this.btnAttr.backgroundImage+")"},getBtnBackgroundPosition:function(){return this.btnAttr.backgroundPosition||"center center"},getBtnbackgroundSize:function(){return this.btnAttr.backgroundSize||"contain"},getBtnBorderRadius:function(){return uni.upx2px(this.btnAttr.borderRadius||30)+"px"},getBtnFontSize:function(){return uni.upx2px(this.btnAttr.fontSize||28)+"px"},getBtnPaddingLeft:function(){return uni.upx2px(this.btnAttr.paddingLeft||10)+"px"},getBtnPaddingRight:function(){return uni.upx2px(this.btnAttr.paddingRight||0)+"px"},getBtnBorderWidth:function(){return uni.upx2px(this.btnAttr.borderWidth||1)+"px"},getVoiceAttrBtnColor:function(){return this.voiceAttr.btnColor||"#fff"},getVoiceAttrBtnActiveColor:function(){return this.voiceAttr.btnActiveColor||"#fff"},getVoiceAttrListenColor:function(){return this.voiceAttr.listenColor||"#fff"},getVoiceAttrBtnBackgroundColor:function(){return this.voiceAttr.BtnBackgroundColor||"#c8c7cc"},getVoiceAttrBtnBackgroundActiveColor:function(){return this.voiceAttr.BtnBackgroundActiveColor||"#fe7f00"},getVoiceAttrListenBackgroundColor:function(){return this.voiceAttr.listenBackgroundColor||"#fe7f00"},getVoiceAttrText:function(){return this.voiceAttr.text||"按住 说活"},getVoiceAttrActiveText:function(){return this.voiceAttr.activeText||"松开 结束"}},methods:{watchToolIcon:function(t){for(var e=!1,n=0,i=Object.keys(this.iconSrc);n<i.length;n++){var o=i[n];t===o&&this.iconSrc[o]&&(e=!0)}return e},inputFocus:function(){this.$emit("focus")},blur:function(){!this.keyWord&&this.watchToolIcon("scan")&&(this.entering=!1),this.$emit("blur",this.keyWord)},input:function(){this.entering=!0,this.$emit("input",this.keyWord)},confirm:function(){this.$emit("confirm")},clear:function(){this.keyWord="",this.$emit("clear")},scan:function(){uni.scanCode({success:function(t){this.$emit("scan",t)}})},search:function(){this.$emit("search",this.keyWord)},btnClick:function(){this.$emit("btnClick",this.btnAttr.text)},voice:function(){this.openVoice=!0},startHandel:function(){var t=this;console.log("按下录音按钮"),this.manager.start({lang:"zh_CN"}),uni.vibrateShort({success:function(){t.recordStatus=0,t.recording=!0}})},endHandle:function(){this.recording&&0===this.recordStatus?(console.log("松开了按钮"),this.manager.stop()):console.warn("has finished!")},listenRecordLnit:function(){this.listenManagerStart(),this.listenManagerStop(),this.listenManagerRecognize(),this.listenManagerError()},listenManagerStart:function(){this.manager.onStart=function(t){console.log("开始录音",t)}},listenManagerRecognize:function(){this.manager.onRecognize=function(t){console.log("识别了新内容",t)}},listenManagerError:function(){var t=this;this.manager.onError=function(e){console.log("识别错误事件",e),t.recording=!1}},listenManagerStop:function(){var t=this;this.manager.onStop=function(e){console.log("识别结束事件",e);var n=e.result;""!==n?(t.recordStatus=0,t.keyWord=e.result.substr(0,e.result.length-1),t.recording=!1,t.keyWord&&t.$emit("manager",t.keyWord)):t.showRecordEmptyTip()}},showRecordEmptyTip:function(){this.recording=!1,uni.showToast({title:"什么也没听到",icon:"none",duration:1e3})}}};e.default=i},6609:function(t,e,n){"use strict";var i=n("96a7"),o=n.n(i);o.a},"6cc8":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-no"},[n("v-uni-image",{attrs:{src:t.thumb,mode:"widthFix"}}),n("v-uni-view",{staticClass:"i-title"},[t._v(t._s(t.title))])],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"6f12":function(t,e,n){"use strict";n.r(e);var i=n("0852"),o=n("b627");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("6609");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"ea7a1128",null);e["default"]=c.exports},"7fd8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n("e143")),o=n("c440"),a=r(n("6f12"));function r(t){return t&&t.__esModule?t:{default:t}}var c=i.default.extend({components:{uniCountdown:a.default},name:"productList",props:{options:{type:Array}},data:function(){return{activeStatus:"马上参与"}},computed:{product:function(){var t=this,e=this.options;return e.map(function(e){try{switch(e.Status){case 0:t.activeStatus=t.activeStatus;break;case 1:t.activeStatus=t.activeStatus;break;case 2:t.activeStatus=t.activeStatus;break;case 3:t.activeStatus=t.activeStatus;break;case 4:var n="参与下一期";t.activeStatus=n;break}}catch(f){console.error("处理消息出错："+f)}var i=e.Active.SeqMiniSeconds,o=i/864e5,a=parseInt(o),r=i%864e5/36e5,c=parseInt(r),s=i%36e5/6e4,u=parseInt(s),l=i%6e4/1e3,d=parseInt(l);e.Active.day=a,e.Active.hour=c,e.Active.minute=u,e.Active.second=d,e.seconds=60*a*60*24+60*c*60+60*u+d}),e=JSON.parse(JSON.stringify(e)),e}},methods:{productDetailsTo:function(t){(0,o.navigateTo)("/pages/mall/productDetailsPage/productDetailsPage?activeID="+t)}}});e.default=c},8174:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"uni-product-list"},t._l(t.product,function(e,i){return n("v-uni-view",{key:i,staticClass:"uni-product"},[n("v-uni-view",{staticClass:"i-product-content",on:{click:function(n){n=t.$handleEvent(n),t.productDetailsTo(e.Active.ID)}}},[n("v-uni-view",{staticClass:"i-image-view"},[n("v-uni-image",{staticClass:"i-product-image",attrs:{src:e.ProductPicList[0],mode:"aspectFit"}})],1),n("v-uni-view",{staticClass:"uni-product-title product-title"},[n("v-uni-text",{staticClass:"active-no"},[t._v("["+t._s(e.Active.ActiveNo)+"期]")]),n("v-uni-text",[t._v(t._s(e.ProductTitle))])],1),e.Active.PrevActiveMoney>0?n("v-uni-view",{staticClass:"uni-product-price"},[n("v-uni-text",{staticClass:"uni-product-text"},[t._v("上期成交：")]),n("v-uni-text",{staticClass:"uni-product-price-original"},[t._v("￥"+t._s(e.Active.PrevActiveMoney))])],1):t._e(),e.Active.LastBillUserName?n("v-uni-view",{staticClass:"uni-product-title uni-product-price"},[n("v-uni-text",{staticClass:"uni-product-text"},[t._v(t._s(e.Active.LastBillUserName))])],1):t._e()],1),n("v-uni-view",{staticClass:"uni-product-prompt"},[n("v-uni-view",{staticClass:"uni-product-time"},[n("v-uni-text",{staticClass:"uni-product-away"},[t._v("距离开拍")]),n("uni-countdown",{attrs:{seconds:e.seconds}})],1),n("v-uni-view",{staticClass:"uni-product-button"},[n("v-uni-button",{staticClass:"btn",on:{click:function(n){n=t.$handleEvent(n),t.productDetailsTo(e.Active.ID)}}},[t._v(t._s(t.activeStatus))])],1)],1)],1)}),1)],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"8a02":function(t,e,n){"use strict";n.r(e);var i=n("56c6"),o=n("64e9");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("1e64");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"0096c401",null);e["default"]=c.exports},9163:function(t,e,n){"use strict";n.r(e);var i=n("7fd8"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},"96a7":function(t,e,n){var i=n("01b9");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("45142d34",i,!0,{sourceMap:!1,shadowMode:!1})},"9fd2":function(t,e,n){"use strict";n.r(e);var i=n("1ebd"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},a19c:function(t,e,n){"use strict";var i=n("3012"),o=n.n(i);o.a},a9c1:function(t,e,n){var i=n("c4d5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("3ad90ed3",i,!0,{sourceMap:!1,shadowMode:!1})},b627:function(t,e,n){"use strict";n.r(e);var i=n("bc8b"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},bc8b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"UniCountdown",props:{original:{type:Boolean,default:!1},showDay:{type:Boolean,default:!1},showColon:{type:Boolean,default:!0},seconds:{type:Number,default:0}},data:function(){return{timer:null,d:"00",h:"00",i:"00",s:"00",leftTime:0,secondes:0}},watch:{seconds:{handler:function(t,e){var n=this;clearInterval(this.timer),this.secondes=t||e,console.log(this.secondes),this.countDown(),this.timer=setInterval(function(){n.secondes--,n.secondes<0?n.timeUp():n.countDown()},1e3)},deep:!0,immediate:!0}},computed:{secondsData:function(){console.log("this.seconds",this.seconds);var t=100;return t}},beforeDestroy:function(){clearInterval(this.timer)},methods:{toSeconds:function(t,e,n,i){return 60*t*60*24+60*e*60+60*n+i},timeUp:function(){clearInterval(this.timer),this.$emit("timeup")},countDown:function(){var t=this.secondes,e=0,n=0,i=0,o=0;t>0?(e=Math.floor(t/86400),n=Math.floor(t/3600)-24*e,i=Math.floor(t/60)-24*e*60-60*n,o=Math.floor(t)-24*e*60*60-60*n*60-60*i):this.timeUp(),e<10&&(e="0"+e),n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),n=+n+24*e,this.d=e,this.h=n,this.i=i,this.s=o}}};e.default=i},c005:function(t,e,n){"use strict";var i=n("da35"),o=n.n(i);o.a},c4d5:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".u-no[data-v-15995b76]{position:absolute;top:%?200?%;left:0;right:0;bottom:0;text-align:center}.u-no uni-image[data-v-15995b76]{width:40%;height:100%}.i-title[data-v-15995b76]{font-size:%?28?%;line-height:1.8;color:#999;margin:%?40?% 0}",""])},c9d3:function(t,e,n){"use strict";var i=n("a9c1"),o=n.n(i);o.a},da35:function(t,e,n){var i=n("332f");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("c25246b6",i,!0,{sourceMap:!1,shadowMode:!1})},ef58:function(t,e,n){"use strict";n.r(e);var i=n("8174"),o=n("9163");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("a19c");var r=n("2877"),c=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"665a69e0",null);e["default"]=c.exports},faec:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"search"},[n("i-search",{attrs:{iconSrc:t.iconSrc,focus:t.focus},on:{blur:function(e){e=t.$handleEvent(e),t.blur(e)},search:function(e){e=t.$handleEvent(e),t.search(e)},manager:function(e){e=t.$handleEvent(e),t.manager(e)},scan:function(e){e=t.$handleEvent(e),t.scan(e)}}})],1),n("v-uni-view",{staticClass:"product-list"},[n("product-list",{attrs:{options:t.productList}})],1),t.noShow?n("v-uni-view",{staticClass:"no"},[n("i-no",{attrs:{thumb:t.thumb,title:t.title}})],1):t._e()],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})}}]);