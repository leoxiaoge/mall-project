(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ucenter/login/login"],{7026:function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=s(o("66fd")),i=o("2f62"),r=o("c440"),c=o("5177");function s(e){return e&&e.__esModule?e:{default:e}}function u(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{},t=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(n){l(e,n,o[n])})}return e}function l(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var a=function(){return o.e("components/uni-icon/uni-icon").then(o.bind(null,"f0ab"))},f=t.default.extend({components:{uniIcon:a},computed:u({},(0,i.mapState)(["hasLogin"])),data:function(){return{logo:"/static/icon/icon_login.png",checked:!0,Mobile:"",LoginCode:"",time:"获取验证码",currentTime:60,disabled:!1,interval:""}},onLoad:function(n){console.log(this.$store.state),e.getProvider({service:"oauth",success:function(n){console.log(n.provider),~n.provider.indexOf("weixin")&&e.login({provider:"weixin",success:function(n){console.log(JSON.stringify(n));var o=n.code,t={JSCode:o};(0,r.request)(c.GetWXOpenID,t).then(function(n){console.log(n);var o=n.OpenID;e.setStorageSync("OpenID",o)})}})}})},onUnload:function(){var e=this.interval;clearInterval(e)},methods:u({},(0,i.mapMutations)(["login"]),{mobileInput:function(e){console.log(e),this.Mobile=e.detail.value},codeInput:function(e){console.log(e),this.LoginCode=e.detail.value},getCode:function(e){var n=this;console.log(e);var o=this.Mobile;if(o){this.getLoginCode();var t=this.currentTime;this.time=t+"s后可重发",this.disabled=!0;var i=setInterval(function(){n.time=t-1+"s后可重发",t--,t<=0&&(clearInterval(i),n.time="重新获取",n.currentTime=60,n.disabled=!1)},1e3);this.interval=i}else(0,r.showToast)("手机号码不能为空！")},getLoginCode:function(){var e=this.Mobile,n={Mobile:e};(0,r.request)(c.GetLoginCode,n).then(function(e){console.log(e),(0,r.showToast)("发送成功！")})},radioClick:function(){this.checked=!this.checked},userLogin:function(){var n=this.Mobile,o=this.LoginCode;if(n)if(o){var t={Mobile:n,LoginCode:o};(0,r.request)(c.UserLogin,t).then(function(n){console.log(n);var o=n.SessionKey,t=n.UserInfo;e.setStorageSync("SessionKey",o),e.setStorageSync("UserInfo",t),(0,r.showToast)("登录成功！")})}else(0,r.showToast)("验证码不能为空！");else(0,r.showToast)("手机号码不能为空！")},getuserinfo:function(e){console.log(e)}})});n.default=f}).call(this,o("543d")["default"])},7461:function(e,n,o){"use strict";o.r(n);var t=o("b914"),i=o("d753");for(var r in i)"default"!==r&&function(e){o.d(n,e,function(){return i[e]})}(r);o("8603");var c=o("2877"),s=Object(c["a"])(i["default"],t["a"],t["b"],!1,null,null,null);n["default"]=s.exports},8603:function(e,n,o){"use strict";var t=o("918c"),i=o.n(t);i.a},"918c":function(e,n,o){},b914:function(e,n,o){"use strict";var t=function(){var e=this,n=e.$createElement;e._self._c},i=[];o.d(n,"a",function(){return t}),o.d(n,"b",function(){return i})},d753:function(e,n,o){"use strict";o.r(n);var t=o("7026"),i=o.n(t);for(var r in t)"default"!==r&&function(e){o.d(n,e,function(){return t[e]})}(r);n["default"]=i.a}},[["a773","common/runtime","common/vendor"]]]);